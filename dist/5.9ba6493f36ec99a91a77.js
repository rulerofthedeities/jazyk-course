(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{DJ0j:function(l,n){},mcpX:function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),u=function(){},o=e("z/Lv"),i=e("ZYCi"),r=function(){},s=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function a(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](1,212992,null,0,i.p,[i.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null)],function(l,n){l(n,1,0)},null)}var c=t["\u0275ccf"]("ng-component",r,function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,a,s)),t["\u0275did"](1,49152,null,0,r,[],null,null)],null,null)},{},{},[]),d=e("vSV7"),p=e("QHbJ"),g=e("8nS+"),f=e("omCk"),m=e("xNK6"),h=e("qfBg"),v=e("0AbP"),b=e("0ygI"),x=e("lGQG"),C=e("zuHl"),w=e("9vc0"),y=e("Ip0R"),I=e("HMtG"),R=e("d6iw"),E=e("U2BN"),S=e("vbDk"),D=e("5tAl"),k=function(){function l(l,n){this.http=l,this.authService=n}return l.prototype.fetchCourse=function(l){return this.http.get("/api/build/course/"+l).pipe(Object(D.a)(3))},l.prototype.fetchAuthorCourses=function(){return this.http.get("/api/build/courses").pipe(Object(D.a)(3))},l.prototype.addCourse=function(l){return this.http.post("/api/build/course",JSON.stringify(l))},l.prototype.updateCourseHeader=function(l){return this.http.put("/api/build/course/header",JSON.stringify(l))},l.prototype.updateCourseProperty=function(l,n,e){var t,u=((t={})[n]=e,t);return this.http.patch("/api/build/course/property/"+l,JSON.stringify(u))},l.prototype.updateCourseLesson=function(l,n,e){return this.http.patch("/api/build/course/lesson/"+l,JSON.stringify({chapterName:n,lessonId:e}))},l.prototype.updateLessonIds=function(l,n){return this.http.put("/api/build/lessonIds/"+l,JSON.stringify(n))},l.prototype.addChapter=function(l,n,e){return this.http.post("/api/build/chapter/"+l+"/"+e,JSON.stringify({chapterName:n,lesson:{chapter:n,lessonIds:[e]}}))},l.prototype.removeChapter=function(l,n){return this.http.put("/api/build/chapter/"+l,JSON.stringify({name:n}))},l.prototype.updateChapters=function(l,n){return this.http.put("/api/build/chapters/"+l,JSON.stringify(n))},l.prototype.getCourseChapters=function(l){return l.chapters},l.prototype.fetchLessons=function(l){return this.http.get("/api/lessons/"+l).pipe(Object(D.a)(3))},l.prototype.fetchLesson=function(l){return this.http.get("/api/lesson/"+l).pipe(Object(D.a)(3))},l.prototype.addLesson=function(l){return this.http.post("/api/build/lesson",JSON.stringify(l))},l.prototype.updateLessonHeader=function(l){return this.http.put("/api/build/lesson/header",JSON.stringify(l))},l.prototype.removeLesson=function(l){return this.http.delete("/api/build/lesson/"+l)},l.prototype.fetchIntro=function(l){return this.http.get("/api/lesson/intro/"+l).pipe(Object(D.a)(3))},l.prototype.updateIntro=function(l,n){return this.http.put("/api/build/lesson/intro/"+l,{intro:n})},l.prototype.fetchDialogue=function(l){return this.http.get("/api/lesson/dialogue/"+l).pipe(Object(D.a)(3))},l.prototype.updateDialogue=function(l,n){return this.http.put("/api/build/lesson/dialogue/"+l,{dialogue:n})},l.prototype.checkIfWordpairInCourse=function(l,n,e,t){return this.http.get("/api/build/check/wpincourse/"+t+"/"+e+"/"+l+"/"+n).pipe(Object(D.a)(3))},l.prototype.fetchFilterWordPairs=function(l,n){var e={word:l.word,languagePair:n.from.slice(0,2)+";"+n.to.slice(0,2),languageId:l.languageId,limit:l.limit.toString(),isFromStart:l.isFromStart.toString(),isExact:l.isExact.toString(),getTotal:l.getTotal.toString()};return this.http.get("/api/build/wordpairs",{params:e}).pipe(Object(D.a)(3))},l.prototype.fetchWordPairDetail=function(l){return this.http.get("/api/build/wordpair/"+l).pipe(Object(D.a)(3))},l.prototype.fetchMedia=function(l){return this.http.get("/api/build/wordpair/media/"+l).pipe(Object(D.a)(3))},l.prototype.addExercises=function(l,n){return this.http.post("/api/build/exercise/"+n,JSON.stringify(l))},l.prototype.updateExercise=function(l,n){return this.http.put("/api/build/exercise/"+n,JSON.stringify(l))},l.prototype.updateExercises=function(l,n){return this.http.put("/api/build/exercises/"+n,JSON.stringify(l))},l.prototype.removeExercise=function(l,n){return this.http.delete("/api/build/exercise/"+n+"/"+l)},l.prototype.fetchLanConfig=function(l){return this.http.get("/api/config/lan/"+l).pipe(Object(D.a)(3))},l.prototype.fetchLanConfigs=function(l){return this.http.get("/api/config/lanpair/"+l.from+"/"+l.to).pipe(Object(D.a)(3))},l}(),T=e("3lxF"),_=e("jvbL"),O=function(){function l(l,n,e,t,u){this.router=l,this.buildService=n,this.errorService=e,this.utilsService=t,this.userService=u,this.componentActive=!0,this.lanCourses={},this.text={},this.isLoading=!1,this.multipleLanguages=!1,this.listType=T.b,this.coursesReady=!1,this.isError=!1}return l.prototype.ngOnInit=function(){this.getDependables()},l.prototype.onNewCourse=function(){this.router.navigate(["/build/course/new"])},l.prototype.onLanguageSelected=function(l){this.selectedLanguage=l,this.filterCourses()},l.prototype.getCourses=function(){var l=this;this.isLoading=!0,this.buildService.fetchAuthorCourses().pipe(Object(_.a)(function(){return l.componentActive})).subscribe(function(n){l.isLoading=!1,l.courses=n,n&&n.length&&l.getLanguages(),l.coursesReady=!0},function(n){l.errorService.handleError(n),l.isError=!0})},l.prototype.getLanguages=function(){var l,n=this,e=[];this.activeLanguages.slice().filter(function(t){(l=n.courses.filter(function(l){return l.languagePair.to===t.code})).length>0&&(e.push(t),n.lanCourses[t.code]=l)}),this.languages=e,this.selectedLanguage=this.userService.getUserLearnLanguage(this.languages),this.filterCourses(),this.languages.length>1&&(this.multipleLanguages=!0)},l.prototype.filterCourses=function(){var l;l=this.selectedLanguage?this.selectedLanguage.code:this.getDefaultLanguage(),this.courses=this.lanCourses[l]?this.lanCourses[l]:null},l.prototype.getDefaultLanguage=function(){var l="";return this.activeLanguages.length>0&&(l=this.activeLanguages[0].code),l},l.prototype.getDependables=function(){var l=this;this.utilsService.fetchDependables({lan:this.userService.user.main.lan,component:"CoursesComponent",getTranslations:!0,getLanguages:!0}).pipe(Object(_.a)(function(){return l.componentActive})).subscribe(function(n){l.text=l.utilsService.getTranslatedText(n.translations),l.activeLanguages=n.courseLanguages,l.utilsService.setPageTitle(l.text,"Teach"),l.getCourses()},function(n){return l.errorService.handleError(n)})},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),P=t["\u0275crt"]({encapsulation:0,styles:[d.a],data:{}});function N(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","form-group form-group-lg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","col-xs-12 lan-selector"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"km-language-selector",[],null,[[null,"languageSelected"],["document","click"]],function(l,n,e){var u=!0,o=l.component;return"document:click"===n&&(u=!1!==t["\u0275nov"](l,4).clickout(e)&&u),"languageSelected"===n&&(u=!1!==o.onLanguageSelected(e)&&u),u},p.b,p.a)),t["\u0275did"](4,573440,null,0,g.a,[t.ElementRef],{languages:[0,"languages"],currentLanguage:[1,"currentLanguage"],text:[2,"text"]},{languageSelected:"languageSelected"}),(l()(),t["\u0275eld"](5,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null))],function(l,n){var e=n.component;l(n,4,0,e.languages,e.selectedLanguage,e.text)},null)}function F(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"km-course-summary",[],null,null,null,f.b,f.a)),t["\u0275did"](2,245760,null,0,m.a,[i.l,h.a,v.a,b.a,x.a,C.a,w.a],{course:[0,"course"],text:[1,"text"],showAccess:[2,"showAccess"],tpe:[3,"tpe"]},null)],function(l,n){var e=n.component;l(n,2,0,n.context.$implicit,e.text,!0,e.listType.Teach)},null)}function L(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ul",[["class","list-unstyled"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,F)),t["\u0275did"](2,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.courses)},null)}function A(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"km-info-msg",[],null,null,null,I.b,I.a)),t["\u0275did"](2,49152,null,0,R.a,[],{msg:[0,"msg"]},null),(l()(),t["\u0275eld"](3,0,null,null,3,"div",[["class","panel panel-default"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,2,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onNewCourse()&&t),t},null,null)),(l()(),t["\u0275ted"](6,null,[" "," "]))],function(l,n){l(n,2,0,n.component.text.Nocourses)},function(l,n){l(n,6,0,n.component.text.Newcourselg)})}function V(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,L)),t["\u0275did"](2,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,A)),t["\u0275did"](4,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,null==e.courses?null:e.courses.length),l(n,4,0,!e.courses.length)},null)}function j(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-loader",[],null,null,null,E.b,E.a)),t["\u0275did"](1,114688,null,0,S.a,[],{msg:[0,"msg"]},null)],function(l,n){l(n,1,0,n.component.text.LoadingCourses)},null)}function M(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-success btn-new-course"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onNewCourse()&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","fa fa-file fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["","\n"])),(l()(),t["\u0275and"](16777216,null,null,1,null,N)),t["\u0275did"](4,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,V)),t["\u0275did"](6,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,j)),t["\u0275did"](8,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,4,0,e.multipleLanguages),l(n,6,0,e.coursesReady),l(n,8,0,e.isLoading&&!e.isError)},function(l,n){l(n,2,0,n.component.text.newcourse)})}var $=t["\u0275ccf"]("ng-component",O,function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,M,P)),t["\u0275did"](1,245760,null,0,O,[i.l,k,w.a,b.a,h.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),q=[".footer[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]{display:block;padding:16px;border-radius:6px;margin:0 -15px 15px}.indicators[_ngcontent-%COMP%]{margin-right:24px}.indicators[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:24px;color:#ccc;text-align:center}.indicators.edit[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{cursor:pointer}.indicators[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%], .indicators[_ngcontent-%COMP%]   .fa-user[_ngcontent-%COMP%], .indicators[_ngcontent-%COMP%]   .fa-wifi[_ngcontent-%COMP%]{color:green}h2[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-bottom:6px;margin-left:24px}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.fa-wifi[_ngcontent-%COMP%], .indicators[_ngcontent-%COMP%]   .fa.disabled[_ngcontent-%COMP%]{cursor:default!important}.access[_ngcontent-%COMP%]{font-size:18px;line-height:36px}.title[_ngcontent-%COMP%]{margin:0 12px}"],W=e("4sBp"),B=e("L7v4"),U=e("bhnQ"),z=function(){function l(l,n,e,u,o){this.router=l,this.buildService=n,this.sharedService=e,this.userService=u,this.errorService=o,this.canEditCourse=!1,this.showLink=!1,this.edit=new t.EventEmitter,this.componentActive=!0,this.savingData={isPublic:!1,isPublished:!1}}return l.prototype.ngOnInit=function(){this.userService.getAccessLevel(this.course.access)<4&&(this.canEditCourse=!1)},l.prototype.onEditCourse=function(){this.canEditCourse&&this.edit.emit(!0)},l.prototype.onStartCourse=function(){this.course.isPublished&&(this.userService.subscribeToCourse(this.course),this.log("Start course '"+this.course.name+"'"),this.router.navigate(["/learn/course/"+this.course._id]))},l.prototype.onTestCourse=function(){this.router.navigate(["/learn/course/"+this.course._id])},l.prototype.onToggle=function(l){this.canEditCourse&&!this.savingData[l]&&("isPublished"===l&&!1!==this.course.isPublished||(this.course[l]=!this.course[l],this.updateCourseProperty(l)))},l.prototype.getAccess=function(){var l=this.userService.getAccessLevel(this.course.access);return this.text[T.a[l]]||"?"},l.prototype.getToolTip=function(l){var n,e=this.course[l];switch(l){case"isPublic":n=e?"iCoursePublic":"iCourseNotPublic";break;case"isPublished":n=e?"iCoursePublished":"iCourseNotPublished";break;case"isInProgress":n=e?"iCourseInProgress":"iCourseComplete"}return n?this.text[n]:""},l.prototype.updateCourseProperty=function(l){var n=this;this.savingData[l]=!0,this.buildService.updateCourseProperty(this.course._id,l,this.course[l]).pipe(Object(_.a)(function(){return n.componentActive})).subscribe(function(e){return n.savingData[l]=!1},function(l){return n.errorService.handleError(l)})},l.prototype.log=function(l){this.sharedService.sendEventMessage({message:l,source:"CourseSummaryComponent"})},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),H=t["\u0275crt"]({encapsulation:0,styles:[q],data:{}});function G(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"a",[["class","title"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,1).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),t["\u0275did"](1,671744,null,0,i.n,[i.l,i.a,y.LocationStrategy],{routerLink:[0,"routerLink"]},null),(l()(),t["\u0275ted"](2,null,["",""]))],function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"/build/course/",n.component.course._id,""))},function(l,n){var e=n.component;l(n,0,0,t["\u0275nov"](n,1).target,t["\u0275nov"](n,1).href),l(n,2,0,e.course.name)})}function K(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.course.name)})}function J(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"span",[["class","indicators"]],[[2,"edit",null]],null,null,null,null)),(l()(),t["\u0275eld"](1,16777216,null,null,3,"span",[["class","fa fa-spacing"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],function(l,n,e){var u=!0,o=l.component;return"focusin"===n&&(u=!1!==t["\u0275nov"](l,4).show()&&u),"mouseenter"===n&&(u=!1!==t["\u0275nov"](l,4).show()&&u),"focusout"===n&&(u=!1!==t["\u0275nov"](l,4).hide()&&u),"mouseleave"===n&&(u=!1!==t["\u0275nov"](l,4).hide()&&u),"click"===n&&(u=!1!==o.onToggle("isPublic")&&u),u},null,null)),t["\u0275did"](2,278528,null,0,y.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{disabled:0,"fa-lock":1,"fa-user":2}),t["\u0275did"](4,16384,null,0,W.Tooltip,[t.ViewContainerRef,t.ComponentFactoryResolver],{content:[0,"content"],tooltipPlacement:[1,"tooltipPlacement"]},null),(l()(),t["\u0275eld"](5,16777216,null,null,3,"span",[["class","fa fa-spacing"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],function(l,n,e){var u=!0,o=l.component;return"focusin"===n&&(u=!1!==t["\u0275nov"](l,8).show()&&u),"mouseenter"===n&&(u=!1!==t["\u0275nov"](l,8).show()&&u),"focusout"===n&&(u=!1!==t["\u0275nov"](l,8).hide()&&u),"mouseleave"===n&&(u=!1!==t["\u0275nov"](l,8).hide()&&u),"click"===n&&(u=!1!==o.onToggle("isPublished")&&u),u},null,null)),t["\u0275did"](6,278528,null,0,y.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](7,{disabled:0,"fa-power-off":1,"fa-wifi":2}),t["\u0275did"](8,16384,null,0,W.Tooltip,[t.ViewContainerRef,t.ComponentFactoryResolver],{content:[0,"content"],tooltipPlacement:[1,"tooltipPlacement"]},null),(l()(),t["\u0275eld"](9,16777216,null,null,3,"span",[["class","fa fa-spacing"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],function(l,n,e){var u=!0,o=l.component;return"focusin"===n&&(u=!1!==t["\u0275nov"](l,12).show()&&u),"mouseenter"===n&&(u=!1!==t["\u0275nov"](l,12).show()&&u),"focusout"===n&&(u=!1!==t["\u0275nov"](l,12).hide()&&u),"mouseleave"===n&&(u=!1!==t["\u0275nov"](l,12).hide()&&u),"click"===n&&(u=!1!==o.onToggle("isInProgress")&&u),u},null,null)),t["\u0275did"](10,278528,null,0,y.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](11,{disabled:0,"fa-industry":1,"fa-check":2}),t["\u0275did"](12,16384,null,0,W.Tooltip,[t.ViewContainerRef,t.ComponentFactoryResolver],{content:[0,"content"],tooltipPlacement:[1,"tooltipPlacement"]},null)],function(l,n){var e=n.component;l(n,2,0,"fa fa-spacing",l(n,3,0,null==e.savingData?null:e.savingData.isPublic,!e.course.isPublic,e.course.isPublic)),l(n,4,0,e.getToolTip("isPublic"),"top"),l(n,6,0,"fa fa-spacing",l(n,7,0,null==e.savingData?null:e.savingData.isPublished,!e.course.isPublished,e.course.isPublished)),l(n,8,0,e.getToolTip("isPublished"),"top"),l(n,10,0,"fa fa-spacing",l(n,11,0,null==e.savingData?null:e.savingData.isPublished,e.course.isInProgress,!e.course.isInProgress)),l(n,12,0,e.getToolTip("isInProgress"),"top")},function(l,n){l(n,0,0,n.component.canEditCourse)})}function Z(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditCourse()&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","fa fa-pencil fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[" "," "]))],null,function(l,n){l(n,2,0,n.component.text.Edit)})}function Q(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onStartCourse()&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","fa fa-arrow-right fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[" "," "]))],null,function(l,n){l(n,2,0,n.component.text.startcourse)})}function X(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-info"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onTestCourse()&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","fa fa-arrow-right fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[" "," "]))],null,function(l,n){l(n,2,0,n.component.text.testcourse)})}function Y(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,17,"h1",[["class","header transparant"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"km-region-flag",[],null,null,null,B.b,B.a)),t["\u0275did"](2,49152,null,0,U.a,[],{lan:[0,"lan"],word:[1,"word"]},null),(l()(),t["\u0275eld"](3,0,null,null,2,"span",[["class","access pull-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"span",[["class","fa fa-key fa-spacing-title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,[""," "])),(l()(),t["\u0275and"](16777216,null,null,1,null,G)),t["\u0275did"](7,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,K)),t["\u0275did"](9,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,J)),t["\u0275did"](11,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Z)),t["\u0275did"](13,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Q)),t["\u0275did"](15,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,X)),t["\u0275did"](17,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,null==e.course?null:e.course.languagePair.to,null==e.course?null:e.course.defaults),l(n,7,0,e.showLink),l(n,9,0,!e.showLink),l(n,11,0,!e.showLink),l(n,13,0,e.canEditCourse),l(n,15,0,e.course.isPublished),l(n,17,0,!e.course.isPublished)},function(l,n){l(n,5,0,n.component.getAccess())})}var ll=e("gIcY"),nl=e("Cnnh"),el=e("bwbC"),tl=function(){function l(){this.newRegion=new t.EventEmitter,this.showDropdown=!1}return l.prototype.ngOnInit=function(){this.region||(this.region=this.regions.length?this.regions[0]:this.lan)},l.prototype.onToggle=function(){this.regions.length&&(this.showDropdown=!this.showDropdown)},l.prototype.onLeave=function(){this.hover=null},l.prototype.onHoverRegion=function(l){this.hover=l},l.prototype.onSelectRegion=function(l){this.region=l,this.showDropdown=!1,this.hover=null,this.newRegion.emit(l)},l}(),ul=t["\u0275crt"]({encapsulation:0,styles:[[".flags[_ngcontent-%COMP%]{position:relative;z-index:10;height:22px;width:34px;font-size:12px}.region-list[_ngcontent-%COMP%]{position:absolute}.hover[_ngcontent-%COMP%]{border-color:red}.clickable[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function ol(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"img",[["class","flag"]],[[8,"src",4],[2,"hover",null]],null,null,null,null))],null,function(l,n){var e=n.component;l(n,0,0,t["\u0275inlineInterpolate"](1,"/assets/img/flags/",n.parent.context.$implicit,".png"),e.hover===n.parent.context.index)})}function il(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"li",[],null,[[null,"click"],[null,"mouseover"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onSelectRegion(l.context.$implicit)&&t),"mouseover"===n&&(t=!1!==u.onHoverRegion(l.context.index)&&t),t},null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ol)),t["\u0275did"](2,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.context.$implicit!==n.component.region)},null)}function rl(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,il)),t["\u0275did"](1,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,n){l(n,1,0,n.component.regions)},null)}function sl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","flags"]],null,[[null,"mouseout"]],function(l,n,e){var t=!0;return"mouseout"===n&&(t=!1!==l.component.onLeave()&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"ul",[["class","region-list list-unstyled"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"li",[],[[2,"clickable",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onToggle()&&t),t},null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"img",[["class","flag"]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,rl)),t["\u0275did"](5,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,5,0,n.component.showDropdown)},function(l,n){var e=n.component;l(n,2,0,!!e.regions),l(n,3,0,t["\u0275inlineInterpolate"](1,"/assets/img/flags/",e.region,".png"),t["\u0275inlineInterpolate"](1,"",e.region,""))})}var al=function(){function l(l,n,e,u,o){this.router=l,this.formBuilder=n,this.buildService=e,this.userService=u,this.errorService=o,this.done=new t.EventEmitter,this.componentActive=!0,this.isFormReady=!1,this.isNewCourse=!0,this.isSaving=!1}return l.prototype.ngOnInit=function(){this.course?(this.isNewCourse=!1,this.initialCourse=JSON.parse(JSON.stringify(this.course)),this.buildForm()):this.createNewCourse()},l.prototype.onSubmit=function(l){l.valid&&(this.processCourse(l.value),this.course._id?this.updateCourse():this.addCourse())},l.prototype.onCancel=function(){this.isNewCourse?this.router.navigate(["/learn/courses/"]):this.done.emit(this.initialCourse)},l.prototype.onToggle=function(l){"isPublished"===l&&!1!==this.course.isPublished||(this.course[l]=!this.course[l],this.courseForm.markAsDirty())},l.prototype.onSetFlag=function(l,n){var e;this.courseForm.patchValue(((e={})[l]=n,e)),this.courseForm.markAsDirty()},l.prototype.onSetRegion=function(l){this.courseForm.patchValue({region:l}),this.courseForm.markAsDirty(),this.course.defaults.region=l},l.prototype.onLanguageSelected=function(l){var n=this.userService.user.main.lan;this.currentLanguage=l,this.course.languagePair={from:n,to:l.code},this.courseForm.patchValue({addArticle:l.articles.length>1}),this.courseForm.patchValue({region:null})},l.prototype.createNewCourse=function(){this.course={_id:"",languagePair:{from:this.userService.user.main.lan,to:this.currentLanguage.code},creatorId:null,name:"",description:"",image:"",defaults:{caseSensitive:!1,addArticle:!1,region:null},isPublic:!0,isPublished:!1,isInProgress:!0,isDemo:!1,totalCount:0,wordCount:0,chapters:[],lessons:[]},this.buildForm()},l.prototype.buildForm=function(){this.courseForm=this.formBuilder.group({name:[this.course.name,ll.x.required],description:[this.course.description],caseSensitive:[this.course.defaults.caseSensitive],addArticle:[this.course.defaults.addArticle],region:[this.course.defaults.region]}),this.isFormReady=!0},l.prototype.processCourse=function(l){this.course.name=l.name,this.course.description=l.description,this.course.defaults.caseSensitive=l.caseSensitive,this.course.defaults.addArticle=l.addArticle,this.course.defaults.region=l.region},l.prototype.addCourse=function(){var l=this;this.buildService.addCourse(this.course).pipe(Object(_.a)(function(){return l.componentActive})).subscribe(function(n){l.course=n,l.router.navigate(["/build/course/",n._id])},function(n){return l.errorService.handleError(n)})},l.prototype.updateCourse=function(){var l=this;this.buildService.updateCourseHeader(this.course).pipe(Object(_.a)(function(){return l.componentActive})).subscribe(function(n){return l.done.emit(l.course)},function(n){return l.errorService.handleError(n)})},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),cl=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;margin-left:-15px;margin-right:-15px}.panel[_ngcontent-%COMP%]{border-radius:6px}.form-group[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .fa-user[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .fa-wifi[_ngcontent-%COMP%]{color:green}.lb-sm[_ngcontent-%COMP%]{font-size:14px!important}km-toggle[_ngcontent-%COMP%]{top:6px;position:relative}.language-name[_ngcontent-%COMP%]{font-size:20px;position:relative;top:6px}.language-flag[_ngcontent-%COMP%]{position:relative;top:4px}"]],data:{}});function dl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-language-selector",[],null,[[null,"languageSelected"],["document","click"]],function(l,n,e){var u=!0,o=l.component;return"document:click"===n&&(u=!1!==t["\u0275nov"](l,1).clickout(e)&&u),"languageSelected"===n&&(u=!1!==o.onLanguageSelected(e)&&u),u},p.b,p.a)),t["\u0275did"](1,573440,null,0,g.a,[t.ElementRef],{languages:[0,"languages"],currentLanguage:[1,"currentLanguage"],disabled:[2,"disabled"],text:[3,"text"]},{languageSelected:"languageSelected"})],function(l,n){var e=n.component;l(n,1,0,e.languages,e.currentLanguage,!e.isNewCourse,e.text)},null)}function pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-region-flag",[["class","language-flag"]],null,null,null,B.b,B.a)),t["\u0275did"](1,49152,null,0,U.a,[],{lan:[0,"lan"],word:[1,"word"]},null)],function(l,n){var e=n.component;l(n,1,0,null==e.course?null:e.course.languagePair.to,null==e.course?null:e.course.defaults)},null)}function gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","language-name"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,n){var e=n.component;l(n,1,0,e.text[e.currentLanguage.name])})}function fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","form-group form-group-lg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"label",[["class","control-label col-xs-2"],["for","language"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,6,"div",[["class","col-xs-10"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,dl)),t["\u0275did"](5,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,pl)),t["\u0275did"](7,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,gl)),t["\u0275did"](9,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,5,0,e.isNewCourse),l(n,7,0,!e.isNewCourse),l(n,9,0,!e.isNewCourse)},function(l,n){l(n,2,0,n.component.text.Language)})}function ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"div",[["class","form-group form-group-lg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"label",[["class","control-label col-xs-2"],["for","description"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,9,"div",[["class","col-xs-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,8,"textarea",[["class","form-control"],["formControlName","description"],["id","description"],["maxlength","150"],["rows","3"]],[[8,"placeholder",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,5)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,5).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,5)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,5)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](5,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275did"](6,540672,null,0,ll.l,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,ll.n,function(l){return[l]},[ll.l]),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](9,671744,null,0,ll.i,[[3,ll.c],[6,ll.n],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](11,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275ted"](-1,null,["          "]))],function(l,n){l(n,6,0,"150"),l(n,9,0,"description")},function(l,n){var e=n.component;l(n,2,0,e.text.Description),l(n,4,0,e.text.EnterCourseDescription||"",t["\u0275nov"](n,6).maxlength?t["\u0275nov"](n,6).maxlength:null,t["\u0275nov"](n,11).ngClassUntouched,t["\u0275nov"](n,11).ngClassTouched,t["\u0275nov"](n,11).ngClassPristine,t["\u0275nov"](n,11).ngClassDirty,t["\u0275nov"](n,11).ngClassValid,t["\u0275nov"](n,11).ngClassInvalid,t["\u0275nov"](n,11).ngClassPending)})}function hl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,24,"div",[["class","form-group form-group-lg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"label",[["class","control-label col-xs-2"],["for","status"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[" "," "])),(l()(),t["\u0275eld"](3,0,null,null,21,"div",[["class","col-xs-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,6,"button",[["class","btn btn-default"],["id","status"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onToggle("isPublic")&&t),t},null,null)),t["\u0275did"](5,278528,null,0,y.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](6,{disabled:0}),(l()(),t["\u0275eld"](7,0,null,null,2,"span",[["class","fa fa-spacing"]],null,null,null,null,null)),t["\u0275did"](8,278528,null,0,y.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](9,{"fa-lock":0,"fa-user":1}),(l()(),t["\u0275ted"](10,null,[" "," "])),(l()(),t["\u0275eld"](11,0,null,null,6,"button",[["class","btn btn-default"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onToggle("isPublished")&&t),t},null,null)),t["\u0275did"](12,278528,null,0,y.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](13,{disabled:0}),(l()(),t["\u0275eld"](14,0,null,null,2,"span",[["class","fa fa-spacing"]],null,null,null,null,null)),t["\u0275did"](15,278528,null,0,y.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](16,{"fa-power-off":0,"fa-wifi":1}),(l()(),t["\u0275ted"](17,null,[" "," "])),(l()(),t["\u0275eld"](18,0,null,null,6,"button",[["class","btn btn-default"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onToggle("isInProgress")&&t),t},null,null)),t["\u0275did"](19,278528,null,0,y.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](20,{disabled:0}),(l()(),t["\u0275eld"](21,0,null,null,2,"span",[["class","fa fa-spacing"]],null,null,null,null,null)),t["\u0275did"](22,278528,null,0,y.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](23,{"fa-industry":0,"fa-check":1}),(l()(),t["\u0275ted"](24,null,[" "," "]))],function(l,n){var e=n.component;l(n,5,0,"btn btn-default",l(n,6,0,e.isSaving)),l(n,8,0,"fa fa-spacing",l(n,9,0,!e.course.isPublic,e.course.isPublic)),l(n,12,0,"btn btn-default",l(n,13,0,e.isSaving||e.course.isPublished)),l(n,15,0,"fa fa-spacing",l(n,16,0,!e.course.isPublished,e.course.isPublished)),l(n,19,0,"btn btn-default",l(n,20,0,e.isSaving)),l(n,22,0,"fa fa-spacing",l(n,23,0,e.course.isInProgress,!e.course.isInProgress))},function(l,n){var e=n.component;l(n,2,0,e.text.Status),l(n,10,0,e.course.isPublic?e.text.Public:e.text.Private),l(n,17,0,e.course.isPublished?e.text.Published:e.text.Notpublished),l(n,24,0,e.course.isInProgress?e.text.InProgress:e.text.NotInProgress)})}function vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","form-group form-group-lg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"label",[["class","control-label col-xs-2 lb-sm"],["for","addArticle"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[" ",": "])),(l()(),t["\u0275eld"](3,0,null,null,2,"div",[["class","col-xs-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"km-toggle",[["id","addArticle"]],null,[[null,"toggled"]],function(l,n,e){var t=!0;return"toggled"===n&&(t=!1!==l.component.onSetFlag("addArticle",e)&&t),t},nl.b,nl.a)),t["\u0275did"](5,49152,null,0,el.a,[],{toggle:[0,"toggle"]},{toggled:"toggled"})],function(l,n){l(n,5,0,n.component.courseForm.value.addArticle)},function(l,n){l(n,2,0,n.component.text.AddArticle)})}function bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","form-group form-group-lg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"label",[["class","control-label col-xs-2 lb-sm"],["for","region"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[" ",": "])),(l()(),t["\u0275eld"](3,0,null,null,2,"div",[["class","col-xs-10 control-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"km-region-flag-selector",[],null,[[null,"newRegion"]],function(l,n,e){var t=!0;return"newRegion"===n&&(t=!1!==l.component.onSetRegion(e)&&t),t},sl,ul)),t["\u0275did"](5,114688,null,0,tl,[],{lan:[0,"lan"],region:[1,"region"],regions:[2,"regions"]},{newRegion:"newRegion"})],function(l,n){var e=n.component;l(n,5,0,e.currentLanguage.code,e.course.defaults.region,e.currentLanguage.regions)},function(l,n){l(n,2,0,n.component.text.Region)})}function xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","form-group form-group-lg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"label",[["class","control-label col-xs-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),(l()(),t["\u0275eld"](4,0,null,null,0,"div",[["class","col-xs-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,5,"div",[["class","form-group form-group-lg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"label",[["class","control-label col-xs-2 lb-sm"],["for","caseSensitive"]],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,[" ",": "])),(l()(),t["\u0275eld"](8,0,null,null,2,"div",[["class","col-xs-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,1,"km-toggle",[["id","caseSensitive"]],null,[[null,"toggled"]],function(l,n,e){var t=!0;return"toggled"===n&&(t=!1!==l.component.onSetFlag("caseSensitive",e)&&t),t},nl.b,nl.a)),t["\u0275did"](10,49152,null,0,el.a,[],{toggle:[0,"toggle"]},{toggled:"toggled"}),(l()(),t["\u0275and"](16777216,null,null,1,null,vl)),t["\u0275did"](12,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,bl)),t["\u0275did"](14,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,10,0,e.courseForm.value.caseSensitive),l(n,12,0,(null==e.currentLanguage?null:e.currentLanguage.articles.length)>1),l(n,14,0,(null==e.currentLanguage?null:e.currentLanguage.regions.length)>1)},function(l,n){var e=n.component;l(n,3,0,e.text.Defaults),l(n,7,0,e.text.CaseSensitive)})}function Cl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,32,"form",[["class","form-horizontal"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t["\u0275nov"](l,2).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,2).onReset()&&u),u},null,null)),t["\u0275did"](1,16384,null,0,ll.z,[],null,null),t["\u0275did"](2,540672,null,0,ll.j,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,ll.c,null,[ll.j]),t["\u0275did"](4,16384,null,0,ll.r,[[4,ll.c]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,fl)),t["\u0275did"](6,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](7,0,null,null,11,"div",[["class","form-group form-group-lg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,1,"label",[["class","control-label col-xs-2"],["for","name"]],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,["",""])),(l()(),t["\u0275eld"](10,0,null,null,8,"div",[["class","col-xs-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,7,"input",[["autocomplete","off"],["class","form-control"],["formControlName","name"],["id","name"],["maxlength","50"],["type","text"]],[[8,"placeholder",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,12)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,12).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,12)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,12)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](12,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275did"](13,540672,null,0,ll.l,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,ll.n,function(l){return[l]},[ll.l]),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](16,671744,null,0,ll.i,[[3,ll.c],[6,ll.n],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](18,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,ml)),t["\u0275did"](20,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,hl)),t["\u0275did"](22,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,xl)),t["\u0275did"](24,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](25,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,6,"div",[["class","col-xs-10 col-xs-offset-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,2,"button",[["class","btn btn-success"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onSubmit(u.courseForm)&&t),t},null,null)),(l()(),t["\u0275eld"](28,0,null,null,0,"span",[["class","fa fa-check fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](29,null,[""," "])),(l()(),t["\u0275eld"](30,0,null,null,2,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancel()&&t),t},null,null)),(l()(),t["\u0275eld"](31,0,null,null,0,"span",[["class","fa fa-times fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](32,null,[""," "]))],function(l,n){var e=n.component;l(n,2,0,e.courseForm),l(n,6,0,e.languages),l(n,13,0,"50"),l(n,16,0,"name"),l(n,20,0,!e.isNewCourse),l(n,22,0,!e.isNewCourse),l(n,24,0,!e.isNewCourse)},function(l,n){var e=n.component;l(n,0,0,t["\u0275nov"](n,4).ngClassUntouched,t["\u0275nov"](n,4).ngClassTouched,t["\u0275nov"](n,4).ngClassPristine,t["\u0275nov"](n,4).ngClassDirty,t["\u0275nov"](n,4).ngClassValid,t["\u0275nov"](n,4).ngClassInvalid,t["\u0275nov"](n,4).ngClassPending),l(n,9,0,e.text.Name),l(n,11,0,e.text.EnterCourseName||"",t["\u0275nov"](n,13).maxlength?t["\u0275nov"](n,13).maxlength:null,t["\u0275nov"](n,18).ngClassUntouched,t["\u0275nov"](n,18).ngClassTouched,t["\u0275nov"](n,18).ngClassPristine,t["\u0275nov"](n,18).ngClassDirty,t["\u0275nov"](n,18).ngClassValid,t["\u0275nov"](n,18).ngClassInvalid,t["\u0275nov"](n,18).ngClassPending),l(n,27,0,!e.courseForm.valid||!e.courseForm.dirty),l(n,29,0,e.isNewCourse?e.text.Addcourse:e.text.Update),l(n,32,0,e.text.cancel)})}function wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","panel panel-default transparant"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Cl)),t["\u0275did"](3,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,3,0,n.component.isFormReady)},null)}var yl=[".navbar-default[_ngcontent-%COMP%]{background-color:#428bca;font-size:22px;border-color:#428bca}.navbar-default.isOpen[_ngcontent-%COMP%]{border-bottom-right-radius:0;border-bottom-left-radius:0}.navbar-default[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%], .navbar-default[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff}.panel[_ngcontent-%COMP%]{margin:0 5px 5px}.btn[_ngcontent-%COMP%]{margin-right:4px}ul[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:8px}.btn-danger[_ngcontent-%COMP%]{margin-right:12px}.lessons[_ngcontent-%COMP%]{background-color:#428bca;padding:2px;margin-top:-20px;font-size:20px;margin-bottom:6px;border-bottom-right-radius:4px;border-bottom-left-radius:4px}.lesson-cnt[_ngcontent-%COMP%], .woorden[_ngcontent-%COMP%]{font-size:18px;margin-left:8px}.lesson[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{cursor:default}.name[_ngcontent-%COMP%]{cursor:pointer}ul.lesson[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:0}"],Il=e("mrSG");function Rl(l){return void 0!==l&&null!==l}var El=function(){function l(l){this.name=l}return l.COPY=new l("copy"),l.LINK=new l("link"),l.MOVE=new l("move"),l.NONE=new l("none"),l}(),Sl=function(){return function(){this.onDragStartClass="dnd-drag-start",this.onDragEnterClass="dnd-drag-enter",this.onDragOverClass="dnd-drag-over",this.onSortableDragClass="dnd-sortable-drag",this.dragEffect=El.MOVE,this.dropEffect=El.MOVE,this.dragCursor="move",this.defaultCursor="pointer"}}(),Dl=function(l,n,e,t){var u,o=arguments.length,i=o<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(l,n,e,t);else for(var r=l.length-1;r>=0;r--)(u=l[r])&&(i=(o<3?u(i):o>3?u(n,e,i):u(n,e))||i);return o>3&&i&&Object.defineProperty(n,e,i),i};function kl(){return new Tl}var Tl=function(){this.allowedDropZones=[]};function _l(l){return new Ol(l)}Tl=Dl([Object(t.Injectable)()],Tl);var Ol=function(){function l(l){this._config=l}return Object.defineProperty(l.prototype,"elem",{get:function(){return this._elem},enumerable:!0,configurable:!0}),l.prototype.markSortable=function(l){Rl(this._elem)&&this._elem.classList.remove(this._config.onSortableDragClass),Rl(l)&&(this._elem=l,this._elem.classList.add(this._config.onSortableDragClass))},l}();Ol=Dl([Object(t.Injectable)(),Object(Il.__metadata)("design:paramtypes",[Sl])],Ol);var Pl=function(){function l(l,n,e,t){var u=this;this._dragDropService=n,this._config=e,this._cdr=t,this._dragEnabled=!1,this.dropEnabled=!1,this.dropZones=[],this.cloneItem=!1,this._defaultCursor=e.defaultCursor,this._elem=l.nativeElement,this._elem.style.cursor=this._defaultCursor,this._elem.ondragenter=function(l){u._onDragEnter(l)},this._elem.ondragover=function(l){return u._onDragOver(l),null!=l.dataTransfer&&(l.dataTransfer.dropEffect=u._config.dropEffect.name),!1},this._elem.ondragleave=function(l){u._onDragLeave(l)},this._elem.ondrop=function(l){u._onDrop(l)},this._elem.onmousedown=function(l){u._target=l.target},this._elem.ondragstart=function(l){if(!u._dragHandle||u._dragHandle.contains(u._target)){if(u._onDragStart(l),null!=l.dataTransfer){if(l.dataTransfer.setData("text",""),l.dataTransfer.effectAllowed=u.effectAllowed||u._config.dragEffect.name,Rl(u.dragImage))if("string"==typeof u.dragImage)l.dataTransfer.setDragImage(function(l){var n=new HTMLImageElement;return n.src=l,n}(u.dragImage));else if("function"==typeof u.dragImage)l.dataTransfer.setDragImage((0,u.dragImage)());else{var n=u.dragImage;l.dataTransfer.setDragImage(n.imageElement,n.x_offset,n.y_offset)}else if(Rl(u._config.dragImage)){var e=u._config.dragImage;l.dataTransfer.setDragImage(e.imageElement,e.x_offset,e.y_offset)}else u.cloneItem&&(u._dragHelper=u._elem.cloneNode(!0),u._dragHelper.classList.add("dnd-drag-item"),u._dragHelper.style.position="absolute",u._dragHelper.style.top="0px",u._dragHelper.style.left="-1000px",u._elem.parentElement.appendChild(u._dragHelper),l.dataTransfer.setDragImage(u._dragHelper,l.offsetX,l.offsetY));(u._dragHandle?u._dragHandle:u._elem).style.cursor=u._dragEnabled?u.effectCursor?u.effectCursor:u._config.dragCursor:u._defaultCursor}}else l.preventDefault()},this._elem.ondragend=function(l){u._elem.parentElement&&u._dragHelper&&u._elem.parentElement.removeChild(u._dragHelper),u._onDragEnd(l),(u._dragHandle?u._dragHandle:u._elem).style.cursor=u._defaultCursor}}return Object.defineProperty(l.prototype,"dragEnabled",{get:function(){return this._dragEnabled},set:function(l){this._dragEnabled=!!l,this._elem.draggable=this._dragEnabled},enumerable:!0,configurable:!0}),l.prototype.setDragHandle=function(l){this._dragHandle=l},l.prototype.detectChanges=function(){var l=this;setTimeout(function(){l._cdr&&!l._cdr.destroyed&&l._cdr.detectChanges()},250)},l.prototype._onDragEnter=function(l){this._isDropAllowed(l)&&this._onDragEnterCallback(l)},l.prototype._onDragOver=function(l){this._isDropAllowed(l)&&(l.preventDefault&&l.preventDefault(),this._onDragOverCallback(l))},l.prototype._onDragLeave=function(l){this._isDropAllowed(l)&&this._onDragLeaveCallback(l)},l.prototype._onDrop=function(l){this._isDropAllowed(l)&&(this._preventAndStop(l),this._onDropCallback(l),this.detectChanges())},l.prototype._isDropAllowed=function(l){if((this._dragDropService.isDragged||l.dataTransfer&&l.dataTransfer.files)&&this.dropEnabled){if(this.allowDrop)return this.allowDrop(this._dragDropService.dragData);if(0===this.dropZones.length&&0===this._dragDropService.allowedDropZones.length)return!0;for(var n=0;n<this._dragDropService.allowedDropZones.length;n++)if(-1!==this.dropZones.indexOf(this._dragDropService.allowedDropZones[n]))return!0}return!1},l.prototype._preventAndStop=function(l){l.preventDefault&&l.preventDefault(),l.stopPropagation&&l.stopPropagation()},l.prototype._onDragStart=function(l){this._dragEnabled&&(this._dragDropService.allowedDropZones=this.dropZones,this._onDragStartCallback(l))},l.prototype._onDragEnd=function(l){this._dragDropService.allowedDropZones=[],this._onDragEndCallback(l)},l.prototype._onDragEnterCallback=function(l){},l.prototype._onDragOverCallback=function(l){},l.prototype._onDragLeaveCallback=function(l){},l.prototype._onDropCallback=function(l){},l.prototype._onDragStartCallback=function(l){},l.prototype._onDragEndCallback=function(l){},l}(),Nl=function(l,n,e,t,u){this._dragDropService=n,this._config=e,this._Component=t,this._cdr=u,this._elem=l.nativeElement,this._Component.setDragHandle(this._elem)},Fl=function(l,n,e,t){var u,o=arguments.length,i=o<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(l,n,e,t);else for(var r=l.length-1;r>=0;r--)(u=l[r])&&(i=(o<3?u(i):o>3?u(n,e,i):u(n,e))||i);return o>3&&i&&Object.defineProperty(n,e,i),i},Ll=function(l,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,n)},Al=function(l){function n(n,e,u,o){var i=l.call(this,n,e,u,o)||this;return i.onDragStart=new t.EventEmitter,i.onDragEnd=new t.EventEmitter,i.onDragSuccessCallback=new t.EventEmitter,i._defaultCursor=i._elem.style.cursor,i.dragEnabled=!0,i}return Object(Il.__extends)(n,l),Object.defineProperty(n.prototype,"draggable",{set:function(l){this.dragEnabled=!!l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropzones",{set:function(l){this.dropZones=l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectallowed",{set:function(l){this.effectAllowed=l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectcursor",{set:function(l){this.effectCursor=l},enumerable:!0,configurable:!0}),n.prototype._onDragStartCallback=function(l){this._dragDropService.isDragged=!0,this._dragDropService.dragData=this.dragData,this._dragDropService.onDragSuccessCallback=this.onDragSuccessCallback,this._elem.classList.add(this._config.onDragStartClass),this.onDragStart.emit({dragData:this.dragData,mouseEvent:l})},n.prototype._onDragEndCallback=function(l){this._dragDropService.isDragged=!1,this._dragDropService.dragData=null,this._dragDropService.onDragSuccessCallback=null,this._elem.classList.remove(this._config.onDragStartClass),this.onDragEnd.emit({dragData:this.dragData,mouseEvent:l})},n}(Pl=function(l,n,e,t){var u,o=arguments.length,i=o<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(l,n,e,t);else for(var r=l.length-1;r>=0;r--)(u=l[r])&&(i=(o<3?u(i):o>3?u(n,e,i):u(n,e))||i);return o>3&&i&&Object.defineProperty(n,e,i),i}([Object(t.Injectable)(),function(l,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",[t.ElementRef,Tl,Sl,t.ChangeDetectorRef])}()],Pl));Fl([Object(t.Input)("dragEnabled"),Ll("design:type",Boolean),Ll("design:paramtypes",[Boolean])],Al.prototype,"draggable",null),Fl([Object(t.Output)(),Ll("design:type",t.EventEmitter)],Al.prototype,"onDragStart",void 0),Fl([Object(t.Output)(),Ll("design:type",t.EventEmitter)],Al.prototype,"onDragEnd",void 0),Fl([Object(t.Input)(),Ll("design:type",Object)],Al.prototype,"dragData",void 0),Fl([Object(t.Output)("onDragSuccess"),Ll("design:type",t.EventEmitter)],Al.prototype,"onDragSuccessCallback",void 0),Fl([Object(t.Input)("dropZones"),Ll("design:type",Array),Ll("design:paramtypes",[Array])],Al.prototype,"dropzones",null),Fl([Object(t.Input)("effectAllowed"),Ll("design:type",String),Ll("design:paramtypes",[String])],Al.prototype,"effectallowed",null),Fl([Object(t.Input)("effectCursor"),Ll("design:type",String),Ll("design:paramtypes",[String])],Al.prototype,"effectcursor",null),Fl([Object(t.Input)(),Ll("design:type",Object)],Al.prototype,"dragImage",void 0),Fl([Object(t.Input)(),Ll("design:type",Boolean)],Al.prototype,"cloneItem",void 0),Al=Fl([Object(t.Directive)({selector:"[dnd-draggable]"}),Ll("design:paramtypes",[t.ElementRef,Tl,Sl,t.ChangeDetectorRef])],Al);var Vl=function(l){function n(n,e,t,u,o){return l.call(this,n,e,t,u,o)||this}return Object(Il.__extends)(n,l),n}(Nl);Vl=Fl([Object(t.Directive)({selector:"[dnd-draggable-handle]"}),Ll("design:paramtypes",[t.ElementRef,Tl,Sl,Al,t.ChangeDetectorRef])],Vl);var jl=function(l,n,e,t){var u,o=arguments.length,i=o<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(l,n,e,t);else for(var r=l.length-1;r>=0;r--)(u=l[r])&&(i=(o<3?u(i):o>3?u(n,e,i):u(n,e))||i);return o>3&&i&&Object.defineProperty(n,e,i),i},Ml=function(l,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,n)},$l=function(l){function n(n,e,u,o){var i=l.call(this,n,e,u,o)||this;return i.onDropSuccess=new t.EventEmitter,i.onDragEnter=new t.EventEmitter,i.onDragOver=new t.EventEmitter,i.onDragLeave=new t.EventEmitter,i.dropEnabled=!0,i}return Object(Il.__extends)(n,l),Object.defineProperty(n.prototype,"droppable",{set:function(l){this.dropEnabled=!!l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowdrop",{set:function(l){this.allowDrop=l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropzones",{set:function(l){this.dropZones=l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectallowed",{set:function(l){this.effectAllowed=l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectcursor",{set:function(l){this.effectCursor=l},enumerable:!0,configurable:!0}),n.prototype._onDragEnterCallback=function(l){this._dragDropService.isDragged&&(this._elem.classList.add(this._config.onDragEnterClass),this.onDragEnter.emit({dragData:this._dragDropService.dragData,mouseEvent:l}))},n.prototype._onDragOverCallback=function(l){this._dragDropService.isDragged&&(this._elem.classList.add(this._config.onDragOverClass),this.onDragOver.emit({dragData:this._dragDropService.dragData,mouseEvent:l}))},n.prototype._onDragLeaveCallback=function(l){this._dragDropService.isDragged&&(this._elem.classList.remove(this._config.onDragOverClass),this._elem.classList.remove(this._config.onDragEnterClass),this.onDragLeave.emit({dragData:this._dragDropService.dragData,mouseEvent:l}))},n.prototype._onDropCallback=function(l){var n=l.dataTransfer;(this._dragDropService.isDragged||n&&n.files)&&(this.onDropSuccess.emit({dragData:this._dragDropService.dragData,mouseEvent:l}),this._dragDropService.onDragSuccessCallback&&this._dragDropService.onDragSuccessCallback.emit({dragData:this._dragDropService.dragData,mouseEvent:l}),this._elem.classList.remove(this._config.onDragOverClass),this._elem.classList.remove(this._config.onDragEnterClass))},n}(Pl);jl([Object(t.Input)("dropEnabled"),Ml("design:type",Boolean),Ml("design:paramtypes",[Boolean])],$l.prototype,"droppable",null),jl([Object(t.Output)(),Ml("design:type",t.EventEmitter)],$l.prototype,"onDropSuccess",void 0),jl([Object(t.Output)(),Ml("design:type",t.EventEmitter)],$l.prototype,"onDragEnter",void 0),jl([Object(t.Output)(),Ml("design:type",t.EventEmitter)],$l.prototype,"onDragOver",void 0),jl([Object(t.Output)(),Ml("design:type",t.EventEmitter)],$l.prototype,"onDragLeave",void 0),jl([Object(t.Input)("allowDrop"),Ml("design:type",Function),Ml("design:paramtypes",[Function])],$l.prototype,"allowdrop",null),jl([Object(t.Input)("dropZones"),Ml("design:type",Array),Ml("design:paramtypes",[Array])],$l.prototype,"dropzones",null),jl([Object(t.Input)("effectAllowed"),Ml("design:type",String),Ml("design:paramtypes",[String])],$l.prototype,"effectallowed",null),jl([Object(t.Input)("effectCursor"),Ml("design:type",String),Ml("design:paramtypes",[String])],$l.prototype,"effectcursor",null),$l=jl([Object(t.Directive)({selector:"[dnd-droppable]"}),Ml("design:paramtypes",[t.ElementRef,Tl,Sl,t.ChangeDetectorRef])],$l);var ql=function(l,n,e,t){var u,o=arguments.length,i=o<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(l,n,e,t);else for(var r=l.length-1;r>=0;r--)(u=l[r])&&(i=(o<3?u(i):o>3?u(n,e,i):u(n,e))||i);return o>3&&i&&Object.defineProperty(n,e,i),i},Wl=function(l,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,n)},Bl=function(l){function n(n,e,t,u,o){var i=l.call(this,n,e,t,u)||this;return i._sortableDataService=o,i._sortableData=[],i.dragEnabled=!1,i}return Object(Il.__extends)(n,l),Object.defineProperty(n.prototype,"draggable",{set:function(l){this.dragEnabled=!!l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortableData",{get:function(){return this._sortableData},set:function(l){this._sortableData=l,this.sortableHandler=l instanceof ll.e?new zl:new Ul,this.dropEnabled=!!this._sortableData},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropzones",{set:function(l){this.dropZones=l},enumerable:!0,configurable:!0}),n.prototype._onDragEnterCallback=function(l){if(this._sortableDataService.isDragged){var n=this._sortableDataService.sortableContainer.getItemAt(this._sortableDataService.index);-1===this.indexOf(n)&&(this._sortableDataService.sortableContainer.removeItemAt(this._sortableDataService.index),0===this._sortableDataService.sortableContainer._sortableData.length&&(this._sortableDataService.sortableContainer.dropEnabled=!0),this.insertItemAt(n,0),this._sortableDataService.sortableContainer=this,this._sortableDataService.index=0),this.detectChanges()}},n.prototype.getItemAt=function(l){return this.sortableHandler.getItemAt(this._sortableData,l)},n.prototype.indexOf=function(l){return this.sortableHandler.indexOf(this._sortableData,l)},n.prototype.removeItemAt=function(l){this.sortableHandler.removeItemAt(this._sortableData,l)},n.prototype.insertItemAt=function(l,n){this.sortableHandler.insertItemAt(this._sortableData,l,n)},n}(Pl);ql([Object(t.Input)("dragEnabled"),Wl("design:type",Boolean),Wl("design:paramtypes",[Boolean])],Bl.prototype,"draggable",null),ql([Object(t.Input)(),Wl("design:type",Object),Wl("design:paramtypes",[Object])],Bl.prototype,"sortableData",null),ql([Object(t.Input)("dropZones"),Wl("design:type",Array),Wl("design:paramtypes",[Array])],Bl.prototype,"dropzones",null),Bl=ql([Object(t.Directive)({selector:"[dnd-sortable-container]"}),Wl("design:paramtypes",[t.ElementRef,Tl,Sl,t.ChangeDetectorRef,Ol])],Bl);var Ul=function(){function l(){}return l.prototype.getItemAt=function(l,n){return l[n]},l.prototype.indexOf=function(l,n){return l.indexOf(n)},l.prototype.removeItemAt=function(l,n){l.splice(n,1)},l.prototype.insertItemAt=function(l,n,e){l.splice(e,0,n)},l}(),zl=function(){function l(){}return l.prototype.getItemAt=function(l,n){return l.at(n)},l.prototype.indexOf=function(l,n){return l.controls.indexOf(n)},l.prototype.removeItemAt=function(l,n){l.removeAt(n)},l.prototype.insertItemAt=function(l,n,e){l.insert(e,n)},l}(),Hl=function(l){function n(n,e,u,o,i,r){var s=l.call(this,n,e,u,r)||this;return s._sortableContainer=o,s._sortableDataService=i,s.onDragSuccessCallback=new t.EventEmitter,s.onDragStartCallback=new t.EventEmitter,s.onDragOverCallback=new t.EventEmitter,s.onDragEndCallback=new t.EventEmitter,s.onDropSuccessCallback=new t.EventEmitter,s.dropZones=s._sortableContainer.dropZones,s.dragEnabled=!0,s.dropEnabled=!0,s}return Object(Il.__extends)(n,l),Object.defineProperty(n.prototype,"draggable",{set:function(l){this.dragEnabled=!!l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"droppable",{set:function(l){this.dropEnabled=!!l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectallowed",{set:function(l){this.effectAllowed=l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectcursor",{set:function(l){this.effectCursor=l},enumerable:!0,configurable:!0}),n.prototype._onDragStartCallback=function(l){this._sortableDataService.isDragged=!0,this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index,this._sortableDataService.markSortable(this._elem),this._dragDropService.isDragged=!0,this._dragDropService.dragData=this.dragData,this._dragDropService.onDragSuccessCallback=this.onDragSuccessCallback,this.onDragStartCallback.emit(this._dragDropService.dragData)},n.prototype._onDragOverCallback=function(l){this._sortableDataService.isDragged&&this._elem!==this._sortableDataService.elem&&(this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index,this._sortableDataService.markSortable(this._elem),this.onDragOverCallback.emit(this._dragDropService.dragData))},n.prototype._onDragEndCallback=function(l){this._sortableDataService.isDragged=!1,this._sortableDataService.sortableContainer=null,this._sortableDataService.index=null,this._sortableDataService.markSortable(null),this._dragDropService.isDragged=!1,this._dragDropService.dragData=null,this._dragDropService.onDragSuccessCallback=null,this.onDragEndCallback.emit(this._dragDropService.dragData)},n.prototype._onDragEnterCallback=function(l){if(this._sortableDataService.isDragged&&(this._sortableDataService.markSortable(this._elem),this.index!==this._sortableDataService.index||this._sortableDataService.sortableContainer.sortableData!==this._sortableContainer.sortableData)){var n=this._sortableDataService.sortableContainer.getItemAt(this._sortableDataService.index);this._sortableDataService.sortableContainer.removeItemAt(this._sortableDataService.index),0===this._sortableDataService.sortableContainer.sortableData.length&&(this._sortableDataService.sortableContainer.dropEnabled=!0),this._sortableContainer.insertItemAt(n,this.index),this._sortableContainer.dropEnabled&&(this._sortableContainer.dropEnabled=!1),this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index,this.detectChanges()}},n.prototype._onDropCallback=function(l){this._sortableDataService.isDragged&&(this.onDropSuccessCallback.emit(this._dragDropService.dragData),this._dragDropService.onDragSuccessCallback&&this._dragDropService.onDragSuccessCallback.emit(this._dragDropService.dragData),this._sortableContainer.detectChanges())},n}(Pl);ql([Object(t.Input)("sortableIndex"),Wl("design:type",Number)],Hl.prototype,"index",void 0),ql([Object(t.Input)("dragEnabled"),Wl("design:type",Boolean),Wl("design:paramtypes",[Boolean])],Hl.prototype,"draggable",null),ql([Object(t.Input)("dropEnabled"),Wl("design:type",Boolean),Wl("design:paramtypes",[Boolean])],Hl.prototype,"droppable",null),ql([Object(t.Input)(),Wl("design:type",Object)],Hl.prototype,"dragData",void 0),ql([Object(t.Input)("effectAllowed"),Wl("design:type",String),Wl("design:paramtypes",[String])],Hl.prototype,"effectallowed",null),ql([Object(t.Input)("effectCursor"),Wl("design:type",String),Wl("design:paramtypes",[String])],Hl.prototype,"effectcursor",null),ql([Object(t.Output)("onDragSuccess"),Wl("design:type",t.EventEmitter)],Hl.prototype,"onDragSuccessCallback",void 0),ql([Object(t.Output)("onDragStart"),Wl("design:type",t.EventEmitter)],Hl.prototype,"onDragStartCallback",void 0),ql([Object(t.Output)("onDragOver"),Wl("design:type",t.EventEmitter)],Hl.prototype,"onDragOverCallback",void 0),ql([Object(t.Output)("onDragEnd"),Wl("design:type",t.EventEmitter)],Hl.prototype,"onDragEndCallback",void 0),ql([Object(t.Output)("onDropSuccess"),Wl("design:type",t.EventEmitter)],Hl.prototype,"onDropSuccessCallback",void 0),Hl=ql([Object(t.Directive)({selector:"[dnd-sortable]"}),Wl("design:paramtypes",[t.ElementRef,Tl,Sl,Bl,Ol,t.ChangeDetectorRef])],Hl);var Gl=function(l){function n(n,e,t,u,o){return l.call(this,n,e,t,u,o)||this}return Object(Il.__extends)(n,l),n}(Nl);Gl=ql([Object(t.Directive)({selector:"[dnd-sortable-handle]"}),Wl("design:paramtypes",[t.ElementRef,Tl,Sl,Hl,t.ChangeDetectorRef])],Gl);var Kl,Jl=[Sl,{provide:Tl,useFactory:kl},{provide:Ol,useFactory:_l,deps:[Sl]}],Zl=Kl=function(){function l(){}return l.forRoot=function(){return{ngModule:Kl,providers:Jl}},l}(),Ql=e("M6Em"),Xl=e("rKNO"),Yl=e("VtPn"),ln=function(){function l(l,n){this.router=l,this.cdRef=n,this.chapterNr=null,this.remove=new t.EventEmitter,this.sorted=new t.EventEmitter,this.componentActive=!0,this.lessonDict={},this.isReady=!1}return l.prototype.ngOnInit=function(){this.filterLessonIds()},l.prototype.ngOnChanges=function(){this.lessonIds&&this.lessonIds.length!==this.lessons.length&&this.filterLessonIds()},l.prototype.ngAfterViewChecked=function(){this.cdRef.detectChanges()},l.prototype.onEditLesson=function(l,n){l.preventDefault(),this.editLesson(n)},l.prototype.onRemoveLesson=function(l,n,e){l.preventDefault(),this.askRemoveLesson(n,e)},l.prototype.onRemoveConfirmed=function(l){l&&this.lessonToRemove&&(this.remove.emit(this.lessonToRemove),this.lessonToRemove=null)},l.prototype.onResorted=function(l){this.sortingId=l,this.sorted.emit(this.lessonIds)},l.prototype.onDraggedStart=function(l){this.draggingId=l},l.prototype.onDraggedEnd=function(l){this.sortingId!==this.draggingId&&this.sorted.emit(this.lessonIds),this.sortingId=null,this.draggingId=null},l.prototype.getRemoveMessage=function(){var l="";return this.lessonToRemove&&this.text.RemoveLesson&&(l=(l=this.text.RemoveLesson).replace("%s",this.lessonDict[this.lessonToRemove].name)),l},l.prototype.getExercisesLabels=function(l){var n=this.lessonDict[l],e=n.exercises.filter(function(l){return l.tpe===Yl.c.Word}).length,t=n.exercises.length-e,u=e.toString();return u+=1===e?" "+this.text.word:" "+this.text.words,t>0&&(u+=", "+t.toString(),u+=1===t?" "+this.text.exercise:" "+this.text.exercises),u},l.prototype.editLesson=function(l){this.router.navigate(["/build/lesson/"+l])},l.prototype.askRemoveLesson=function(l,n){this.lessonToRemove||(this.lessonToRemove=l,n.showModal=!0)},l.prototype.filterLessonIds=function(){var l=this,n=!1;this.lessons.forEach(function(e){l.lessonDict[e._id]=e,l.lessonIds.find(function(l){return l===e._id})||(l.lessonIds.push(e._id),l.cdRef.detectChanges(),n=!0)}),this.lessonIds.forEach(function(e,t){l.lessons.find(function(l){return e===l._id})||(l.lessonIds.splice(t,1),l.cdRef.detectChanges(),n=!0)}),this.isReady=!0,n&&this.sorted.emit(this.lessonIds)},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),nn=t["\u0275crt"]({encapsulation:0,styles:[yl],data:{}});function en(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","fa fa-info-circle"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[", "]))],null,null)}function tn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","fa fa-comment"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[", "]))],null,null)}function un(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-default pull-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","fa fa-arrows-alt"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[" "," "]))],null,function(l,n){l(n,2,0,n.component.text.Move)})}function on(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-danger pull-right"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onRemoveLesson(e,l.parent.context.$implicit,t["\u0275nov"](l.parent.parent.parent,3))&&u),u},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","fa fa-trash"]],null,null,null,null,null))],null,null)}function rn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,19,"li",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,18,"div",[["class","panel panel-default"],["dnd-sortable",""]],null,[[null,"onDragStart"],[null,"onDragEnd"],[null,"onDropSuccess"]],function(l,n,e){var t=!0,u=l.component;return"onDragStart"===n&&(t=!1!==u.onDraggedStart(l.context.$implicit)&&t),"onDragEnd"===n&&(t=!1!==u.onDraggedEnd(l.context.$implicit)&&t),"onDropSuccess"===n&&(t=!1!==u.onResorted(l.context.$implicit)&&t),t},null,null)),t["\u0275did"](2,16384,null,0,Hl,[t.ElementRef,Tl,Sl,Bl,Ol,t.ChangeDetectorRef],{index:[0,"index"]},{onDragStartCallback:"onDragStart",onDragEndCallback:"onDragEnd",onDropSuccessCallback:"onDropSuccess"}),(l()(),t["\u0275eld"](3,0,null,null,16,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,8,"span",[["class","name"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditLesson(e,l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275ted"](5,null,[" ","",". "," "])),(l()(),t["\u0275eld"](6,0,null,null,6,"span",[["class","woorden"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" ("])),(l()(),t["\u0275and"](16777216,null,null,1,null,en)),t["\u0275did"](9,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,tn)),t["\u0275did"](11,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](12,null,[" ",") "])),(l()(),t["\u0275and"](16777216,null,null,1,null,un)),t["\u0275did"](14,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](15,0,null,null,2,"button",[["class","btn btn-warning pull-right"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditLesson(e,l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](16,0,null,null,0,"span",[["class","fa fa-pencil"]],null,null,null,null,null)),(l()(),t["\u0275ted"](17,null,[" "," "])),(l()(),t["\u0275and"](16777216,null,null,1,null,on)),t["\u0275did"](19,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,n.context.index),l(n,9,0,(null==e.lessonDict[n.context.$implicit].intro?null:e.lessonDict[n.context.$implicit].intro.text.length)>9),l(n,11,0,(null==e.lessonDict[n.context.$implicit].dialogue?null:e.lessonDict[n.context.$implicit].dialogue.text.length)>9),l(n,14,0,(null==e.lessonIds?null:e.lessonIds.length)>1),l(n,19,0,0===(null==e.lessonDict[n.context.$implicit]?null:null==e.lessonDict[n.context.$implicit].exercises?null:e.lessonDict[n.context.$implicit].exercises.length))},function(l,n){var e=n.component;l(n,5,0,null!==e.chapterNr?e.chapterNr+1+".":"",n.context.index+1,e.lessonDict[n.context.$implicit].name),l(n,12,0,e.getExercisesLabels(n.context.$implicit)),l(n,17,0,e.text.Editlesson)})}function sn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","lessons"],["dnd-sortable-container",""]],null,null,null,null,null)),t["\u0275did"](1,16384,null,0,Bl,[t.ElementRef,Tl,Sl,t.ChangeDetectorRef,Ol],{sortableData:[0,"sortableData"],dropzones:[1,"dropzones"]},null),t["\u0275pad"](2,1),(l()(),t["\u0275eld"](3,0,null,null,2,"ul",[["class","lesson list-unstyled"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,rn)),t["\u0275did"](5,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,1,0,e.lessonIds,l(n,2,0,"lesson-dropZone")),l(n,5,0,e.lessonIds)},null)}function an(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,sn)),t["\u0275did"](1,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](2,0,null,null,5,"km-modal-confirm",[],null,[[null,"confirmed"]],function(l,n,e){var t=!0;return"confirmed"===n&&(t=!1!==l.component.onRemoveConfirmed(e)&&t),t},Ql.b,Ql.a)),t["\u0275did"](3,49152,[["confirmlesson",4]],0,Xl.a,[],{level:[0,"level"],text:[1,"text"]},{confirmed:"confirmed"}),(l()(),t["\u0275eld"](4,0,null,0,1,"div",[["title",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["",""])),(l()(),t["\u0275eld"](6,0,null,1,1,"div",[["message",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""]))],function(l,n){var e=n.component;l(n,1,0,e.isReady),l(n,3,0,"warning",e.text)},function(l,n){var e=n.component;l(n,5,0,e.text.Warning),l(n,7,0,e.getRemoveMessage())})}var cn=function(){function l(l){this.router=l,this.toggleOpen=new t.EventEmitter,this.remove=new t.EventEmitter,this.sorted=new t.EventEmitter,this.isRemoving=!1}return l.prototype.onClick=function(l,n,e){switch(l.preventDefault(),e){case"openchapter":this.openChapter();break;case"removechapter":this.askRemoveChapter(n)}},l.prototype.onResorted=function(l){this.sortingId=l,this.sorted.emit()},l.prototype.onDraggedStart=function(l){this.draggingId=l},l.prototype.onDraggedEnd=function(l){this.sortingId!==this.draggingId&&this.sorted.emit(),this.sortingId=null,this.draggingId=null},l.prototype.getLessonLabel=function(l){return 1===l?this.text.lesson:this.text.lessons},l.prototype.getRemoveMessage=function(l){var n="";return this.text["Remove"+l]&&(n=(n=this.text["Remove"+l]).replace("%s",this.title)),n},l.prototype.onRemoveConfirmed=function(l){l&&(this.isRemoving=!0,this.remove.emit(!0))},l.prototype.openChapter=function(){this.toggleOpen.emit()},l.prototype.askRemoveChapter=function(l){this.isRemoving||(l.showModal=!0)},l}(),dn=t["\u0275crt"]({encapsulation:0,styles:[yl],data:{}});function pn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"li",[["class","move"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"button",[["class","btn btn-primary pull-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"span",[["class","fa fa-arrows-alt"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "]))],null,function(l,n){l(n,3,0,n.component.text.Move)})}function gn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onClick(e,t["\u0275nov"](l.parent,20),"removechapter")&&u),u},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"span",[["class","fa fa-trash"]],null,null,null,null,null))],null,null)}function fn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,18,"div",[["class","navbar navbar-default"],["dnd-sortable",""]],[[2,"isOpen",null]],[[null,"click"],[null,"onDragStart"],[null,"onDragEnd"],[null,"onDropSuccess"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onClick(e,null,"openchapter")&&t),"onDragStart"===n&&(t=!1!==u.onDraggedStart(u.title)&&t),"onDragEnd"===n&&(t=!1!==u.onDraggedEnd(u.title)&&t),"onDropSuccess"===n&&(t=!1!==u.onResorted(u.title)&&t),t},null,null)),t["\u0275did"](1,16384,null,0,Hl,[t.ElementRef,Tl,Sl,Bl,Ol,t.ChangeDetectorRef],{index:[0,"index"],draggable:[1,"draggable"]},{onDragStartCallback:"onDragStart",onDragEndCallback:"onDragEnd",onDropSuccessCallback:"onDropSuccess"}),(l()(),t["\u0275eld"](2,0,null,null,4,"div",[["class","navbar-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,3,"a",[["class","navbar-brand"],["href","#"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onClick(e,null,"open")&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,2,"span",[["class","fa"]],null,null,null,null,null)),t["\u0275did"](5,278528,null,0,y.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](6,{"fa-caret-down":0,"fa-caret-right":1}),(l()(),t["\u0275eld"](7,0,null,null,11,"div",[["class","collapse navbar-collapse"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,5,"ul",[["class","nav navbar-nav"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,4,"li",[],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,3,"a",[["href","#"]],null,null,null,null,null)),(l()(),t["\u0275ted"](11,null,[" ",". "," "])),(l()(),t["\u0275eld"](12,0,null,null,1,"span",[["class","lesson-cnt"]],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,["("," ",")"])),(l()(),t["\u0275eld"](14,0,null,null,4,"ul",[["class","nav navbar-nav navbar-right"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,pn)),t["\u0275did"](16,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,gn)),t["\u0275did"](18,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](19,0,null,null,5,"km-modal-confirm",[],null,[[null,"confirmed"]],function(l,n,e){var t=!0;return"confirmed"===n&&(t=!1!==l.component.onRemoveConfirmed(e)&&t),t},Ql.b,Ql.a)),t["\u0275did"](20,49152,[["confirmchapter",4]],0,Xl.a,[],{level:[0,"level"],text:[1,"text"]},{confirmed:"confirmed"}),(l()(),t["\u0275eld"](21,0,null,0,1,"div",[["title",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](22,null,["",""])),(l()(),t["\u0275eld"](23,0,null,1,1,"div",[["message",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](24,null,["",""]))],function(l,n){var e=n.component;l(n,1,0,e.nr,!e.isOpen),l(n,5,0,"fa",l(n,6,0,e.isOpen,!e.isOpen)),l(n,16,0,!e.isOpen&&e.chapterTotal>1),l(n,18,0,0===e.total),l(n,20,0,"warning",e.text)},function(l,n){var e=n.component;l(n,0,0,e.isOpen),l(n,11,0,e.nr+1,e.title),l(n,13,0,e.total,e.getLessonLabel(e.total)),l(n,22,0,e.text.Warning),l(n,24,0,e.getRemoveMessage("Chapter"))})}var mn=function(){function l(l,n){this.buildService=l,this.errorService=n,this.sorted=new t.EventEmitter,this.componentActive=!0,this.currentChapter="",this.lessonswithnochapter=[]}return l.prototype.getLessons=function(l){return this.lessons.filter(function(n){return n.chapterName===l})},l.prototype.getLessonIds=function(l){var n=[],e=this.lessonIds.filter(function(n){return n.chapter===l})[0];return e&&e.lessonIds&&(n=e.lessonIds),n},l.prototype.onToggleChapter=function(l){this.currentChapter=l===this.currentChapter?"":l},l.prototype.onRemoveChapter=function(l){this.removeChapter(l)},l.prototype.onRemoveLesson=function(l){this.removeLesson(l)},l.prototype.onResortedChapters=function(){this.saveResortedChapters()},l.prototype.onResortedLessons=function(l,n){this.sorted.emit({chapter:l,lessonIds:n})},l.prototype.isCurrent=function(l){return l===this.currentChapter},l.prototype.saveResortedChapters=function(){var l=this;this.buildService.updateChapters(this.courseId,this.chapters).pipe(Object(_.a)(function(){return l.componentActive})).subscribe(function(){},function(n){return l.errorService.handleError(n)})},l.prototype.removeChapter=function(l){var n=this;this.buildService.removeChapter(this.courseId,l).pipe(Object(_.a)(function(){return n.componentActive})).subscribe(function(e){e&&(n.chapters=n.chapters.filter(function(n){return n!==l}))},function(l){return n.errorService.handleError(l)})},l.prototype.removeLesson=function(l){var n=this;l&&this.buildService.removeLesson(l).pipe(Object(_.a)(function(){return n.componentActive})).subscribe(function(e){e&&(n.lessons=n.lessons.filter(function(n){return n._id!==l}),n.lessonIds.forEach(function(n){n.lessonIds=n.lessonIds.filter(function(n){return n!==l})}))},function(l){return n.errorService.handleError(l)})},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),hn=t["\u0275crt"]({encapsulation:0,styles:[".noChapter[_ngcontent-%COMP%] {\n      background-color: #428bca;\n      padding: 2px;\n      margin-top: 20px;\n      font-size: 20px;\n      margin-bottom: 0;\n      border-top-right-radius: 4px;\n      border-top-left-radius: 4px;\n      height: 32px;\n    }"],data:{}});function vn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"div",[["class","noChapter"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"km-chapter-lessons",[],null,[[null,"remove"],[null,"sorted"]],function(l,n,e){var t=!0,u=l.component;return"remove"===n&&(t=!1!==u.onRemoveLesson(e)&&t),"sorted"===n&&(t=!1!==u.onResortedLessons("",e)&&t),t},an,nn)),t["\u0275did"](4,9158656,null,0,ln,[i.l,t.ChangeDetectorRef],{lessons:[0,"lessons"],lessonIds:[1,"lessonIds"],text:[2,"text"]},{remove:"remove",sorted:"sorted"})],function(l,n){var e=n.component;l(n,4,0,e.getLessons(""),e.getLessonIds(""),e.text)},null)}function bn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-chapter-lessons",[],null,[[null,"remove"],[null,"sorted"]],function(l,n,e){var t=!0,u=l.component;return"remove"===n&&(t=!1!==u.onRemoveLesson(e)&&t),"sorted"===n&&(t=!1!==u.onResortedLessons(l.parent.context.$implicit,e)&&t),t},an,nn)),t["\u0275did"](1,9158656,null,0,ln,[i.l,t.ChangeDetectorRef],{lessons:[0,"lessons"],lessonIds:[1,"lessonIds"],text:[2,"text"],chapterNr:[3,"chapterNr"]},{remove:"remove",sorted:"sorted"})],function(l,n){var e=n.component;l(n,1,0,e.getLessons(n.parent.context.$implicit),e.getLessonIds(n.parent.context.$implicit),e.text,n.parent.context.index)},null)}function xn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"km-chapter",[["dnd-sortable-container",""]],null,[[null,"toggleOpen"],[null,"remove"],[null,"sorted"]],function(l,n,e){var t=!0,u=l.component;return"toggleOpen"===n&&(t=!1!==u.onToggleChapter(l.context.$implicit)&&t),"remove"===n&&(t=!1!==u.onRemoveChapter(l.context.$implicit)&&t),"sorted"===n&&(t=!1!==u.onResortedChapters()&&t),t},fn,dn)),t["\u0275did"](2,16384,null,0,Bl,[t.ElementRef,Tl,Sl,t.ChangeDetectorRef,Ol],{sortableData:[0,"sortableData"]},null),t["\u0275did"](3,49152,null,0,cn,[i.l],{title:[0,"title"],total:[1,"total"],chapterTotal:[2,"chapterTotal"],isOpen:[3,"isOpen"],text:[4,"text"],nr:[5,"nr"]},{toggleOpen:"toggleOpen",remove:"remove",sorted:"sorted"}),(l()(),t["\u0275and"](16777216,null,null,1,null,bn)),t["\u0275did"](5,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.chapters),l(n,3,0,n.context.$implicit,e.getLessons(n.context.$implicit).length,e.chapters.length,e.isCurrent(n.context.$implicit),e.text,n.context.index),l(n,5,0,e.isCurrent(n.context.$implicit))},null)}function Cn(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,vn)),t["\u0275did"](1,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,xn)),t["\u0275did"](3,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,1,0,e.getLessons("").length>0),l(n,3,0,e.chapters)},null)}var wn=e("upxA"),yn=e("UPuv"),In=function(){function l(){this.maxList=5,this.showList=!1}return l.prototype.ngOnInit=function(){this.currentItem&&(this.entry=this.currentItem),this.fetchList(this.entry)},l.prototype.showItemList=function(){this.setNewItem(),this.fetchList(this.entry),this.showList=!0},l.prototype.hideItemList=function(){this.showList=!1},l.prototype.toggleItemList=function(){this.showList=!this.showList},l.prototype.fetchList=function(l){if(this.items)if(l){var n=new RegExp(l);this.showItems=this.items.filter(function(l){return n.test(l)}).slice(-this.maxList)}else this.showItems=this.items.slice(-this.maxList)},l.prototype.selectItem=function(l){this.currentItem=this.showItems[l],this.entry=this.currentItem,this.showList=!1},l.prototype.setNewItem=function(){var l=this;this.currentItem&&this.currentItem!==this.entry&&(this.currentItem=this.items.filter(function(n){return n===l.entry})[0]),this.currentItem||(this.currentItem=this.entry)},l}(),Rn=t["\u0275crt"]({encapsulation:0,styles:[['.selector[_ngcontent-%COMP%]{position:relative;z-index:10}.dropdown[_ngcontent-%COMP%]{bottom:0;left:0;position:absolute;right:0;top:46px}.list-group-item[_ngcontent-%COMP%]{cursor:pointer;font-size:18px;margin:0 15px;z-index:10}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#1e90ff;color:#fff}.dropdownField[_ngcontent-%COMP%]{display:inline-block;position:relative}.dropdownField[_ngcontent-%COMP%]::before{position:absolute;font-family:FontAwesome;font-size:18px;content:"\\f0d7";right:20px;height:20px;width:20px;top:10px}.nr[_ngcontent-%COMP%]{color:#999}']],data:{}});function En(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"li",[["class","list-group-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.selectItem(l.context.index)&&t),t},null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function Sn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ul",[["class","list-group dropdown"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,En)),t["\u0275did"](2,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.showItems)},null)}function Dn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","form-group form-group-lg selector"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","col-xs-12 dropdownField"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggleItemList()&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["id","name"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,3)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,3).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,3)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,3)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(o.entry=e)&&u),"ngModelChange"===n&&(u=!1!==o.showItemList()&&u),u},null,null)),t["\u0275did"](3,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](5,671744,null,0,ll.s,[[8,null],[8,null],[8,null],[6,ll.o]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,ll.p,null,[ll.s]),t["\u0275did"](7,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Sn)),t["\u0275did"](9,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,5,0,e.entry),l(n,9,0,e.showList)},function(l,n){l(n,2,0,n.component.placeholder||"",t["\u0275nov"](n,7).ngClassUntouched,t["\u0275nov"](n,7).ngClassTouched,t["\u0275nov"](n,7).ngClassPristine,t["\u0275nov"](n,7).ngClassDirty,t["\u0275nov"](n,7).ngClassValid,t["\u0275nov"](n,7).ngClassInvalid,t["\u0275nov"](n,7).ngClassPending)})}var kn=function(l){return l[l.Intro=0]="Intro",l[l.Dialogue=1]="Dialogue",l[l.Study=2]="Study",l[l.Practise=3]="Practise",l[l.Exam=4]="Exam",l}({}),Tn=function(){function l(l,n,e){this.formBuilder=l,this.buildService=n,this.errorService=e,this.regions=[],this.done=new t.EventEmitter,this.doneandgo=new t.EventEmitter,this.componentActive=!0,this.bidirectional=[!1,!1,!1,!0,!1],this.ordered=[!1,!1,!0,!1,!0],this.active=[!1,!1,!0,!0,!0],this.isFormReady=!1,this.isNew=!0,this.isSubmitted=!1,this.tpeLabels=["Intro","Dialogue","Study","Practise","Exam"],this.steps=kn}return l.prototype.ngOnInit=function(){this.lesson?this.editLesson():this.createNewLesson()},l.prototype.onCancel=function(){this.done.emit(null)},l.prototype.onSubmit=function(l,n){this.processLesson(l),this.lesson._id?this.updateLesson():this.addLesson(n),this.isSubmitted=!0},l.prototype.onFocusName=function(){this.autocomplete.showList=!1},l.prototype.onToggleBidirectional=function(l,n){l.preventDefault(),l.stopPropagation(),this.bidirectional[n]=!this.bidirectional[n]},l.prototype.onToggleOrdered=function(l,n){l.preventDefault(),l.stopPropagation(),this.ordered[n]=!this.ordered[n]},l.prototype.onSetFlag=function(l,n){var e;this.lessonForm.patchValue(((e={})[l]=n,e)),this.lessonForm.markAsDirty()},l.prototype.onSetRegion=function(l){this.lessonForm.patchValue({region:l}),this.lessonForm.markAsDirty()},l.prototype.isLastActive=function(l){if(!this.lessonForm.value.exerciseSteps[3]){var n=this.lessonForm.value.exerciseSteps;n[4]&&(1===this.lessonForm.value.exerciseSteps.filter(function(l){return!0===l}).length?n[3]=!0:n[4]=!1,this.lessonForm.patchValue({exerciseSteps:n}))}if(this.lessonForm.value.exerciseSteps[l])return 1===this.lessonForm.value.exerciseSteps.filter(function(l){return!0===l}).length},l.prototype.editLesson=function(){this.isNew=!1,this.courseId=this.lesson.courseId,this.languagePair=this.lesson.languagePair,this.bidirectional=[this.lesson.exerciseSteps.intro.bidirectional,this.lesson.exerciseSteps.dialogue.bidirectional,this.lesson.exerciseSteps.study.bidirectional,this.lesson.exerciseSteps.practise.bidirectional,this.lesson.exerciseSteps.exam.bidirectional],this.ordered=[this.lesson.exerciseSteps.intro.ordered,this.lesson.exerciseSteps.dialogue.ordered,this.lesson.exerciseSteps.study.ordered,this.lesson.exerciseSteps.practise.ordered,this.lesson.exerciseSteps.exam.ordered],this.active=[this.lesson.exerciseSteps.intro.active,this.lesson.exerciseSteps.dialogue.active,this.lesson.exerciseSteps.study.active,this.lesson.exerciseSteps.practise.active,this.lesson.exerciseSteps.exam.active],this.buildForm()},l.prototype.createNewLesson=function(){this.isNew=!0,this.lesson={_id:"",courseId:this.courseId,languagePair:this.languagePair,name:"",chapterName:"",options:{caseSensitive:this.defaults.caseSensitive,addArticle:this.defaults.addArticle,region:this.defaults.region},exerciseSteps:{intro:{active:!1,bidirectional:!1,ordered:!1},dialogue:{active:!1,bidirectional:!1,ordered:!1},study:{active:!0,bidirectional:!1,ordered:!1},practise:{active:!0,bidirectional:!0,ordered:!1},exam:{active:!0,bidirectional:!1,ordered:!1}},exercises:[],difficulty:0},this.buildForm()},l.prototype.buildForm=function(){for(var l=[],n=0;n<this.tpeLabels.length;n++)l.push(new ll.g(this.active[n]));this.lessonForm=this.formBuilder.group({name:[this.lesson.name,[ll.x.required]],exerciseSteps:new ll.e(l),caseSensitive:[this.lesson.options.caseSensitive],addArticle:[this.lesson.options.addArticle],region:[this.lesson.options.region]}),this.isFormReady=!0},l.prototype.processLesson=function(l){this.lesson.chapterName=this.autocomplete.currentItem?this.autocomplete.currentItem:"",this.lesson.name=l.name,this.lesson.options={caseSensitive:l.caseSensitive,addArticle:l.addArticle,region:l.region},this.lesson.exerciseSteps={intro:this.setExerciseStep(l,kn.Intro),dialogue:this.setExerciseStep(l,kn.Dialogue),study:this.setExerciseStep(l,kn.Study),practise:this.setExerciseStep(l,kn.Practise),exam:this.setExerciseStep(l,kn.Exam)}},l.prototype.setExerciseStep=function(l,n){return{active:l.exerciseSteps[n],bidirectional:this.bidirectional[n],ordered:this.ordered[n]}},l.prototype.addLesson=function(l){var n=this;this.lesson.languagePair=this.languagePair,this.buildService.addLesson(this.lesson).pipe(Object(_.a)(function(){return n.componentActive})).subscribe(function(e){n.lesson=e,l?n.doneandgo.emit(e):n.done.emit(e)},function(l){return n.errorService.handleError(l)})},l.prototype.updateLesson=function(){var l=this;this.buildService.updateLessonHeader(this.lesson).pipe(Object(_.a)(function(){return l.componentActive})).subscribe(function(n){return l.done.emit(l.lesson)},function(n){return l.errorService.handleError(n)})},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),_n=t["\u0275crt"]({encapsulation:0,styles:[[".btn-group[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{width:18px}.btn-group[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:green}.btn-group[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:red}.toggle[_ngcontent-%COMP%]{color:#ccc;margin-left:4px}.toggle[_ngcontent-%COMP%]:hover{color:#999}.toggle.sel[_ngcontent-%COMP%]{color:green}km-toggle[_ngcontent-%COMP%]{top:6px;position:relative}#region[_ngcontent-%COMP%]{position:relative;top:12px}.btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin-right:0}"]],data:{}});function On(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"span",[["class","fa fa-exchange toggle"]],[[2,"sel",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onToggleBidirectional(e,l.parent.context.index)&&t),t},null,null))],null,function(l,n){l(n,0,0,n.component.bidirectional[n.parent.context.index]&&n.parent.context.$implicit.value)})}function Pn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"span",[["class","fa fa-list-ol toggle"]],[[2,"sel",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onToggleOrdered(e,l.parent.context.index)&&t),t},null,null))],null,function(l,n){l(n,0,0,n.component.ordered[n.parent.context.index]&&n.parent.context.$implicit.value)})}function Nn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,16,"label",[["class","btn btn-default btn-lg"]],null,null,null,null,null)),t["\u0275did"](1,278528,null,0,y.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](2,{active:0}),(l()(),t["\u0275eld"](3,0,null,null,2,"span",[["class","fa"]],null,null,null,null,null)),t["\u0275did"](4,278528,null,0,y.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](5,{"fa-check":0,"fa-times":1}),(l()(),t["\u0275eld"](6,0,null,null,5,"input",[["name","options"],["type","checkbox"]],[[8,"value",0],[1,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var u=!0;return"change"===n&&(u=!1!==t["\u0275nov"](l,7).onChange(e.target.checked)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,7).onTouched()&&u),u},null,null)),t["\u0275did"](7,16384,null,0,ll.b,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.b]),t["\u0275did"](9,540672,null,0,ll.h,[[8,null],[8,null],[6,ll.o],[2,ll.B]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.h]),t["\u0275did"](11,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275ted"](12,null,[" "," "])),(l()(),t["\u0275and"](16777216,null,null,1,null,On)),t["\u0275did"](14,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Pn)),t["\u0275did"](16,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,1,0,"btn btn-default btn-lg",l(n,2,0,!n.context.$implicit.value)),l(n,4,0,"fa",l(n,5,0,n.context.$implicit.value,!n.context.$implicit.value)),l(n,9,0,n.context.$implicit),l(n,14,0,n.context.index===e.steps.Practise),l(n,16,0,n.context.index===e.steps.Study||n.context.index===e.steps.Exam)},function(l,n){var e=n.component;l(n,6,0,t["\u0275inlineInterpolate"](1,"",e.value-1,""),e.isLastActive(n.context.index)?"":null,t["\u0275nov"](n,11).ngClassUntouched,t["\u0275nov"](n,11).ngClassTouched,t["\u0275nov"](n,11).ngClassPristine,t["\u0275nov"](n,11).ngClassDirty,t["\u0275nov"](n,11).ngClassValid,t["\u0275nov"](n,11).ngClassInvalid,t["\u0275nov"](n,11).ngClassPending),l(n,12,0,e.text[e.tpeLabels[n.context.index]])})}function Fn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","form-group form-group-lg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"label",[["class","control-label col-xs-2"],["for","addArticle"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[" "," "])),(l()(),t["\u0275eld"](3,0,null,null,2,"div",[["class","col-xs-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"km-toggle",[["id","addArticle"]],null,[[null,"toggled"]],function(l,n,e){var t=!0;return"toggled"===n&&(t=!1!==l.component.onSetFlag("addArticle",e)&&t),t},nl.b,nl.a)),t["\u0275did"](5,49152,null,0,el.a,[],{toggle:[0,"toggle"]},{toggled:"toggled"})],function(l,n){l(n,5,0,n.component.lessonForm.value.addArticle)},function(l,n){l(n,2,0,n.component.text.AddArticle)})}function Ln(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","form-group form-group-lg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"label",[["class","control-label col-xs-2"],["for","region"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[" "," "])),(l()(),t["\u0275eld"](3,0,null,null,2,"div",[["class","col-xs-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"km-region-flag-selector",[["id","region"]],null,[[null,"newRegion"]],function(l,n,e){var t=!0;return"newRegion"===n&&(t=!1!==l.component.onSetRegion(e)&&t),t},sl,ul)),t["\u0275did"](5,114688,null,0,tl,[],{lan:[0,"lan"],region:[1,"region"],regions:[2,"regions"]},{newRegion:"newRegion"})],function(l,n){var e=n.component;l(n,5,0,e.languagePair.to,e.lessonForm.value.region,e.regions)},function(l,n){l(n,2,0,n.component.text.Region)})}function An(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-success"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onSubmit(u.lessonForm.value,!0)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","fa fa-check fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[""," "]))],null,function(l,n){var e=n.component;l(n,0,0,!e.lessonForm.valid),l(n,2,0,e.text.AddLessonAndGo)})}function Vn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,49,"form",[["class","form-horizontal"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t["\u0275nov"](l,2).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,2).onReset()&&u),u},null,null)),t["\u0275did"](1,16384,null,0,ll.z,[],null,null),t["\u0275did"](2,540672,null,0,ll.j,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,ll.c,null,[ll.j]),t["\u0275did"](4,16384,null,0,ll.r,[[4,ll.c]],null,null),(l()(),t["\u0275eld"](5,0,null,null,11,"div",[["class","form-group form-group-lg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"label",[["class","control-label col-xs-2"],["for","name"]],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""])),(l()(),t["\u0275eld"](8,0,null,null,8,"div",[["class","col-xs-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["formControlName","name"],["id","name"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,10)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,10).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,10)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,10)._compositionEnd(e.target.value)&&u),"focus"===n&&(u=!1!==o.onFocusName()&&u),u},null,null)),t["\u0275did"](10,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](12,671744,null,0,ll.i,[[3,ll.c],[8,null],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](14,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275eld"](15,0,null,null,1,"km-field-messages",[],null,null,null,wn.b,wn.a)),t["\u0275did"](16,49152,null,0,yn.a,[],{control:[0,"control"],label:[1,"label"],text:[2,"text"]},null),(l()(),t["\u0275eld"](17,0,null,null,5,"div",[["class","form-group form-group-lg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"label",[["class","control-label col-xs-2"],["for","name"]],null,null,null,null,null)),(l()(),t["\u0275ted"](19,null,["",""])),(l()(),t["\u0275eld"](20,0,null,null,2,"div",[["class","col-xs-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,1,"km-autocomplete",[],null,null,null,Dn,Rn)),t["\u0275did"](22,114688,[[1,4]],0,In,[],{items:[0,"items"],currentItem:[1,"currentItem"],placeholder:[2,"placeholder"]},null),(l()(),t["\u0275eld"](23,0,null,null,6,"div",[["class","form-group form-group-lg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,1,"label",[["class","control-label col-xs-2"],["for","name"]],null,null,null,null,null)),(l()(),t["\u0275ted"](25,null,["",""])),(l()(),t["\u0275eld"](26,0,null,null,3,"div",[["class","col-xs-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,2,"div",[["class","btn-group"],["data-toggle","buttons"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Nn)),t["\u0275did"](29,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](30,0,null,null,5,"div",[["class","form-group form-group-lg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,1,"label",[["class","control-label col-xs-2"],["for","caseSensitive"]],null,null,null,null,null)),(l()(),t["\u0275ted"](32,null,[" "," "])),(l()(),t["\u0275eld"](33,0,null,null,2,"div",[["class","col-xs-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](34,0,null,null,1,"km-toggle",[["id","caseSensitive"]],null,[[null,"toggled"]],function(l,n,e){var t=!0;return"toggled"===n&&(t=!1!==l.component.onSetFlag("caseSensitive",e)&&t),t},nl.b,nl.a)),t["\u0275did"](35,49152,null,0,el.a,[],{toggle:[0,"toggle"]},{toggled:"toggled"}),(l()(),t["\u0275and"](16777216,null,null,1,null,Fn)),t["\u0275did"](37,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ln)),t["\u0275did"](39,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](40,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](41,0,null,null,8,"div",[["class","col-xs-10 col-xs-offset-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](42,0,null,null,2,"button",[["class","btn btn-success"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onSubmit(u.lessonForm.value)&&t),t},null,null)),(l()(),t["\u0275eld"](43,0,null,null,0,"span",[["class","fa fa-check fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](44,null,[""," "])),(l()(),t["\u0275and"](16777216,null,null,1,null,An)),t["\u0275did"](46,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](47,0,null,null,2,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancel()&&t),t},null,null)),(l()(),t["\u0275eld"](48,0,null,null,0,"span",[["class","fa fa-times fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](49,null,[""," "]))],function(l,n){var e=n.component;l(n,2,0,e.lessonForm),l(n,12,0,"name"),l(n,16,0,e.lessonForm.controls.name,"LessonName",e.text),l(n,22,0,e.chapters,e.lesson.chapterName,e.text.EnterChapterName||""),l(n,29,0,e.lessonForm.controls.exerciseSteps.controls),l(n,35,0,e.lessonForm.value.caseSensitive),l(n,37,0,null==e.defaults?null:e.defaults.addArticle),l(n,39,0,e.regions.length>0),l(n,46,0,e.isNew)},function(l,n){var e=n.component;l(n,0,0,t["\u0275nov"](n,4).ngClassUntouched,t["\u0275nov"](n,4).ngClassTouched,t["\u0275nov"](n,4).ngClassPristine,t["\u0275nov"](n,4).ngClassDirty,t["\u0275nov"](n,4).ngClassValid,t["\u0275nov"](n,4).ngClassInvalid,t["\u0275nov"](n,4).ngClassPending),l(n,7,0,e.text.Lesson),l(n,9,0,e.text.EnterLessonName||"",t["\u0275nov"](n,14).ngClassUntouched,t["\u0275nov"](n,14).ngClassTouched,t["\u0275nov"](n,14).ngClassPristine,t["\u0275nov"](n,14).ngClassDirty,t["\u0275nov"](n,14).ngClassValid,t["\u0275nov"](n,14).ngClassInvalid,t["\u0275nov"](n,14).ngClassPending),l(n,19,0,e.text.Chapter),l(n,25,0,e.text.LessonTypes),l(n,32,0,e.text.CaseSensitive),l(n,42,0,!e.lessonForm.valid),l(n,44,0,e.isNew?e.text.Addlesson:e.text.Update),l(n,49,0,e.text.cancel)})}function jn(l){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{autocomplete:0}),(l()(),t["\u0275and"](16777216,null,null,1,null,Vn)),t["\u0275did"](2,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.isFormReady)},null)}var Mn=e("VnD/"),$n=function(){function l(l,n,e,t,u,o,i){this.router=l,this.route=n,this.buildService=e,this.errorService=t,this.utilsService=u,this.userService=o,this.authService=i,this.componentActive=!0,this.isLoading=!1,this.isEditMode=!1,this.isNewLesson=!1,this.isCourseReady=!1,this.isError=!1,this.text={}}return l.prototype.ngOnInit=function(){this.getDependables()},l.prototype.onEditCourse=function(){this.isEditMode=!0},l.prototype.onCloseHeader=function(l){l&&(this.course=l),this.isEditMode=!1},l.prototype.onNewLesson=function(){this.isNewLesson=!0},l.prototype.onSortedLessons=function(l){this.setLessonIds(l),this.saveResortedLessons()},l.prototype.onLessonDone=function(l,n){this.isNewLesson=!1,l&&this.addedLesson(l,n)},l.prototype.isEditor=function(){return this.userService.hasAccessLevel(this.course.access,T.a.Editor)},l.prototype.addedLesson=function(l,n){this.lessons.push(l),l.chapterName&&this.chapters.filter(function(n){return n===l.chapterName}).length<1?this.addChapter(l.chapterName,l._id,n):this.addLessonId(l.chapterName,l._id,n)},l.prototype.getCourse=function(l){var n=this;this.authService.isLoggedIn()?(this.isLoading=!0,this.buildService.fetchCourse(l).pipe(Object(_.a)(function(){return n.componentActive})).subscribe(function(e){n.course=e,e?(n.utilsService.setPageTitle(null,e.name,!0),n.chapters=e.chapters,n.lessonIds=e.lessons,n.setDefaultLanguage(e.languagePair.to),n.getLessons(l),n.isCourseReady=!0):(n.isLoading=!1,n.infoMsg=n.text.NotAuthorizedEditCourse)},function(l){return n.errorService.handleError(l)})):this.infoMsg=this.text.NotAuthorizedEditCourse},l.prototype.getLessons=function(l){var n=this;this.buildService.fetchLessons(l).pipe(Object(_.a)(function(){return n.componentActive})).subscribe(function(l){n.isLoading=!1,n.lessons=l},function(l){return n.errorService.handleError(l)})},l.prototype.addChapter=function(l,n,e){var t=this;l?(this.chapters.push(l),this.buildService.addChapter(this.course._id,l,n).pipe(Object(_.a)(function(){return t.componentActive})).subscribe(function(l){e&&t.router.navigate(["/build/lesson/"+n])},function(l){return t.errorService.handleError(l)})):e&&this.router.navigate(["/build/lesson/"+n])},l.prototype.addLessonId=function(l,n,e){var t=this;this.buildService.updateCourseLesson(this.course._id,l,n).pipe(Object(_.a)(function(){return t.componentActive})).subscribe(function(l){e&&t.router.navigate(["/build/lesson/"+n])},function(l){return t.errorService.handleError(l)})},l.prototype.setLessonIds=function(l){var n=l.chapter,e=l.lessonIds,t=this.lessonIds.filter(function(l){return l.chapter===n})[0];t&&e?t.lessonIds=e:this.lessonIds.push({chapter:n,lessonIds:e})},l.prototype.saveResortedLessons=function(){var l=this;this.buildService.updateLessonIds(this.course._id,this.lessonIds).pipe(Object(_.a)(function(){return l.componentActive})).subscribe(function(){},function(n){return l.errorService.handleError(n)})},l.prototype.setDefaultLanguage=function(l){var n,e=this;l?n=this.languages.filter(function(n){return n.code===l}):this.userService.user.jazyk&&(n=this.languages.filter(function(l){return l.code===e.userService.user.jazyk.learn.lan})),this.currentLanguage=n&&n.length>0?n[0]:this.languages[0]},l.prototype.setText=function(l){this.text=this.utilsService.getTranslatedText(l)},l.prototype.setActiveLanguages=function(l){this.languages=l.filter(function(l){return l.active})},l.prototype.getDependables=function(){var l=this;this.utilsService.fetchDependables({lan:this.userService.user.main.lan,component:"CourseComponent",getTranslations:!0,getLanguages:!0}).pipe(Object(_.a)(function(){return l.componentActive})).subscribe(function(n){l.text=l.utilsService.getTranslatedText(n.translations),l.setActiveLanguages(n.courseLanguages),l.getRouteParams()},function(n){return l.errorService.handleError(n)})},l.prototype.getRouteParams=function(){var l=this;this.route.params.pipe(Object(_.a)(function(){return l.componentActive}),Object(Mn.a)(function(l){return l.id})).subscribe(function(n){var e=n.id;"new"===e?(l.isEditMode=!0,l.setDefaultLanguage(n.lan)):(l.isEditMode=!1,l.getCourse(e))})},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),qn=t["\u0275crt"]({encapsulation:0,styles:[q,[".chapters[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}"]],data:{}});function Wn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-build-course-header-bar",[],null,[[null,"edit"]],function(l,n,e){var t=!0;return"edit"===n&&(t=!1!==l.component.onEditCourse()&&t),t},Y,H)),t["\u0275did"](1,245760,null,0,z,[i.l,k,C.a,h.a,w.a],{course:[0,"course"],text:[1,"text"],canEditCourse:[2,"canEditCourse"]},{edit:"edit"})],function(l,n){var e=n.component;l(n,1,0,e.course,e.text,!0)},null)}function Bn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-build-course-header",[],null,[[null,"done"]],function(l,n,e){var t=!0;return"done"===n&&(t=!1!==l.component.onCloseHeader(e)&&t),t},wl,cl)),t["\u0275did"](1,245760,null,0,al,[i.l,ll.f,k,h.a,w.a],{text:[0,"text"],course:[1,"course"],languages:[2,"languages"],currentLanguage:[3,"currentLanguage"]},{done:"done"})],function(l,n){var e=n.component;l(n,1,0,e.text,e.course,e.languages,e.currentLanguage)},null)}function Un(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","panel panel-default chapters"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"km-build-lessons",[],null,[[null,"sorted"]],function(l,n,e){var t=!0;return"sorted"===n&&(t=!1!==l.component.onSortedLessons(e)&&t),t},Cn,hn)),t["\u0275did"](3,180224,null,0,mn,[k,w.a],{courseId:[0,"courseId"],lessons:[1,"lessons"],lessonIds:[2,"lessonIds"],chapters:[3,"chapters"],text:[4,"text"]},{sorted:"sorted"})],function(l,n){var e=n.component;l(n,3,0,e.course._id,e.lessons,e.lessonIds,e.chapters,e.text)},null)}function zn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","btn btn-success btn-lg"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onNewLesson()&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"span",[["class","fa fa-file fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[""," "]))],null,function(l,n){l(n,3,0,n.component.text.NewLesson)})}function Hn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","footer transparant"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,zn)),t["\u0275did"](2,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null)],function(l,n){l(n,2,0,!n.component.isNewLesson,t["\u0275nov"](n.parent,8))},null)}function Gn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","panel panel-default"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"km-build-lesson-header",[],null,[[null,"doneandgo"],[null,"done"]],function(l,n,e){var t=!0,u=l.component;return"doneandgo"===n&&(t=!1!==u.onLessonDone(e,!0)&&t),"done"===n&&(t=!1!==u.onLessonDone(e,!1)&&t),t},jn,_n)),t["\u0275did"](4,245760,null,0,Tn,[ll.f,k,w.a],{courseId:[0,"courseId"],languagePair:[1,"languagePair"],lessons:[2,"lessons"],defaults:[3,"defaults"],chapters:[4,"chapters"],regions:[5,"regions"],nr:[6,"nr"],text:[7,"text"]},{done:"done",doneandgo:"doneandgo"})],function(l,n){var e=n.component;l(n,4,0,e.course._id,e.course.languagePair,e.lessons,e.course.defaults,e.chapters,null==e.currentLanguage?null:e.currentLanguage.regions,e.lessons.length,e.text)},null)}function Kn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-loader",[],null,null,null,E.b,E.a)),t["\u0275did"](1,114688,null,0,S.a,[],{msg:[0,"msg"]},null)],function(l,n){l(n,1,0,n.component.text.LoadingLessons)},null)}function Jn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-info-msg",[],null,null,null,I.b,I.a)),t["\u0275did"](1,49152,null,0,R.a,[],{msg:[0,"msg"]},null)],function(l,n){l(n,1,0,n.component.infoMsg)},null)}function Zn(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,Wn)),t["\u0275did"](1,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Bn)),t["\u0275did"](3,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Un)),t["\u0275did"](5,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Hn)),t["\u0275did"](7,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,[["addLesson",2]],null,0,null,Gn)),(l()(),t["\u0275and"](16777216,null,null,1,null,Kn)),t["\u0275did"](10,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Jn)),t["\u0275did"](12,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,1,0,!e.isEditMode&&e.isCourseReady),l(n,3,0,e.isEditMode),l(n,5,0,(null==e.lessons?null:e.lessons.length)>0),l(n,7,0,e.course&&e.isEditor()),l(n,10,0,e.isLoading&&!e.isError),l(n,12,0,e.infoMsg)},null)}var Qn=t["\u0275ccf"]("ng-component",$n,function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,Zn,qn)),t["\u0275did"](1,245760,null,0,$n,[i.l,i.a,k,w.a,b.a,h.a,x.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),Xn=e("io3w"),Yn=e("wKLs"),le=e("yPRg"),ne=e("oufz"),ee=e("IFLc"),te=e("+ZHm"),ue=e("cy3S"),oe=e("gqJ5"),ie=e("+gmn"),re=function(){function l(l){this.previewService=l,this.exType=Yl.c,this.direction="local"}return l.prototype.ngOnInit=function(){this.exerciseData={exercise:this.exercise,data:{isCaseSensitive:this.lessonOptions.caseSensitive},result:{}},this.previewService.buildLocalData(this.exerciseData,this.text,this.exercise)},l.prototype.onSwitchDirection=function(){"local"===this.direction?(this.previewService.buildForeignData(this.exerciseData,this.text,this.exercise),this.direction="foreign"):(this.previewService.buildLocalData(this.exerciseData,this.text,this.exercise),this.direction="local")},l}(),se=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;padding:16px;border-radius:6px;margin:0 -15px}.view[_nghost-%COMP%]{border-radius:0 0 6px 6px;background-color:#efefef;border:1px solid #428bca;margin-bottom:6px}.card[_ngcontent-%COMP%]{border:1px solid #999;box-shadow:2px 2px 2px #ccc;border-radius:12px;padding:20px;margin:8px 0;background-color:#fff;min-height:150px}.fa-refresh[_ngcontent-%COMP%]{font-size:24px}.image[_ngcontent-%COMP%]{float:left;margin-right:16px}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #333;width:168px;height:140px;border-radius:16px}.case[_ngcontent-%COMP%]{border:1px solid #ff5b00;border-radius:4px;padding:0 4px;color:#fff;background-color:#f0ad4e;font-weight:700;font-size:16px}"]],data:{}});function ae(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-primary pull-right"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSwitchDirection()&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","fa fa-refresh"]],null,null,null,null,null))],null,null)}function ce(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","pull-right case"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Aa"]))],null,null)}function de(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"km-question",[],null,null,null,Xn.b,Xn.a)),t["\u0275did"](2,245760,null,0,Yn.a,[],{lanPair:[0,"lanPair"],text:[1,"text"],currentData:[2,"currentData"],dir:[3,"dir"],showAlt:[4,"showAlt"]},null)],function(l,n){var e=n.component;l(n,2,0,e.lanPair,e.text,e.exerciseData,e.direction,!0)},null)}function pe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"km-select",[],null,null,null,le.b,le.a)),t["\u0275did"](2,573440,null,0,ne.a,[ee.a],{lanPair:[0,"lanPair"],text:[1,"text"],data:[2,"data"]},null)],function(l,n){var e=n.component;l(n,2,0,e.lanPair,e.text,e.exerciseData)},null)}function ge(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"km-qa",[],null,null,null,te.b,te.a)),t["\u0275did"](2,8962048,null,0,ue.a,[b.a],{lanPair:[0,"lanPair"],text:[1,"text"],data:[2,"data"],keyboard:[3,"keyboard"]},null),t["\u0275pod"](3,{showKeyboard:0,keys:1})],function(l,n){var e=n.component;l(n,2,0,e.lanPair,e.text,e.exerciseData,l(n,3,0,!1,null))},null)}function fe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"km-qa",[],null,null,null,te.b,te.a)),t["\u0275did"](2,8962048,null,0,ue.a,[b.a],{lanPair:[0,"lanPair"],text:[1,"text"],data:[2,"data"],keyboard:[3,"keyboard"]},null),t["\u0275pod"](3,{showKeyboard:0,keys:1})],function(l,n){var e=n.component;l(n,2,0,e.lanPair,e.text,e.exerciseData,l(n,3,0,!1,null))},null)}function me(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"km-select",[],null,null,null,le.b,le.a)),t["\u0275did"](2,573440,null,0,ne.a,[ee.a],{lanPair:[0,"lanPair"],text:[1,"text"],data:[2,"data"]},null)],function(l,n){var e=n.component;l(n,2,0,e.lanPair,e.text,e.exerciseData)},null)}function he(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"km-select",[],null,null,null,le.b,le.a)),t["\u0275did"](2,573440,null,0,ne.a,[ee.a],{lanPair:[0,"lanPair"],text:[1,"text"],data:[2,"data"]},null)],function(l,n){var e=n.component;l(n,2,0,e.lanPair,e.text,e.exerciseData)},null)}function ve(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"km-comparison",[],null,null,null,oe.b,oe.a)),t["\u0275did"](2,4833280,null,0,ie.a,[b.a,t.Renderer],{lanPair:[0,"lanPair"],text:[1,"text"],data:[2,"data"],keyboard:[3,"keyboard"]},null),t["\u0275pod"](3,{showKeyboard:0,keys:1})],function(l,n){var e=n.component;l(n,2,0,e.lanPair,e.text,e.exerciseData,l(n,3,0,!1,null))},null)}function be(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,21,"div",[["class","card"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ae)),t["\u0275did"](2,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](3,0,null,null,17,"div",[["class","col-xs-8"]],null,null,null,null,null)),t["\u0275did"](4,16384,null,0,y.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ce)),t["\u0275did"](6,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,de)),t["\u0275did"](8,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,pe)),t["\u0275did"](10,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ge)),t["\u0275did"](12,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,fe)),t["\u0275did"](14,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,me)),t["\u0275did"](16,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,he)),t["\u0275did"](18,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ve)),t["\u0275did"](20,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275eld"](21,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null))],function(l,n){var e=n.component;l(n,2,0,e.exercise.tpe===e.exType.Word),l(n,4,0,e.exercise.tpe),l(n,6,0,null==e.exerciseData?null:null==e.exerciseData.data?null:e.exerciseData.data.isCaseSensitive),l(n,8,0,e.exType.Word),l(n,10,0,e.exType.Select),l(n,12,0,e.exType.QA),l(n,14,0,e.exType.FillIn),l(n,16,0,e.exType.Genus),l(n,18,0,e.exType.Article),l(n,20,0,e.exType.Comparison)},null)}var xe=["[_nghost-%COMP%]{display:block;padding:16px;border-radius:6px;margin:0 -15px}.edit   [_nghost-%COMP%]{border-radius:0 0 6px 6px;background-color:#efefef;border:1px solid #428bca;margin-bottom:6px}"],Ce=(e("DJ0j"),function(){function l(l,n){this.buildService=l,this.errorService=n,this.selectedWord=new t.EventEmitter,this.close=new t.EventEmitter,this.componentActive=!0}return l.prototype.ngOnInit=function(){this.languagePair={from:this.languagePair.from,to:this.languagePair.to}},l.prototype.selectListWord=function(l){this.selectedListWord=l,this.getWordPairDetails(l)},l.prototype.onClose=function(){this.close.emit(!0)},l.prototype.showListWord=function(l){var n=this.languageId,e="";return l[n]&&(e=l[n].word),l[n=n===this.languagePair.from?this.languagePair.to:this.languagePair.from]&&(e=e+" ("+l[n].word+")"),e},l.prototype.getWordPairDetails=function(l){var n=this,e=this.wordpairs[l];e&&this.buildService.fetchWordPairDetail(e._id).pipe(Object(_.a)(function(){return n.componentActive})).subscribe(function(l){l?(l._id=e._id,n.selectedWord.emit(l)):console.error("Error finding data for wordpair id "+e._id)},function(l){return n.errorService.handleError(l)})},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}()),we=t["\u0275crt"]({encapsulation:0,styles:[[".wordlist[_ngcontent-%COMP%]{margin-top:-16px}.list[_ngcontent-%COMP%]{border:1px solid #5bc0de;border-top:0;border-radius:3px;padding-bottom:1px}li[_ngcontent-%COMP%]{cursor:pointer}.list-group-item.inactive[_ngcontent-%COMP%]{background-color:#f6f6f6}.list-group-item.inactive[_ngcontent-%COMP%]:hover{background-color:#eee}.closetab[_ngcontent-%COMP%]{text-align:center;max-width:120px;float:right}"]],data:{}});function ye(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"li",[["class","list-group-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.selectListWord(l.context.index)&&t),t},null,null)),t["\u0275did"](1,278528,null,0,y.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](2,{active:0,inactive:1}),(l()(),t["\u0275ted"](3,null,[" "," "]))],function(l,n){var e=n.component;l(n,1,0,"list-group-item",l(n,2,0,n.context.index===e.selectedListWord,n.context.index!==e.selectedListWord))},function(l,n){l(n,3,0,n.component.showListWord(n.context.$implicit))})}function Ie(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","wordlist"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"ul",[["class","list-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,5,"div",[["class","list"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ye)),t["\u0275did"](4,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](5,0,null,null,2,"li",[["class","closetab btn btn-info"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onClose()&&t),t},null,null)),(l()(),t["\u0275eld"](6,0,null,null,0,"span",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Close "]))],function(l,n){l(n,4,0,n.component.wordpairs)},null)}var Re=e("7geO"),Ee=function(){function l(){this.clickedImage=new t.EventEmitter}return l.prototype.onClick=function(l){this.clickedImage.emit(l)},l.prototype.getImageUrl=function(l){return l.s3},l}(),Se=t["\u0275crt"]({encapsulation:0,styles:[Re.a],data:{}});function De(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"span",[["class","fa fa-check"]],null,null,null,null,null))],null,null)}function ke(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"span",[["class","fa fa-times"]],null,null,null,null,null))],null,null)}function Te(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"li",[["class","image"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onClick(l.context.index)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"img",[["class","thumb"]],[[8,"src",4],[2,"selected",null]],null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,4,"span",[["class","marks"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,De)),t["\u0275did"](4,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ke)),t["\u0275did"](6,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,4,0,n.context.$implicit.s3===e.selected),l(n,6,0,n.context.$implicit.s3!==e.selected)},function(l,n){var e=n.component;l(n,1,0,t["\u0275inlineInterpolate"](1,"",e.getImageUrl(n.context.$implicit),""),n.context.$implicit.s3===e.selected)})}function _e(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ul",[["class","list-unstyled files"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Te)),t["\u0275did"](2,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](3,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null))],function(l,n){l(n,2,0,n.component.images)},null)}var Oe=e("Nf38"),Pe=e("1C7a"),Ne=function(){function l(){this.clickedAudio=new t.EventEmitter}return l.prototype.onClick=function(l){this.clickedAudio.emit(l)},l.prototype.isSelected=function(l){return this.audios[l].s3===this.selected},l.prototype.getRegionAudio=function(l){return{s3:l.s3,region:l.local.substr(0,2)}},l.prototype.getLocalName=function(l){var n=this.audios[l].local;if(n){var e=(n=n.substring(3)).indexOf(".");e=(n=n.substring(0,-1!==e?e:n.length)).indexOf("#"),n=n.substring(0,-1!==e?e:n.length)}return n},l}(),Fe=t["\u0275crt"]({encapsulation:0,styles:[Re.a],data:{}});function Le(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"span",[["class","fa fa-check"]],null,null,null,null,null))],null,null)}function Ae(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"span",[["class","fa fa-times"]],null,null,null,null,null))],null,null)}function Ve(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"li",[["class","list-group-item audio"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onClick(l.context.index)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"km-audio-file",[],null,null,null,Oe.b,Oe.a)),t["\u0275did"](2,573440,null,0,Pe.a,[],{regionAudio:[0,"regionAudio"]},null),(l()(),t["\u0275eld"](3,0,null,null,1,"span",[["class","name"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275eld"](5,0,null,null,4,"span",[["class","marks"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Le)),t["\u0275did"](7,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ae)),t["\u0275did"](9,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.getRegionAudio(n.context.$implicit)),l(n,7,0,e.isSelected(n.context.index)),l(n,9,0,!e.isSelected(n.context.index))},function(l,n){l(n,4,0,n.component.getLocalName(n.context.index))})}function je(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ul",[["class","list-group files"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ve)),t["\u0275did"](2,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](3,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null))],function(l,n){l(n,2,0,n.component.audios)},null)}var Me=e("OwiE"),$e=e("I4iG"),qe=e("FFOo"),We=e("T1DM");function Be(l,n){return void 0===n&&(n=We.a),function(e){return e.lift(new Ue(l,n))}}var Ue=function(){function l(l,n){this.dueTime=l,this.scheduler=n}return l.prototype.call=function(l,n){return n.subscribe(new ze(l,this.dueTime,this.scheduler))},l}(),ze=function(l){function n(n,e,t){var u=l.call(this,n)||this;return u.dueTime=e,u.scheduler=t,u.debouncedSubscription=null,u.lastValue=null,u.hasValue=!1,u}return Il.__extends(n,l),n.prototype._next=function(l){this.clearDebounce(),this.lastValue=l,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(He,this.dueTime,this))},n.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},n.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var l=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(l)}},n.prototype.clearDebounce=function(){var l=this.debouncedSubscription;null!==l&&(this.remove(l),l.unsubscribe(),this.debouncedSubscription=null)},n}(qe.a);function He(l){l.debouncedNext()}var Ge=function(){function l(l,n,e,u,o,i,r){this.utilsService=l,this.formBuilder=n,this.buildService=e,this.previewService=u,this.errorService=o,this.element=i,this.ref=r,this.addedExercises=new t.EventEmitter,this.updatedExercise=new t.EventEmitter,this.cancelEdit=new t.EventEmitter,this.cancelNew=new t.EventEmitter,this.componentActive=!0,this.isSelected=!1,this.saveExercises=[],this.isFormReady=!1,this.isMediaLoaded=!1,this.isSaving=!1,this.hasConjugations=!1,this.hasGenus=!1,this.hasArticle=!1,this.hasComparison=!1,this.maxFilterListLength=8,this.showDropDown=!1,this.isDuplicate={checked:!1}}return l.prototype.clickout=function(l){this.el&&!this.el.nativeElement.contains(l.target)&&(this.showDropDown=!1)},l.prototype.ngOnInit=function(){this.exercise&&(this.currentExercise=JSON.parse(JSON.stringify(this.exercise)),this.loadMedia()),this.lanLocal=this.languagePair.from,this.lanForeign=this.languagePair.to,this.addFields={altForeign:!1,annotationsForeign:!1,images:!1,audios:!1},this.setFormData(this.configs),this.config=this.configs.foreign,this.buildForm(this.currentExercise)},l.prototype.onFocus=function(l,n){this.isSelected=!1,this.changeFilter(l,n)},l.prototype.onToggleDropDown=function(){this.showDropDown=!this.showDropDown},l.prototype.onFilterChanged=function(l,n){this.hasConjugations=!1,this.hasGenus=!1,this.hasArticle=!1,this.hasComparison=!1,this.isSelected||this.changeFilter(l,n)},l.prototype.onWordSelected=function(l){this.lanList=null,this.isSelected=!0,this.selected=l,this.exerciseForm.patchValue({foreignWord:l.wordPair[this.lanForeign].word,localWord:l.wordPair[this.lanLocal].word},{emitEvent:!1}),l[this.lanLocal]&&l[this.lanLocal].region&&this.exerciseForm.patchValue({localRegion:l[this.lanLocal].region},{emitEvent:!1}),this.currentExercise||l[this.lanLocal]&&this.exerciseForm.patchValue({genus:l[this.lanLocal].genus}),this.hasConjugations=this.checkConjugations(l),this.hasGenus=this.checkGenus(l),this.hasArticle=this.checkArticle(l),this.hasComparison=this.checkComparison(l),this.checkIfDuplicate(l.wordPair[this.lanLocal].word,l.wordPair[this.lanForeign].word,l[this.lanForeign]._id)},l.prototype.onAddNewWord=function(l){l.valid&&(this.isSaving=!0,this.buildNewExercise(l.value,{isConjugation:!1,isGenus:!1,isArticle:!1,isComparison:!1,lastDoc:!0,addArticle:!!this.lessonOptions&&this.lessonOptions.addArticle}))},l.prototype.onAddNewConjugations=function(l,n){if(this.showDropDown=!1,n.valid){var e={isConjugation:!0};if("multiple"===l){this.isSaving=!0,e.singleDoc=!1;for(var t=0;t<6;t++)e.conjugationNr=t,e.lastDoc=5===t,this.buildNewExercise(n.value,e)}"single"===l&&(e.lastDoc=!0,e.singleDoc=!0,this.buildNewExercise(n.value,e))}},l.prototype.onAddNewGenus=function(l){l.valid&&(this.isSaving=!0,this.buildNewExercise(l.value,{isGenus:!0,lastDoc:!0}))},l.prototype.onAddNewArticle=function(l){l.valid&&(this.isSaving=!0,this.buildNewExercise(l.value,{isArticle:!0,lastDoc:!0}))},l.prototype.onAddNewComparison=function(l){l.valid&&(this.isSaving=!0,this.buildNewExercise(l.value,{isComparison:!0,lastDoc:!0}))},l.prototype.onUpdateWord=function(l){l.valid&&(this.isSaving=!0,this.buildExistingExercise(l.value))},l.prototype.onCancelEdit=function(){this.cancelEdit.emit(!0)},l.prototype.onCancelNewWord=function(){this.cancelNew.emit(!0)},l.prototype.onCloseDropdown=function(){this.lanList=null},l.prototype.onAdd=function(l,n,e){e&&(this.currentExercise[n][l]?this.currentExercise[n][l]+="|":this.currentExercise[n][l]="",this.currentExercise[n][l]+=e)},l.prototype.onRemove=function(l,n,e){var t=this.currentExercise[n][l].split("|");this.currentExercise[n][l]=t.filter(function(l,n){return n!==e}).join("|")},l.prototype.onReplace=function(l,n,e){var t,u=this.currentExercise[n][l].split("|"),o=u[e],i=n+"Word";u[e]=this.exerciseForm.value[i],this.currentExercise[n][l]=u.join("|"),this.exerciseForm.patchValue(((t={})[i]=o,t))},l.prototype.onMoveToHint=function(l){var n=this.currentExercise.local.alt.split("|"),e=n[l],t=this.exerciseForm.value.localHint?[this.exerciseForm.value.localHint]:[];this.currentExercise.local.alt=n.filter(function(n,e){return e!==l}).join("|"),t.push(e),this.exerciseForm.patchValue({localHint:t.join(", ")})},l.prototype.onActivateField=function(l){this.addFields[l]=!0},l.prototype.onClickImage=function(l){this.currentExercise.image=this.images[l].s3===this.currentExercise.image?void 0:this.images[l].s3},l.prototype.onClickAudio=function(l){this.currentExercise.audio=this.currentExercise.audio&&this.audios[l].s3===this.currentExercise.audio.s3?void 0:{s3:this.audios[l].s3,region:this.audios[l].local.substr(0,2)}},l.prototype.onUpdateRegion=function(l,n){var e;this.currentExercise?this.currentExercise[n].region=l:this.exerciseForm.patchValue(((e={})[n+"Region"]=l,e))},l.prototype.onCheckDuplicate=function(l){this.selected[this.lanForeign]&&this.checkIfDuplicate(l.value.localWord,l.value.foreignWord,this.selected[this.lanForeign]._id)},l.prototype.getDynamicFieldLabel=function(){var l="";if(this.customField="",this.exerciseForm.value.wordTpe){switch(this.exerciseForm.value.wordTpe){case"noun":case"noungroup":"cs"!==this.lanForeign&&"de"!==this.lanForeign&&"fr"!==this.lanForeign||(l="Gender",this.customField="genus"),"nl"===this.lanForeign&&(l="Article",this.customField="article");break;case"propernoun":"cs"===this.lanForeign&&(l="Gender",this.customField="genus");break;case"adjective":"fr"===this.lanForeign&&(l="Gender",this.customField="genus");break;case"preposition":"cs"!==this.lanForeign&&"de"!==this.lanForeign||(l="+Case",this.customField="followingCase");break;case"verb":"cs"===this.lanForeign&&(l="Aspect",this.customField="aspect")}l=this.text[l]?this.text[l]:l,l+=""===l?"":":"}return l},l.prototype.loadMedia=function(){var l=this;!this.isMediaLoaded&&this.currentExercise.wordDetailId&&this.buildService.fetchMedia(this.currentExercise.wordDetailId).pipe(Object(_.a)(function(){return l.componentActive})).subscribe(function(n){n&&(l.images=n.images,l.audios=n.audios,l.isMediaLoaded=!0)},function(n){return l.errorService.handleError(n)})},l.prototype.setFormData=function(l){var n=this,e=this.utilsService.getWordTypes();this.formData={wordTpes:[],localRegions:this.configs.local.regions||[],foreignRegions:this.configs.foreign.regions||[]},e.forEach(function(l){n.formData.wordTpes.push({name:l,nameLocal:n.text[l]})})},l.prototype.buildNewExercise=function(l,n){var e={local:{word:l.localWord,region:l.localRegion},foreign:{word:l.foreignWord,region:l.foreignRegion},tpe:Yl.c.Word},t=[],u=[];if(this.selected&&this.selected[this.lanLocal]&&this.selected[this.lanForeign]&&l.localWord===this.selected[this.lanLocal].word&&l.foreignWord===this.selected[this.lanForeign].word){var o=this.selected[this.lanForeign],i=this.selected[this.lanLocal];if(n.addArticle&&this.addArticle(e,o,i),e.wordDetailId=o._id,o.region&&(e.foreign.region=o.region),n.isGenus||n.isArticle||(e.foreign.hint=this.selected.wordPair[this.lanForeign].hint,e.foreign.info=this.selected.wordPair[this.lanForeign].info,e.wordTpe=o.wordTpe,e.genus=o.genus,e.article=o.article,"preposition"===o.wordTpe&&(e.followingCase=o.followingCase),e.aspect=o.aspect,this.addAnnotations(t,this.selected,"foreign"),e.foreign.annotations=t.join("|"),e.foreign.annotations=this.checkIfValue(e.foreign.annotations),this.selected.wordPair[this.lanForeign].alt&&(e.foreign.alt=this.selected.wordPair[this.lanForeign].alt.map(function(l){return l.word}).join("|")),e.foreign.alt=this.checkIfValue(e.foreign.alt),e.audio=this.selectAudio(o.audios,e.foreign.region),o.images&&(e.image=o.images[0].s3),this.addAnnotations(u,this.selected,"local"),e.local.hint=this.selected.wordPair[this.lanLocal].hint,this.selected.wordPair[this.lanLocal].alt&&(e.local.alt=this.selected.wordPair[this.lanLocal].alt.map(function(l){return l.word}).join("|")),e.local.alt=this.checkIfValue(e.local.alt),e.local.annotations=u.join("|"),e.local.annotations=this.checkIfValue(e.local.annotations)),n.isGenus&&(e.tpe=Yl.c.Genus,e.wordTpe=o.wordTpe,e.audio=this.selectAudio(o.audios,e.foreign.region),e.genus=o.genus,e.options=this.config.genera.join("|")),n.isArticle&&(e.tpe=Yl.c.Article,e.wordTpe=o.wordTpe,e.audio=this.selectAudio(o.audios,e.foreign.region),e.article=o.article,e.options=this.config.articles.join("|"),e.local.word=i.article+this.addSpace(i.article)+l.localWord),n.isComparison&&(e.tpe=Yl.c.Comparison,e.foreign.word+="|",o.comparative&&(e.foreign.word+=o.comparative),e.foreign.word+="|",o.superlative&&(e.foreign.word+=o.superlative)),n.isConjugation&&n.singleDoc){var r=[];e.tpe=Yl.c.Conjugations;for(var s=0;s<6;s++)r.push(o.conjugation[s]);r.unshift(o.word),e.foreign.word=r.join("|"),(d=[]).push(i.word),this.selected.wordPair[this.lanLocal].alt&&d.push.apply(d,this.selected.wordPair[this.lanLocal].alt.map(function(l){return l.word})),e.local.word=d.join(" / ")}if(n.isConjugation&&!n.singleDoc){var a=n.conjugationNr,c=this.config.subjectPronouns,d=i.conjugation[a].split(";"),p=o.conjugation[a].split(";"),g="("+this.text["subjectpronoun"+a.toString()]+") ",f="("+c[a]+") ";e.local.word=g+d[0],e.foreign.word=f+p[0],d.shift(),d.length>0&&(e.local.alt?e.local.alt+="|"+g+d.join("|"):e.local.alt=g+d.join("|")),p.shift(),p.length>0&&(e.foreign.alt?e.foreign.alt+="|"+f+p.join("|"):e.foreign.alt=f+p.join("|"))}}this.saveNewExercise(e,n.lastDoc)},l.prototype.buildExistingExercise=function(l){var n=this.currentExercise;n.local.word=this.exerciseForm.value.localWord,n.foreign.word=this.exerciseForm.value.foreignWord,n.wordTpe=this.exerciseForm.value.wordTpe,n.foreign.annotations=this.checkIfValue(n.foreign.annotations),n.foreign.region=this.checkIfValue(n.foreign.region),n.foreign.alt=this.checkIfValue(n.foreign.alt),n.foreign.info=this.checkIfValue(this.exerciseForm.value.info),n.foreign.hint=this.checkIfValue(this.exerciseForm.value.foreignHint),n.local.annotations=this.checkIfValue(n.local.annotations),n.local.region=this.checkIfValue(n.local.region),n.local.alt=this.checkIfValue(n.local.alt),n.local.hint=this.checkIfValue(this.exerciseForm.value.localHint),n.genus=this.checkIfValue(this.exerciseForm.value.genus),n.article=this.checkIfValue(this.exerciseForm.value.article),n.followingCase=this.checkIfValue(this.exerciseForm.value.followingCase),n.aspect=this.checkIfValue(this.exerciseForm.value.aspect),this.saveUpdatedExercise(n)},l.prototype.addArticle=function(l,n,e){var t=n.article||"",u=e.article||"";l.foreign.word=(t+this.addSpace(t)+l.foreign.word).trim(),l.local.word=(u+this.addSpace(u)+l.local.word).trim()},l.prototype.addSpace=function(l){var n=" ";return l&&"'"===l.slice(-1)&&(n=""),n},l.prototype.checkIfValue=function(l){var n;return l&&(n=l),n},l.prototype.addAnnotations=function(l,n,e){var t="foreign"===e?n[this.lanForeign]:n[this.lanLocal];"local"===e&&(n[this.lanForeign].wordTpe&&l.push(this.text[n[this.lanForeign].wordTpe]),n[this.lanForeign].aspect&&l.push(this.text[n[this.lanForeign].aspect]),n[this.lanForeign].motion&&l.push(this.text[n[this.lanForeign].motion])),"foreign"===e&&("adverb"!==t.wordTpe&&"adjective"!==t.wordTpe&&"preposition"!==t.wordTpe||l.push(this.text[t.wordTpe]),t.isIndeclinable&&l.push(this.text.indeclinable),t.aspect&&l.push(this.text[t.aspect]),t.motion&&l.push(this.text[t.motion])),t.isPlural&&l.push(this.text.plural),t.isDiminutive&&l.push(this.text.diminutive),t.isComparative&&l.push(this.text.comparative),t.isSuperlative&&l.push(this.text.superlative)},l.prototype.selectAudio=function(l,n){var e=function(l){return{s3:l.s3,region:l.local.substr(0,2)}};if(l&&l.length>0){if(1===l.length)return e(l[0]);var t=n||this.lanForeign,u=l.filter(function(l){return l.local.substr(0,2)===t});return e(u.length>0?u[0]:l[0])}},l.prototype.saveNewExercise=function(l,n){var e=this;l.difficulty=0,this.saveExercises.push(l),n&&this.buildService.addExercises(this.saveExercises,this.lessonId).pipe(Object(_.a)(function(){return e.componentActive})).subscribe(function(l){e.addedExercises.emit(l),e.exerciseForm.reset(),e.isSaving=!1,e.saveExercises=[]},function(l){return e.errorService.handleError(l)})},l.prototype.saveUpdatedExercise=function(l){var n=this;this.buildService.updateExercise(l,this.lessonId).pipe(Object(_.a)(function(){return n.componentActive})).subscribe(function(e){n.updatedExercise.emit(l),n.currentExercise=l,n.exercise=l,n.isSaving=!1},function(l){return n.errorService.handleError(l)})},l.prototype.buildForm=function(l){this.exerciseForm=this.formBuilder.group(l?{localWord:[l.local.word,[ll.x.required]],foreignWord:[l.foreign.word,[ll.x.required]],localHint:[l.local.hint],foreignHint:[l.foreign.hint],localRegion:[l.local.region],foreignRegion:[l.foreign.region],info:[l.foreign.info],wordTpe:[l.wordTpe],genus:[l.genus],article:[l.article],followingCase:[l.followingCase],aspect:[l.aspect]}:{localWord:["",[ll.x.required]],foreignWord:["",[ll.x.required]],localRegion:[this.formData.localRegions[0]||this.languagePair.from],foreignRegion:[this.lessonOptions.region||this.formData.foreignRegions[0]||this.languagePair.to]}),this.setupFilterEvent(),this.isFormReady=!0},l.prototype.checkConjugations=function(l){var n=!1;if("verb"===l[this.lanForeign].wordTpe){var e=this.checkLanConjugations(l[this.lanForeign].conjugation),t=this.checkLanConjugations(l[this.lanLocal].conjugation);n=e&&t}return n},l.prototype.checkLanConjugations=function(l){if(l&&6===l.length)return!0},l.prototype.checkGenus=function(l){var n=l[this.lanForeign];if(("noun"===n.wordTpe||"noungroup"===n.wordTpe)&&n.genus)return!(n.genus.indexOf(";")>-1)},l.prototype.checkArticle=function(l){var n=l[this.lanForeign];if(("noun"===n.wordTpe||"noungroup"===n.wordTpe)&&n.article&&this.configs.foreign.articles.length>1)return!(n.article.indexOf(";")>-1)},l.prototype.checkComparison=function(l){var n=l[this.lanForeign];if(("adjective"===n.wordTpe||"adverb"===n.wordTpe)&&n.comparative&&n.superlative)return!0},l.prototype.checkIfDuplicate=function(l,n,e){var t=this;this.buildService.checkIfWordpairInCourse(l,n,e,this.courseId).pipe(Object(_.a)(function(){return t.componentActive})).subscribe(function(l){t.isDuplicate=l&&l.length?t.checkIfDuplicateType(l):{checked:!0,tpes:null}},function(l){return t.errorService.handleError(l)})},l.prototype.checkIfDuplicateType=function(l){var n={checked:!0,tpes:[]};return l.forEach(function(l){n.tpes.push(l.tpe)}),n},l.prototype.setupFilterEvent=function(){var l=this,n="",e="";this.exerciseForm.controls.foreignWord.valueChanges.pipe(Object(_.a)(function(){return l.componentActive}),Be(300)).subscribe(function(e){e!==n&&(l.changeFilter(e,l.lanForeign),n=e)}),this.exerciseForm.controls.localWord.valueChanges.pipe(Object(_.a)(function(){return l.componentActive}),Be(300)).subscribe(function(n){n!==e&&(l.changeFilter(n,l.lanLocal),e=n)})},l.prototype.changeFilter=function(l,n){this.hasConjugations=!1,this.hasGenus=!1,this.hasArticle=!1,this.hasComparison=!1,this.isDuplicate={checked:!1};var e={isExact:!1,isFromStart:!1,getTotal:!1,languageId:n,limit:250,word:l};this.lanList!==n&&(this.wordpairs=null),this.lanList=n,this.getWordList(e)},l.prototype.getWordList=function(l){var n=this;l.word?this.buildService.fetchFilterWordPairs(l,this.languagePair).pipe(Object(_.a)(function(){return n.componentActive})).subscribe(function(e){var t,u=[];e.forEach(function(e){t=n.previewService.getDamerauLevenshteinDistance(e[l.languageId].word,l.word),u.push({wordpair:e,score:t})}),u.sort(function(l,n){return l.score-n.score}),n.wordpairs=u.slice(0,6).map(function(l){return l.wordpair})},function(l){return n.errorService.handleError(l)}):this.lanList=null},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),Ke=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;padding:16px;border-radius:6px;margin:0 -15px}.edit[_nghost-%COMP%]{border-radius:0 0 6px 6px;background-color:#efefef;border:1px solid #428bca;margin-bottom:6px}.flag[_ngcontent-%COMP%]{box-shadow:2px 2px 4px #999}.clearer[_ngcontent-%COMP%]{font-size:20px;cursor:pointer;z-index:2}.fa-times[_ngcontent-%COMP%]{color:red;font-size:20px;padding:0 6px;cursor:pointer}.fa-plus[_ngcontent-%COMP%]{color:green;cursor:pointer;font-size:20px;font-weight:700}.fa-exchange[_ngcontent-%COMP%]{-webkit-transform:rotate(90deg);transform:rotate(90deg);color:#000;font-weight:700;margin-left:3px}.fa-long-arrow-up[_ngcontent-%COMP%]{margin-left:3px;color:#000;cursor:pointer;font-weight:700}.fa-exchange[_ngcontent-%COMP%]:hover, .fa-long-arrow-up[_ngcontent-%COMP%]:hover{color:green}.txt[_ngcontent-%COMP%]{line-height:32px}.add[_ngcontent-%COMP%]{float:left;margin-right:12px}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #333;width:120px}.images[_ngcontent-%COMP%]{margin-left:12px}.buttons[_ngcontent-%COMP%]{margin-left:12px;margin-top:24px}.list-inline[_ngcontent-%COMP%]{margin-bottom:0}.list-group-item[_ngcontent-%COMP%]{padding:5px 6px;background-color:#b5eeff;margin-right:6px}.form-horizontal[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{padding-top:0}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.alert[_ngcontent-%COMP%]{font-size:24px;padding:5px 6px 5px 10px}.alert-success[_ngcontent-%COMP%]{padding-right:10px}.db[_ngcontent-%COMP%]{color:green}.nodb[_ngcontent-%COMP%]{color:red}.fa-database[_ngcontent-%COMP%]{font-size:34px;margin-left:15px;position:relative;top:8px;cursor:default}"],xe],data:{}});function Je(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","col-xs-11 col-xs-offset-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"km-filter-list",[],null,[[null,"close"],[null,"selectedWord"]],function(l,n,e){var t=!0,u=l.component;return"close"===n&&(t=!1!==u.onCloseDropdown()&&t),"selectedWord"===n&&(t=!1!==u.onWordSelected(e)&&t),t},Ie,we)),t["\u0275did"](3,245760,null,0,Ce,[k,w.a],{languagePair:[0,"languagePair"],languageId:[1,"languageId"],wordpairs:[2,"wordpairs"]},{selectedWord:"selectedWord",close:"close"})],function(l,n){var e=n.component;l(n,3,0,e.languagePair,e.lanList,e.wordpairs)},null)}function Ze(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,ll.t,[t.ElementRef,t.Renderer2,[2,ll.w]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,ll.C,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit.name),l(n,2,0,n.context.$implicit.name)},function(l,n){l(n,3,0,n.context.$implicit.nameLocal)})}function Qe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"label",[["class","control-label col-xs-1 txt"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.getDynamicFieldLabel())})}function Xe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,ll.t,[t.ElementRef,t.Renderer2,[2,ll.w]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,ll.C,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.component.text[n.context.$implicit.toLowerCase()])})}function Ye(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"select",[["class","form-control"],["formControlName","genus"],["id","genus"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var u=!0;return"change"===n&&(u=!1!==t["\u0275nov"](l,1).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,1).onTouched()&&u),u},null,null)),t["\u0275did"](1,16384,null,0,ll.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.w]),t["\u0275did"](3,671744,null,0,ll.i,[[3,ll.c],[8,null],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](5,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Xe)),t["\u0275did"](7,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0,"genus"),l(n,7,0,e.config.genera)},function(l,n){l(n,0,0,t["\u0275nov"](n,5).ngClassUntouched,t["\u0275nov"](n,5).ngClassTouched,t["\u0275nov"](n,5).ngClassPristine,t["\u0275nov"](n,5).ngClassDirty,t["\u0275nov"](n,5).ngClassValid,t["\u0275nov"](n,5).ngClassInvalid,t["\u0275nov"](n,5).ngClassPending)})}function lt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,ll.t,[t.ElementRef,t.Renderer2,[2,ll.w]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,ll.C,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.component.text[n.context.$implicit])})}function nt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"select",[["class","form-control"],["formControlName","article"],["id","article"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var u=!0;return"change"===n&&(u=!1!==t["\u0275nov"](l,1).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,1).onTouched()&&u),u},null,null)),t["\u0275did"](1,16384,null,0,ll.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.w]),t["\u0275did"](3,671744,null,0,ll.i,[[3,ll.c],[8,null],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](5,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,lt)),t["\u0275did"](7,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0,"article"),l(n,7,0,e.config.articles)},function(l,n){l(n,0,0,t["\u0275nov"](n,5).ngClassUntouched,t["\u0275nov"](n,5).ngClassTouched,t["\u0275nov"](n,5).ngClassPristine,t["\u0275nov"](n,5).ngClassDirty,t["\u0275nov"](n,5).ngClassValid,t["\u0275nov"](n,5).ngClassInvalid,t["\u0275nov"](n,5).ngClassPending)})}function et(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,ll.t,[t.ElementRef,t.Renderer2,[2,ll.w]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,ll.C,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit.value),l(n,2,0,n.context.$implicit.value)},function(l,n){l(n,3,0,n.component.text["+"+n.context.$implicit.value])})}function tt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"select",[["class","form-control"],["formControlName","followingCase"],["id","followingCase"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var u=!0;return"change"===n&&(u=!1!==t["\u0275nov"](l,1).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,1).onTouched()&&u),u},null,null)),t["\u0275did"](1,16384,null,0,ll.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.w]),t["\u0275did"](3,671744,null,0,ll.i,[[3,ll.c],[8,null],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](5,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,et)),t["\u0275did"](7,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0,"followingCase"),l(n,7,0,e.config.cases)},function(l,n){l(n,0,0,t["\u0275nov"](n,5).ngClassUntouched,t["\u0275nov"](n,5).ngClassTouched,t["\u0275nov"](n,5).ngClassPristine,t["\u0275nov"](n,5).ngClassDirty,t["\u0275nov"](n,5).ngClassValid,t["\u0275nov"](n,5).ngClassInvalid,t["\u0275nov"](n,5).ngClassPending)})}function ut(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,ll.t,[t.ElementRef,t.Renderer2,[2,ll.w]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,ll.C,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.component.text[n.context.$implicit])})}function ot(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"select",[["class","form-control"],["formControlName","aspect"],["id","aspect"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var u=!0;return"change"===n&&(u=!1!==t["\u0275nov"](l,1).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,1).onTouched()&&u),u},null,null)),t["\u0275did"](1,16384,null,0,ll.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.w]),t["\u0275did"](3,671744,null,0,ll.i,[[3,ll.c],[8,null],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](5,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,ut)),t["\u0275did"](7,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0,"aspect"),l(n,7,0,e.config.aspects)},function(l,n){l(n,0,0,t["\u0275nov"](n,5).ngClassUntouched,t["\u0275nov"](n,5).ngClassTouched,t["\u0275nov"](n,5).ngClassPristine,t["\u0275nov"](n,5).ngClassDirty,t["\u0275nov"](n,5).ngClassValid,t["\u0275nov"](n,5).ngClassInvalid,t["\u0275nov"](n,5).ngClassPending)})}function it(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"div",[["class","col-xs-4"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ye)),t["\u0275did"](2,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,nt)),t["\u0275did"](4,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,tt)),t["\u0275did"](6,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ot)),t["\u0275did"](8,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,"genus"===e.customField),l(n,4,0,"article"===e.customField),l(n,6,0,"followingCase"===e.customField),l(n,8,0,"aspect"===e.customField)},null)}function rt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","control-label col-xs-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,[["altforeign",1]],null,0,"input",[["autocomplete","off"],["class","form-control"],["id","foreignAlt"],["type","text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,2,"span",[["class","input-group-btn"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(l.component.onAdd("alt","foreign",t["\u0275nov"](l,2).value),u=!1!==(t["\u0275nov"](l,2).value="")&&u),u},null,null)),(l()(),t["\u0275ted"](5,null,[" "," "]))],null,function(l,n){l(n,5,0,n.component.text.Add)})}function st(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"span",[["class","fa fa-plus txt add"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onActivateField("altForeign")&&t),t},null,null))],null,null)}function at(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "])),(l()(),t["\u0275eld"](2,0,null,null,0,"span",[["class","fa fa-exchange"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onReplace("alt","foreign",l.context.index)&&t),t},null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"span",[["class","fa fa-times"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onRemove("alt","foreign",l.context.index)&&t),t},null,null))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function ct(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ul",[["class","list-inline"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,at)),t["\u0275did"](2,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.currentExercise.foreign.alt.split("|"))},null)}function dt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","control-label col-xs-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,[["annotationsForeign",1]],null,0,"input",[["autocomplete","off"],["class","form-control"],["id","foreignAnnotations"],["type","text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,2,"span",[["class","input-group-btn"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(l.component.onAdd("annotations","foreign",t["\u0275nov"](l,2).value),u=!1!==(t["\u0275nov"](l,2).value="")&&u),u},null,null)),(l()(),t["\u0275ted"](5,null,[" "," "]))],null,function(l,n){l(n,5,0,n.component.text.Add)})}function pt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"span",[["class","fa fa-plus txt add"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onActivateField("annotationsForeign")&&t),t},null,null))],null,null)}function gt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "])),(l()(),t["\u0275eld"](2,0,null,null,0,"span",[["class","fa fa-times"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onRemove("annotations","foreign",l.context.index)&&t),t},null,null))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function ft(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ul",[["class","list-inline"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,gt)),t["\u0275did"](2,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.currentExercise.foreign.annotations.split("|"))},null)}function mt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"span",[["class","fa fa-plus txt add"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onActivateField("images")&&t),t},null,null))],null,null)}function ht(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","image"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",n.component.currentExercise.image,""))})}function vt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-image-list",[],null,[[null,"clickedImage"]],function(l,n,e){var t=!0;return"clickedImage"===n&&(t=!1!==l.component.onClickImage(e)&&t),t},_e,Se)),t["\u0275did"](1,49152,null,0,Ee,[],{images:[0,"images"],selected:[1,"selected"]},{clickedImage:"clickedImage"})],function(l,n){var e=n.component;l(n,1,0,e.images,e.currentExercise.image)},null)}function bt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"label",[["class","control-label col-xs-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"label",[["class","control-label col-xs-1"],["for","images"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" ",": "])),(l()(),t["\u0275eld"](4,0,null,null,7,"div",[["class","col-xs-10"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,mt)),t["\u0275did"](6,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ht)),t["\u0275did"](8,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","images"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,vt)),t["\u0275did"](11,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,6,0,!e.addFields.images),l(n,8,0,e.currentExercise.image&&!e.addFields.images),l(n,11,0,e.addFields.images)},function(l,n){l(n,3,0,n.component.text.Image)})}function xt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"span",[["class","fa fa-plus txt add"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onActivateField("audios")&&t),t},null,null))],null,null)}function Ct(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","audio"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"km-audio-file",[],null,null,null,Oe.b,Oe.a)),t["\u0275did"](2,573440,null,0,Pe.a,[],{regionAudio:[0,"regionAudio"]},null)],function(l,n){l(n,2,0,n.component.currentExercise.audio)},null)}function wt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-audio-list",[],null,[[null,"clickedAudio"]],function(l,n,e){var t=!0;return"clickedAudio"===n&&(t=!1!==l.component.onClickAudio(e)&&t),t},je,Fe)),t["\u0275did"](1,49152,null,0,Ne,[],{selected:[0,"selected"],audios:[1,"audios"]},{clickedAudio:"clickedAudio"})],function(l,n){var e=n.component;l(n,1,0,null==e.currentExercise.audio?null:e.currentExercise.audio.s3,e.audios)},null)}function yt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"label",[["class","control-label col-xs-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"label",[["class","control-label col-xs-1"],["for","audios"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" ",": "])),(l()(),t["\u0275eld"](4,0,null,null,6,"div",[["class","col-xs-10"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,xt)),t["\u0275did"](6,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ct)),t["\u0275did"](8,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,wt)),t["\u0275did"](10,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,6,0,!e.addFields.audios),l(n,8,0,!e.addFields.audios),l(n,10,0,e.addFields.audios)},function(l,n){l(n,3,0,n.component.text.Audio)})}function It(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,54,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,16,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"label",[["class","control-label col-xs-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"label",[["class","control-label col-xs-1 txt"],["for","foreignWordTpe"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,[" ",": "])),(l()(),t["\u0275eld"](5,0,null,null,8,"div",[["class","col-xs-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,[["wordTpe",1]],null,7,"select",[["class","form-control"],["formControlName","wordTpe"],["id","foreignWordTpe"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var u=!0;return"change"===n&&(u=!1!==t["\u0275nov"](l,7).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,7).onTouched()&&u),u},null,null)),t["\u0275did"](7,16384,null,0,ll.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.w]),t["\u0275did"](9,671744,null,0,ll.i,[[3,ll.c],[8,null],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](11,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ze)),t["\u0275did"](13,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Qe)),t["\u0275did"](15,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,it)),t["\u0275did"](17,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](18,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,0,"label",[["class","control-label col-xs-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,1,"label",[["class","control-label col-xs-1 txt"],["for","info"]],null,null,null,null,null)),(l()(),t["\u0275ted"](21,null,[" ",": "])),(l()(),t["\u0275eld"](22,0,null,null,6,"div",[["class","col-xs-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["formControlName","info"],["id","info"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,24)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,24).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,24)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,24)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](24,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](26,671744,null,0,ll.i,[[3,ll.c],[8,null],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](28,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275eld"](29,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,0,"label",[["class","control-label col-xs-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,1,"label",[["class","control-label col-xs-1 txt"],["for","foreignAlt"]],null,null,null,null,null)),(l()(),t["\u0275ted"](32,null,[" ",": "])),(l()(),t["\u0275and"](16777216,null,null,1,null,rt)),t["\u0275did"](34,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](35,0,null,null,4,"div",[["class","col-xs-7"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,st)),t["\u0275did"](37,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ct)),t["\u0275did"](39,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](40,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](41,0,null,null,0,"label",[["class","control-label col-xs-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](42,0,null,null,1,"label",[["class","control-label col-xs-1 txt"],["for","foreignAnnotations"]],null,null,null,null,null)),(l()(),t["\u0275ted"](43,null,[" ",": "])),(l()(),t["\u0275and"](16777216,null,null,1,null,dt)),t["\u0275did"](45,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](46,0,null,null,4,"div",[["class","col-xs-7"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,pt)),t["\u0275did"](48,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ft)),t["\u0275did"](50,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,bt)),t["\u0275did"](52,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,yt)),t["\u0275did"](54,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,9,0,"wordTpe"),l(n,13,0,e.formData.wordTpes),l(n,15,0,t["\u0275nov"](n,6)),l(n,17,0,t["\u0275nov"](n,6)),l(n,26,0,"info"),l(n,34,0,e.addFields.altForeign),l(n,37,0,!e.addFields.altForeign),l(n,39,0,e.currentExercise.foreign.alt),l(n,45,0,e.addFields.annotationsForeign),l(n,48,0,!e.addFields.annotationsForeign),l(n,50,0,e.currentExercise.foreign.annotations),l(n,52,0,e.images),l(n,54,0,e.audios)},function(l,n){var e=n.component;l(n,4,0,e.text.Type),l(n,6,0,t["\u0275nov"](n,11).ngClassUntouched,t["\u0275nov"](n,11).ngClassTouched,t["\u0275nov"](n,11).ngClassPristine,t["\u0275nov"](n,11).ngClassDirty,t["\u0275nov"](n,11).ngClassValid,t["\u0275nov"](n,11).ngClassInvalid,t["\u0275nov"](n,11).ngClassPending),l(n,21,0,e.text.Info),l(n,23,0,t["\u0275nov"](n,28).ngClassUntouched,t["\u0275nov"](n,28).ngClassTouched,t["\u0275nov"](n,28).ngClassPristine,t["\u0275nov"](n,28).ngClassDirty,t["\u0275nov"](n,28).ngClassValid,t["\u0275nov"](n,28).ngClassInvalid,t["\u0275nov"](n,28).ngClassPending),l(n,32,0,e.text["Alt."]),l(n,43,0,e.text["Annot."])})}function Rt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","col-xs-11 col-xs-offset-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"km-filter-list",[],null,[[null,"close"],[null,"selectedWord"]],function(l,n,e){var t=!0,u=l.component;return"close"===n&&(t=!1!==u.onCloseDropdown()&&t),"selectedWord"===n&&(t=!1!==u.onWordSelected(e)&&t),t},Ie,we)),t["\u0275did"](3,245760,null,0,Ce,[k,w.a],{languagePair:[0,"languagePair"],languageId:[1,"languageId"],wordpairs:[2,"wordpairs"]},{selectedWord:"selectedWord",close:"close"})],function(l,n){var e=n.component;l(n,3,0,e.languagePair,e.lanList,e.wordpairs)},null)}function Et(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","control-label col-xs-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,[["altlocal",1]],null,0,"input",[["autocomplete","off"],["class","form-control"],["id","localAlt"],["type","text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,2,"span",[["class","input-group-btn"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(l.component.onAdd("alt","local",t["\u0275nov"](l,2).value),u=!1!==(t["\u0275nov"](l,2).value="")&&u),u},null,null)),(l()(),t["\u0275ted"](5,null,[" "," "]))],null,function(l,n){l(n,5,0,n.component.text.Add)})}function St(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"span",[["class","fa fa-plus txt add"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onActivateField("altLocal")&&t),t},null,null))],null,null)}function Dt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "])),(l()(),t["\u0275eld"](2,0,null,null,0,"span",[["class","fa fa-exchange"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onReplace("alt","local",l.context.index)&&t),t},null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"span",[["class","fa fa-long-arrow-up"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onMoveToHint(l.context.index)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"span",[["class","fa fa-times"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onRemove("alt","local",l.context.index)&&t),t},null,null))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function kt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ul",[["class","list-inline"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Dt)),t["\u0275did"](2,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.currentExercise.local.alt.split("|"))},null)}function Tt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","control-label col-xs-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,[["annotationsLocal",1]],null,0,"input",[["autocomplete","off"],["class","form-control"],["id","localAnnotations"],["type","text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,2,"span",[["class","input-group-btn"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(l.component.onAdd("annotations","local",t["\u0275nov"](l,2).value),u=!1!==(t["\u0275nov"](l,2).value="")&&u),u},null,null)),(l()(),t["\u0275ted"](5,null,[" "," "]))],null,function(l,n){l(n,5,0,n.component.text.Add)})}function _t(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"span",[["class","fa fa-plus txt add"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onActivateField("annotationsLocal")&&t),t},null,null))],null,null)}function Ot(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "])),(l()(),t["\u0275eld"](2,0,null,null,0,"span",[["class","fa fa-times"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onRemove("annotations","local",l.context.index)&&t),t},null,null))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function Pt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ul",[["class","list-inline"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ot)),t["\u0275did"](2,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.currentExercise.local.annotations.split("|"))},null)}function Nt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,33,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"label",[["class","control-label col-xs-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"label",[["class","control-label col-xs-1 txt"],["for","localHint"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,[" ",": "])),(l()(),t["\u0275eld"](5,0,null,null,6,"div",[["class","col-xs-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["formControlName","localHint"],["id","localHint"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,7)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,7).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,7)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,7)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](7,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](9,671744,null,0,ll.i,[[3,ll.c],[8,null],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](11,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275eld"](12,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,0,"label",[["class","control-label col-xs-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,1,"label",[["class","control-label col-xs-1 txt"],["for","localAlt"]],null,null,null,null,null)),(l()(),t["\u0275ted"](15,null,[" ",": "])),(l()(),t["\u0275and"](16777216,null,null,1,null,Et)),t["\u0275did"](17,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](18,0,null,null,4,"div",[["class","col-xs-7"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,St)),t["\u0275did"](20,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,kt)),t["\u0275did"](22,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](23,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,0,"label",[["class","control-label col-xs-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,1,"label",[["class","control-label col-xs-1 txt"],["for","localAnnotations"]],null,null,null,null,null)),(l()(),t["\u0275ted"](26,null,[" ",": "])),(l()(),t["\u0275and"](16777216,null,null,1,null,Tt)),t["\u0275did"](28,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](29,0,null,null,4,"div",[["class","col-xs-7"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,_t)),t["\u0275did"](31,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Pt)),t["\u0275did"](33,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,9,0,"localHint"),l(n,17,0,e.addFields.altLocal),l(n,20,0,!e.addFields.altLocal),l(n,22,0,e.currentExercise.local.alt),l(n,28,0,e.addFields.annotationsLocal),l(n,31,0,!e.addFields.annotationsLocal),l(n,33,0,e.currentExercise.local.annotations)},function(l,n){var e=n.component;l(n,4,0,e.text.Hint),l(n,6,0,t["\u0275nov"](n,11).ngClassUntouched,t["\u0275nov"](n,11).ngClassTouched,t["\u0275nov"](n,11).ngClassPristine,t["\u0275nov"](n,11).ngClassDirty,t["\u0275nov"](n,11).ngClassValid,t["\u0275nov"](n,11).ngClassInvalid,t["\u0275nov"](n,11).ngClassPending),l(n,15,0,e.text["Alt."]),l(n,26,0,e.text["Annot."])})}function Ft(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-type-icons",[],null,null,null,Me.b,Me.a)),t["\u0275did"](1,49152,null,0,$e.a,[],{tpe:[0,"tpe"],text:[1,"text"]},null)],function(l,n){l(n,1,0,n.context.$implicit,n.component.text)},null)}function Lt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","alert alert-danger pull-right"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ft)),t["\u0275did"](2,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.isDuplicate.tpes)},null)}function At(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","alert alert-success pull-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","fa fa-smile-o"]],null,null,null,null,null))],null,null)}function Vt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Lt)),t["\u0275did"](2,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,At)),t["\u0275did"](4,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.isDuplicate.tpes),l(n,4,0,!e.isDuplicate.tpes)},null)}function jt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-info btn-lg pull-right"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onCheckDuplicate(u.exerciseForm)&&t),t},null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,n){var e=n.component;l(n,0,0,!e.exerciseForm.valid||e.isDuplicate.checked),l(n,1,0,e.text.IsDuplicate)})}function Mt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-success btn-lg"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onAddNewWord(u.exerciseForm)&&t),t},null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,n){var e=n.component;l(n,0,0,!e.exerciseForm.valid),l(n,1,0,e.text.Addword)})}function $t(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,[[1,0],["dropdown",1]],null,13,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"button",[["class","btn btn-success btn-lg dropdown-toggle"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onToggleDropDown()&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"span",[["class","fa fa-file-o fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" ","... "])),(l()(),t["\u0275eld"](4,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,8,"ul",[["class","dropdown-menu"]],[[4,"display",null]],null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,3,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onAddNewConjugations("single",u.exerciseForm)&&t),t},null,null)),(l()(),t["\u0275eld"](7,0,null,null,2,"a",[],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,0,"span",[["class","fa fa-bars fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,[""," "])),(l()(),t["\u0275eld"](10,0,null,null,3,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onAddNewConjugations("multiple",u.exerciseForm)&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,2,"a",[],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,0,"span",[["class","fa fa-minus fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,[""," "]))],null,function(l,n){var e=n.component;l(n,1,0,e.isSaving?"":null),l(n,3,0,e.text.AddConjugations),l(n,5,0,e.showDropDown?"block":"none"),l(n,9,0,e.text.ConjugationsGrouped),l(n,13,0,e.text.ConjugationsSeparate)})}function qt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-success btn-lg"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onAddNewGenus(u.exerciseForm)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","fa fa-venus-mars fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[""," "]))],null,function(l,n){var e=n.component;l(n,0,0,e.isSaving?"":null),l(n,2,0,e.text.AddGenusTest)})}function Wt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-success btn-lg"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onAddNewArticle(u.exerciseForm)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","fa fa-superpowers fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[""," "]))],null,function(l,n){var e=n.component;l(n,0,0,e.isSaving?"":null),l(n,2,0,e.text.AddArticleTest)})}function Bt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-success btn-lg"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onAddNewComparison(u.exerciseForm)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","fa fa-signal fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[""," "]))],null,function(l,n){var e=n.component;l(n,0,0,e.isSaving?"":null),l(n,2,0,e.text.AddComparison)})}function Ut(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-success btn-lg"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onUpdateWord(u.exerciseForm)&&t),t},null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,n){var e=n.component;l(n,0,0,e.isSaving?"":null),l(n,1,0,e.text.UpdateWord)})}function zt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-warning btn-lg"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelEdit()&&t),t},null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,n){var e=n.component;l(n,0,0,e.isSaving?"":null),l(n,1,0,e.text.cancel)})}function Ht(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-warning btn-lg"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelNewWord()&&t),t},null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,n){var e=n.component;l(n,0,0,e.isSaving?"":null),l(n,1,0,e.text.cancel)})}function Gt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","fa fa-database"]],null,null,null,null,null)),t["\u0275did"](1,278528,null,0,y.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](2,{nodb:0,db:1})],function(l,n){var e=n.component;l(n,1,0,"fa fa-database",l(n,2,0,!e.currentExercise.wordDetailId,!!e.currentExercise.wordDetailId))},null)}function Kt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,62,"form",[["class","form-horizontal"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t["\u0275nov"](l,2).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,2).onReset()&&u),u},null,null)),t["\u0275did"](1,16384,null,0,ll.z,[],null,null),t["\u0275did"](2,540672,null,0,ll.j,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,ll.c,null,[ll.j]),t["\u0275did"](4,16384,null,0,ll.r,[[4,ll.c]],null,null),(l()(),t["\u0275eld"](5,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"label",[["class","control-label col-xs-1 text-center"],["for","foreignWord"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"km-region-flag-selector",[],null,[[null,"newRegion"]],function(l,n,e){var t=!0;return"newRegion"===n&&(t=!1!==l.component.onUpdateRegion(e,"foreign")&&t),t},sl,ul)),t["\u0275did"](8,114688,null,0,tl,[],{lan:[0,"lan"],region:[1,"region"],regions:[2,"regions"]},{newRegion:"newRegion"}),(l()(),t["\u0275eld"](9,0,null,null,8,"div",[["class","col-xs-11"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,[["foreign",1]],null,7,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","foreignWord"],["id","foreignWord"],["required",""]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,11)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,11).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,11)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,11)._compositionEnd(e.target.value)&&u),"focus"===n&&(u=!1!==o.onFocus(t["\u0275nov"](l,10).value,o.lanForeign)&&u),u},null,null)),t["\u0275did"](11,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275did"](12,16384,null,0,ll.v,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,ll.n,function(l){return[l]},[ll.v]),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](15,671744,null,0,ll.i,[[3,ll.c],[6,ll.n],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](17,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Je)),t["\u0275did"](19,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,It)),t["\u0275did"](21,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](22,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,2,"label",[["class","control-label col-xs-1"],["for","localWord"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,1,"km-region-flag-selector",[],null,[[null,"newRegion"]],function(l,n,e){var t=!0;return"newRegion"===n&&(t=!1!==l.component.onUpdateRegion(e,"local")&&t),t},sl,ul)),t["\u0275did"](25,114688,null,0,tl,[],{lan:[0,"lan"],region:[1,"region"],regions:[2,"regions"]},{newRegion:"newRegion"}),(l()(),t["\u0275eld"](26,0,null,null,8,"div",[["class","col-xs-11"]],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,[["local",1]],null,7,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","localWord"],["id","localWord"],["required",""]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,28)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,28).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,28)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,28)._compositionEnd(e.target.value)&&u),"focus"===n&&(u=!1!==o.onFocus(t["\u0275nov"](l,27).value,o.lanLocal)&&u),u},null,null)),t["\u0275did"](28,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275did"](29,16384,null,0,ll.v,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,ll.n,function(l){return[l]},[ll.v]),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](32,671744,null,0,ll.i,[[3,ll.c],[6,ll.n],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](34,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Rt)),t["\u0275did"](36,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Nt)),t["\u0275did"](38,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](39,0,null,null,23,"div",[["class","form-group buttons"]],null,null,null,null,null)),(l()(),t["\u0275eld"](40,0,null,null,22,"div",[["class","col-xs-12"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Vt)),t["\u0275did"](42,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,jt)),t["\u0275did"](44,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Mt)),t["\u0275did"](46,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,$t)),t["\u0275did"](48,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,qt)),t["\u0275did"](50,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Wt)),t["\u0275did"](52,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Bt)),t["\u0275did"](54,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ut)),t["\u0275did"](56,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,zt)),t["\u0275did"](58,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ht)),t["\u0275did"](60,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Gt)),t["\u0275did"](62,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.exerciseForm),l(n,8,0,e.languagePair.to,e.exerciseForm.value.foreignRegion,e.formData.foreignRegions),l(n,12,0,""),l(n,15,0,"foreignWord"),l(n,19,0,e.lanList===e.lanForeign&&!e.currentExercise&&(null==e.wordpairs?null:e.wordpairs.length)>0),l(n,21,0,e.currentExercise),l(n,25,0,e.languagePair.from,e.exerciseForm.value.localRegion,e.formData.localRegions),l(n,29,0,""),l(n,32,0,"localWord"),l(n,36,0,e.lanList===e.lanLocal&&!e.currentExercise),l(n,38,0,e.currentExercise&&e.isBidirectional),l(n,42,0,e.isDuplicate.checked),l(n,44,0,!e.currentExercise),l(n,46,0,!e.currentExercise),l(n,48,0,!e.currentExercise&&e.exerciseForm.valid&&e.hasConjugations),l(n,50,0,!e.currentExercise&&e.exerciseForm.valid&&e.hasGenus),l(n,52,0,!e.currentExercise&&e.exerciseForm.valid&&e.hasArticle),l(n,54,0,!e.currentExercise&&e.exerciseForm.valid&&e.hasComparison),l(n,56,0,e.currentExercise&&e.exerciseForm.valid),l(n,58,0,e.currentExercise),l(n,60,0,!e.currentExercise),l(n,62,0,e.currentExercise)},function(l,n){var e=n.component;l(n,0,0,t["\u0275nov"](n,4).ngClassUntouched,t["\u0275nov"](n,4).ngClassTouched,t["\u0275nov"](n,4).ngClassPristine,t["\u0275nov"](n,4).ngClassDirty,t["\u0275nov"](n,4).ngClassValid,t["\u0275nov"](n,4).ngClassInvalid,t["\u0275nov"](n,4).ngClassPending),l(n,10,0,e.text["Enterword"+e.lanForeign]||"",t["\u0275nov"](n,12).required?"":null,t["\u0275nov"](n,17).ngClassUntouched,t["\u0275nov"](n,17).ngClassTouched,t["\u0275nov"](n,17).ngClassPristine,t["\u0275nov"](n,17).ngClassDirty,t["\u0275nov"](n,17).ngClassValid,t["\u0275nov"](n,17).ngClassInvalid,t["\u0275nov"](n,17).ngClassPending),l(n,27,0,e.text["Enterword"+e.lanLocal]||"",t["\u0275nov"](n,29).required?"":null,t["\u0275nov"](n,34).ngClassUntouched,t["\u0275nov"](n,34).ngClassTouched,t["\u0275nov"](n,34).ngClassPristine,t["\u0275nov"](n,34).ngClassDirty,t["\u0275nov"](n,34).ngClassValid,t["\u0275nov"](n,34).ngClassInvalid,t["\u0275nov"](n,34).ngClassPending)})}function Jt(l){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{el:0}),(l()(),t["\u0275and"](16777216,null,null,1,null,Kt)),t["\u0275did"](2,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.isFormReady)},null)}var Zt=function(){function l(l,n,e){this.buildService=l,this.errorService=n,this.formBuilder=e,this.addedExercises=new t.EventEmitter,this.updatedExercise=new t.EventEmitter,this.cancelNew=new t.EventEmitter,this.cancelEdit=new t.EventEmitter,this.componentActive=!0,this.isFormReady=!1,this.isSaving=!1,this.exType=Yl.c}return l.prototype.init=function(){this.exercise&&(this.currentExercise=JSON.parse(JSON.stringify(this.exercise))),this.formData={localRegions:this.configs.local.regions,foreignRegions:this.configs.foreign.regions},this.buildForm(this.currentExercise)},l.prototype.onAddNewExercise=function(l){l.valid&&(this.isSaving=!0,this.buildNewExercise(l.value))},l.prototype.onUpdateExercise=function(l){l.valid&&(this.isSaving=!0,this.buildExistingExercise(l.value))},l.prototype.onUpdateRegion=function(l,n){var e;this.currentExercise?this.currentExercise[n].region=l:this.exerciseForm.patchValue(((e={})[n+"Region"]=l,e))},l.prototype.onCancelNew=function(){this.cancelNew.emit(!0)},l.prototype.onCancelEdit=function(){this.cancelEdit.emit(!0)},l.prototype.buildForm=function(l){},l.prototype.buildNewExercise=function(l){},l.prototype.buildExistingExercise=function(l){},l.prototype.saveNewExercise=function(l){var n=this,e=[];e.push(l),this.buildService.addExercises(e,this.lessonId).pipe(Object(_.a)(function(){return n.componentActive})).subscribe(function(l){n.isSaving=!1,n.addedExercises.emit(l),n.exerciseForm.reset()},function(l){return n.errorService.handleError(l)})},l.prototype.saveUpdatedExercise=function(l){var n=this;this.buildService.updateExercise(l,this.lessonId).pipe(Object(_.a)(function(){return n.componentActive})).subscribe(function(e){n.isSaving=!1,n.updatedExercise.emit(l),n.currentExercise=l,n.exercise=l},function(l){return n.errorService.handleError(l)})},l.prototype.checkIfValue=function(l){var n;return l&&(n=l),n},l}(),Qt=e("qZ4S"),Xt=function(l){function n(n,e,t){var u=l.call(this,n,e,t)||this;return u.buildService=n,u.errorService=e,u.formBuilder=t,u}return Object(Il.__extends)(n,l),n.prototype.ngOnInit=function(){l.prototype.init.call(this)},n.prototype.onAddOption=function(){this.addOption()},n.prototype.onRemoveOption=function(l){this.removeOption(l)},n.prototype.addOption=function(){this.exerciseForm.controls.options.push(new ll.g(""))},n.prototype.removeOption=function(l){this.exerciseForm.controls.options.removeAt(l)},n.prototype.buildForm=function(l){if(l){var n=[];l.options.split("|").forEach(function(l){return n.push(new ll.g(l))}),this.exerciseForm=this.formBuilder.group({localRegion:[l.local.region],foreignRegion:[l.foreign.region],select:[l.foreign.word,[ll.x.required,Qt.a.checkSelect]],selectLocal:[l.local.word],options:new ll.e(n)},{validator:Qt.a.checkSelectOptions})}else{var e=[];e.push(new ll.g("")),this.exerciseForm=this.formBuilder.group({localRegion:[this.formData.localRegions[0]||this.languagePair.from],foreignRegion:[this.formData.foreignRegions[0]||this.languagePair.to],select:["",[ll.x.required,Qt.a.checkSelect]],selectLocal:[""],options:new ll.e(e)},{validator:Qt.a.checkSelectOptions})}this.isFormReady=!0},n.prototype.buildNewExercise=function(l){var n=l.options.filter(function(l){return l}),e={foreign:{word:l.select,region:l.foreignRegion},local:{word:l.selectLocal,region:l.localRegion},options:n.join("|"),tpe:Yl.c.Select,difficulty:0};this.saveNewExercise(e)},n.prototype.buildExistingExercise=function(l){var n=l.options.filter(function(l){return l}),e=this.currentExercise;e.foreign.word=this.exerciseForm.value.select,e.local.word=this.exerciseForm.value.selectLocal,e.options=n.join("|"),this.saveUpdatedExercise(e)},n.prototype.ngOnDestroy=function(){this.componentActive=!1},n}(Zt),Yt=t["\u0275crt"]({encapsulation:0,styles:[[".btn-option[_ngcontent-%COMP%]{margin:6px 0 15px -10px}.fa-times[_ngcontent-%COMP%]{color:red;cursor:pointer}.input-group[_ngcontent-%COMP%]{margin-left:-10px}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:6px}.input-group-addon[_ngcontent-%COMP%]{font-size:34px;background-color:inherit;border:none;padding-left:0}"],xe],data:{}});function lu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"label",[["for","option0"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",":"]))],null,function(l,n){l(n,1,0,n.component.text.Options)})}function nu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,12,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","col-xs-1 col-xs-offset-1"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,lu)),t["\u0275did"](4,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](5,0,null,null,6,"div",[["class","col-xs-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,5,"input",[["autocomplete","off"],["class","form-control input-lg"],["spellcheck","false"]],[[8,"id",0],[8,"placeholder",0],[1,"focus",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,7)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,7).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,7)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,7)._compositionEnd(e.target.value)&&u),"keyup.enter"===n&&(u=!1!==o.onAddOption()&&u),u},null,null)),t["\u0275did"](7,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](9,540672,null,0,ll.h,[[8,null],[8,null],[6,ll.o],[2,ll.B]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.h]),t["\u0275did"](11,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275eld"](12,0,null,null,1,"span",[["class","input-group-addon"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,0,"span",[["class","fa fa-times"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onRemoveOption(l.context.index)&&t),t},null,null))],function(l,n){l(n,4,0,0===n.context.index),l(n,9,0,n.context.$implicit)},function(l,n){var e=n.component;l(n,6,0,t["\u0275inlineInterpolate"](1,"option",n.context.index,""),t["\u0275inlineInterpolate"](2,"",e.text.Option||""," #",n.context.index+1,""),2===n.context.index,t["\u0275nov"](n,11).ngClassUntouched,t["\u0275nov"](n,11).ngClassTouched,t["\u0275nov"](n,11).ngClassPristine,t["\u0275nov"](n,11).ngClassDirty,t["\u0275nov"](n,11).ngClassValid,t["\u0275nov"](n,11).ngClassInvalid,t["\u0275nov"](n,11).ngClassPending)})}function eu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-success btn-option"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAddOption()&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","fa fa-plus"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[" "," "]))],null,function(l,n){l(n,2,0,n.component.text.AddOption)})}function tu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-success btn-lg"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onAddNewExercise(u.exerciseForm)&&t),t},null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,n){var e=n.component;l(n,0,0,!e.exerciseForm.valid),l(n,1,0,e.text.AddSentence)})}function uu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","btn btn-success btn-lg"]],[[1,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onUpdateExercise(u.exerciseForm)&&t),t},null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,n){var e=n.component;l(n,0,0,e.isSaving||!e.exerciseForm.valid?"":null),l(n,1,0,e.text.UpdateSentence)})}function ou(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-warning btn-lg"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelNew()&&t),t},null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.text.cancel)})}function iu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-warning btn-lg"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelEdit()&&t),t},null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.text.cancel)})}function ru(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,47,"form",[["class","form-horizontal"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t["\u0275nov"](l,2).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,2).onReset()&&u),u},null,null)),t["\u0275did"](1,16384,null,0,ll.z,[],null,null),t["\u0275did"](2,540672,null,0,ll.j,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,ll.c,null,[ll.j]),t["\u0275did"](4,16384,null,0,ll.r,[[4,ll.c]],null,null),(l()(),t["\u0275eld"](5,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"label",[["class","control-label col-xs-1"],["for","select"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"km-region-flag-selector",[],null,[[null,"newRegion"]],function(l,n,e){var t=!0;return"newRegion"===n&&(t=!1!==l.component.onUpdateRegion(e,"foreign")&&t),t},sl,ul)),t["\u0275did"](8,114688,null,0,tl,[],{lan:[0,"lan"],region:[1,"region"],regions:[2,"regions"]},{newRegion:"newRegion"}),(l()(),t["\u0275eld"](9,0,null,null,10,"div",[["class","col-xs-11"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,7,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","select"],["id","select"],["required",""],["spellcheck","false"]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,11)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,11).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,11)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,11)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](11,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275did"](12,16384,null,0,ll.v,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,ll.n,function(l){return[l]},[ll.v]),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](15,671744,null,0,ll.i,[[3,ll.c],[6,ll.n],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](17,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275eld"](18,0,null,null,1,"km-field-messages",[],null,null,null,wn.b,wn.a)),t["\u0275did"](19,49152,null,0,yn.a,[],{control:[0,"control"],label:[1,"label"],text:[2,"text"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,nu)),t["\u0275did"](21,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](22,0,null,null,4,"div",[["class","col-xs-11 col-xs-offset-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,1,"km-field-messages",[],null,null,null,wn.b,wn.a)),t["\u0275did"](24,49152,null,0,yn.a,[],{control:[0,"control"],text:[1,"text"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,eu)),t["\u0275did"](26,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](27,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](28,0,null,null,2,"label",[["class","control-label col-xs-1"],["for","selectLocal"]],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,1,"km-region-flag-selector",[],null,[[null,"newRegion"]],function(l,n,e){var t=!0;return"newRegion"===n&&(t=!1!==l.component.onUpdateRegion(e,"local")&&t),t},sl,ul)),t["\u0275did"](30,114688,null,0,tl,[],{lan:[0,"lan"],region:[1,"region"],regions:[2,"regions"]},{newRegion:"newRegion"}),(l()(),t["\u0275eld"](31,0,null,null,6,"div",[["class","col-xs-11"]],null,null,null,null,null)),(l()(),t["\u0275eld"](32,0,null,null,5,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","selectLocal"],["id","selectLocal"],["spellcheck","false"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,33)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,33).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,33)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,33)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](33,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](35,671744,null,0,ll.i,[[3,ll.c],[8,null],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](37,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275eld"](38,0,null,null,9,"div",[["class","form-group buttons"]],null,null,null,null,null)),(l()(),t["\u0275eld"](39,0,null,null,8,"div",[["class","col-xs-12"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,tu)),t["\u0275did"](41,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,uu)),t["\u0275did"](43,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ou)),t["\u0275did"](45,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,iu)),t["\u0275did"](47,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.exerciseForm),l(n,8,0,e.languagePair.to,null==e.currentExercise?null:e.currentExercise.foreign.region,e.formData.foreignRegions),l(n,12,0,""),l(n,15,0,"select"),l(n,19,0,e.exerciseForm.controls.select,"TheSentence",e.text),l(n,21,0,e.exerciseForm.controls.options.controls),l(n,24,0,e.exerciseForm,e.text),l(n,26,0,e.exerciseForm.controls.options.controls.length<5),l(n,30,0,e.languagePair.from,null==e.currentExercise?null:e.currentExercise.local.region,e.formData.localRegions),l(n,35,0,"selectLocal"),l(n,41,0,!e.currentExercise),l(n,43,0,e.currentExercise),l(n,45,0,!e.currentExercise),l(n,47,0,e.currentExercise)},function(l,n){var e=n.component;l(n,0,0,t["\u0275nov"](n,4).ngClassUntouched,t["\u0275nov"](n,4).ngClassTouched,t["\u0275nov"](n,4).ngClassPristine,t["\u0275nov"](n,4).ngClassDirty,t["\u0275nov"](n,4).ngClassValid,t["\u0275nov"](n,4).ngClassInvalid,t["\u0275nov"](n,4).ngClassPending),l(n,10,0,e.text.EnterSentence||"",t["\u0275nov"](n,12).required?"":null,t["\u0275nov"](n,17).ngClassUntouched,t["\u0275nov"](n,17).ngClassTouched,t["\u0275nov"](n,17).ngClassPristine,t["\u0275nov"](n,17).ngClassDirty,t["\u0275nov"](n,17).ngClassValid,t["\u0275nov"](n,17).ngClassInvalid,t["\u0275nov"](n,17).ngClassPending),l(n,32,0,e.text.EnterSentenceLocal||"",t["\u0275nov"](n,37).ngClassUntouched,t["\u0275nov"](n,37).ngClassTouched,t["\u0275nov"](n,37).ngClassPristine,t["\u0275nov"](n,37).ngClassDirty,t["\u0275nov"](n,37).ngClassValid,t["\u0275nov"](n,37).ngClassInvalid,t["\u0275nov"](n,37).ngClassPending)})}function su(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,ru)),t["\u0275did"](1,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.isFormReady)},null)}var au=function(l){function n(n,e,t){var u=l.call(this,n,e,t)||this;return u.buildService=n,u.errorService=e,u.formBuilder=t,u}return Object(Il.__extends)(n,l),n.prototype.ngOnInit=function(){l.prototype.init.call(this)},n.prototype.buildForm=function(l){this.exerciseForm=this.formBuilder.group(l?{foreignRegion:[l.foreign.region],question:[l.foreign.hint,[ll.x.required]],answer:[l.foreign.word,Qt.a.checkQAnswer]}:{foreignRegion:[this.formData.foreignRegions[0]||this.languagePair.to],question:["",[ll.x.required]],answer:["",Qt.a.checkQAnswer]}),this.isFormReady=!0},n.prototype.buildNewExercise=function(l){this.saveNewExercise({foreign:{hint:l.question,word:l.answer,region:l.foreignRegion},local:{word:""},tpe:Yl.c.QA,difficulty:0})},n.prototype.buildExistingExercise=function(l){var n=this.currentExercise;n.foreign.hint=this.exerciseForm.value.question,n.foreign.word=this.exerciseForm.value.answer,this.saveUpdatedExercise(n)},n.prototype.ngOnDestroy=function(){this.componentActive=!1},n}(Zt),cu=t["\u0275crt"]({encapsulation:0,styles:[xe],data:{}});function du(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-warning btn-lg"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelNew()&&t),t},null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.text.cancel)})}function pu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-success btn-lg"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onAddNewExercise(u.exerciseForm)&&t),t},null,null)),(l()(),t["\u0275ted"](2,null,[" "," "])),(l()(),t["\u0275and"](16777216,null,null,1,null,du)),t["\u0275did"](4,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,4,0,!n.component.currentExercise)},function(l,n){var e=n.component;l(n,1,0,!e.exerciseForm.valid),l(n,2,0,e.text.AddQA)})}function gu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-success btn-lg"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onUpdateExercise(u.exerciseForm)&&t),t},null,null)),(l()(),t["\u0275ted"](2,null,[" "," "])),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-warning btn-lg"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelEdit()&&t),t},null,null)),(l()(),t["\u0275ted"](4,null,[" "," "]))],null,function(l,n){var e=n.component;l(n,1,0,e.isSaving||!e.exerciseForm.valid),l(n,2,0,e.text.UpdateQA),l(n,4,0,e.text.cancel)})}function fu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,34,"form",[["class","form-horizontal"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t["\u0275nov"](l,2).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,2).onReset()&&u),u},null,null)),t["\u0275did"](1,16384,null,0,ll.z,[],null,null),t["\u0275did"](2,540672,null,0,ll.j,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,ll.c,null,[ll.j]),t["\u0275did"](4,16384,null,0,ll.r,[[4,ll.c]],null,null),(l()(),t["\u0275eld"](5,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,0,"label",[["class","control-label col-xs-1"],["for","question"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,8,"div",[["class","col-xs-11"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,7,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","question"],["id","question"],["required",""],["spellcheck","false"]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,9)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,9).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,9)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,9)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](9,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275did"](10,16384,null,0,ll.v,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,ll.n,function(l){return[l]},[ll.v]),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](13,671744,null,0,ll.i,[[3,ll.c],[6,ll.n],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](15,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275eld"](16,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,2,"label",[["class","control-label col-xs-1"],["for","answer"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"km-region-flag-selector",[],null,[[null,"newRegion"]],function(l,n,e){var t=!0;return"newRegion"===n&&(t=!1!==l.component.onUpdateRegion(e,"foreign")&&t),t},sl,ul)),t["\u0275did"](19,114688,null,0,tl,[],{lan:[0,"lan"],region:[1,"region"],regions:[2,"regions"]},{newRegion:"newRegion"}),(l()(),t["\u0275eld"](20,0,null,null,8,"div",[["class","col-xs-11"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,5,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","answer"],["id","answer"],["spellcheck","false"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,22)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,22).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,22)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,22)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](22,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](24,671744,null,0,ll.i,[[3,ll.c],[8,null],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](26,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275eld"](27,0,null,null,1,"km-field-messages",[],null,null,null,wn.b,wn.a)),t["\u0275did"](28,49152,null,0,yn.a,[],{control:[0,"control"],text:[1,"text"]},null),(l()(),t["\u0275eld"](29,0,null,null,5,"div",[["class","form-group buttons"]],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,4,"div",[["class","col-xs-12"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,pu)),t["\u0275did"](32,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,gu)),t["\u0275did"](34,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.exerciseForm),l(n,10,0,""),l(n,13,0,"question"),l(n,19,0,e.languagePair.to,null==e.currentExercise?null:e.currentExercise.foreign.region,e.formData.foreignRegions),l(n,24,0,"answer"),l(n,28,0,e.exerciseForm.controls.answer,e.text),l(n,32,0,!e.currentExercise),l(n,34,0,e.currentExercise)},function(l,n){var e=n.component;l(n,0,0,t["\u0275nov"](n,4).ngClassUntouched,t["\u0275nov"](n,4).ngClassTouched,t["\u0275nov"](n,4).ngClassPristine,t["\u0275nov"](n,4).ngClassDirty,t["\u0275nov"](n,4).ngClassValid,t["\u0275nov"](n,4).ngClassInvalid,t["\u0275nov"](n,4).ngClassPending),l(n,8,0,e.text.EnterQuestion||"",t["\u0275nov"](n,10).required?"":null,t["\u0275nov"](n,15).ngClassUntouched,t["\u0275nov"](n,15).ngClassTouched,t["\u0275nov"](n,15).ngClassPristine,t["\u0275nov"](n,15).ngClassDirty,t["\u0275nov"](n,15).ngClassValid,t["\u0275nov"](n,15).ngClassInvalid,t["\u0275nov"](n,15).ngClassPending),l(n,21,0,e.text.EnterAnswer||"",t["\u0275nov"](n,26).ngClassUntouched,t["\u0275nov"](n,26).ngClassTouched,t["\u0275nov"](n,26).ngClassPristine,t["\u0275nov"](n,26).ngClassDirty,t["\u0275nov"](n,26).ngClassValid,t["\u0275nov"](n,26).ngClassInvalid,t["\u0275nov"](n,26).ngClassPending)})}function mu(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,fu)),t["\u0275did"](1,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.isFormReady)},null)}var hu=function(l){function n(n,e,t){var u=l.call(this,n,e,t)||this;return u.buildService=n,u.errorService=e,u.formBuilder=t,u.localRegions=[],u}return Object(Il.__extends)(n,l),n.prototype.ngOnInit=function(){l.prototype.init.call(this)},n.prototype.buildForm=function(l){this.localRegions=this.getAllRegions(),this.exerciseForm=this.formBuilder.group(l?{foreignRegion:[this.formData.foreignRegions[0]||this.languagePair.to],localRegion:[this.localRegions[0]||this.languagePair.from],hint:[l.local.word],sentence:[l.foreign.word,Qt.a.checkFillInSentence]}:{foreignRegion:[this.formData.foreignRegions[0]||this.languagePair.to],localRegion:[this.localRegions[0]||this.languagePair.from],hint:[""],sentence:["",Qt.a.checkFillInSentence]}),this.isFormReady=!0},n.prototype.getAllRegions=function(){var l=[];return this.formData.foreignRegions.length?l=l.concat(this.formData.foreignRegions):l.push(this.languagePair.to),this.formData.localRegions.length?l=l.concat(this.formData.localRegions):l.push(this.languagePair.from),l},n.prototype.buildNewExercise=function(l){this.saveNewExercise({foreign:{word:l.sentence,region:l.foreignRegion},local:{word:l.hint,region:l.localRegion},tpe:Yl.c.FillIn,difficulty:0})},n.prototype.buildExistingExercise=function(l){var n=this.currentExercise;n.local.word=this.exerciseForm.value.hint,n.foreign.word=this.exerciseForm.value.sentence,this.saveUpdatedExercise(n)},n.prototype.ngOnDestroy=function(){this.componentActive=!1},n}(Zt),vu=t["\u0275crt"]({encapsulation:0,styles:[xe],data:{}});function bu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-warning btn-lg"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelNew()&&t),t},null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.text.cancel)})}function xu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-success btn-lg"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onAddNewExercise(u.exerciseForm)&&t),t},null,null)),(l()(),t["\u0275ted"](2,null,[" "," "])),(l()(),t["\u0275and"](16777216,null,null,1,null,bu)),t["\u0275did"](4,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,4,0,!n.component.currentExercise)},function(l,n){var e=n.component;l(n,1,0,!e.exerciseForm.valid),l(n,2,0,e.text.AddFillIn)})}function Cu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-success btn-lg"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onUpdateExercise(u.exerciseForm)&&t),t},null,null)),(l()(),t["\u0275ted"](2,null,[" "," "])),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-warning btn-lg"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelEdit()&&t),t},null,null)),(l()(),t["\u0275ted"](4,null,[" "," "]))],null,function(l,n){var e=n.component;l(n,1,0,e.isSaving||!e.exerciseForm.valid),l(n,2,0,e.text.UpdateFillIn),l(n,4,0,e.text.cancel)})}function wu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,34,"form",[["class","form-horizontal"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t["\u0275nov"](l,2).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,2).onReset()&&u),u},null,null)),t["\u0275did"](1,16384,null,0,ll.z,[],null,null),t["\u0275did"](2,540672,null,0,ll.j,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,ll.c,null,[ll.j]),t["\u0275did"](4,16384,null,0,ll.r,[[4,ll.c]],null,null),(l()(),t["\u0275eld"](5,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"label",[["class","control-label col-xs-1"],["for","hint"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"km-region-flag-selector",[],null,[[null,"newRegion"]],function(l,n,e){var t=!0;return"newRegion"===n&&(t=!1!==l.component.onUpdateRegion(e,"local")&&t),t},sl,ul)),t["\u0275did"](8,114688,null,0,tl,[],{lan:[0,"lan"],region:[1,"region"],regions:[2,"regions"]},{newRegion:"newRegion"}),(l()(),t["\u0275eld"](9,0,null,null,6,"div",[["class","col-xs-11"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,5,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","hint"],["id","hint"],["spellcheck","false"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,11)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,11).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,11)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,11)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](11,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](13,671744,null,0,ll.i,[[3,ll.c],[8,null],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](15,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275eld"](16,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,2,"label",[["class","control-label col-xs-1"],["for","sentence"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"km-region-flag-selector",[],null,[[null,"newRegion"]],function(l,n,e){var t=!0;return"newRegion"===n&&(t=!1!==l.component.onUpdateRegion(e,"foreign")&&t),t},sl,ul)),t["\u0275did"](19,114688,null,0,tl,[],{lan:[0,"lan"],region:[1,"region"],regions:[2,"regions"]},{newRegion:"newRegion"}),(l()(),t["\u0275eld"](20,0,null,null,8,"div",[["class","col-xs-11"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,5,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","sentence"],["id","sentence"],["spellcheck","false"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,22)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,22).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,22)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,22)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](22,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](24,671744,null,0,ll.i,[[3,ll.c],[8,null],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](26,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275eld"](27,0,null,null,1,"km-field-messages",[],null,null,null,wn.b,wn.a)),t["\u0275did"](28,49152,null,0,yn.a,[],{control:[0,"control"],text:[1,"text"]},null),(l()(),t["\u0275eld"](29,0,null,null,5,"div",[["class","form-group buttons"]],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,4,"div",[["class","col-xs-12"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,xu)),t["\u0275did"](32,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Cu)),t["\u0275did"](34,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.exerciseForm),l(n,8,0,e.languagePair.from,null==e.currentExercise?null:e.currentExercise.local.region,e.localRegions),l(n,13,0,"hint"),l(n,19,0,e.languagePair.to,null==e.currentExercise?null:e.currentExercise.foreign.region,e.formData.foreignRegions),l(n,24,0,"sentence"),l(n,28,0,e.exerciseForm.controls.sentence,e.text),l(n,32,0,!e.currentExercise),l(n,34,0,e.currentExercise)},function(l,n){var e=n.component;l(n,0,0,t["\u0275nov"](n,4).ngClassUntouched,t["\u0275nov"](n,4).ngClassTouched,t["\u0275nov"](n,4).ngClassPristine,t["\u0275nov"](n,4).ngClassDirty,t["\u0275nov"](n,4).ngClassValid,t["\u0275nov"](n,4).ngClassInvalid,t["\u0275nov"](n,4).ngClassPending),l(n,10,0,e.text.EnterHint||"",t["\u0275nov"](n,15).ngClassUntouched,t["\u0275nov"](n,15).ngClassTouched,t["\u0275nov"](n,15).ngClassPristine,t["\u0275nov"](n,15).ngClassDirty,t["\u0275nov"](n,15).ngClassValid,t["\u0275nov"](n,15).ngClassInvalid,t["\u0275nov"](n,15).ngClassPending),l(n,21,0,e.text.EnterSentence||"",t["\u0275nov"](n,26).ngClassUntouched,t["\u0275nov"](n,26).ngClassTouched,t["\u0275nov"](n,26).ngClassPristine,t["\u0275nov"](n,26).ngClassDirty,t["\u0275nov"](n,26).ngClassValid,t["\u0275nov"](n,26).ngClassInvalid,t["\u0275nov"](n,26).ngClassPending)})}function yu(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,wu)),t["\u0275did"](1,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.isFormReady)},null)}var Iu=function(l){function n(n,e,t){var u=l.call(this,n,e,t)||this;return u.buildService=n,u.errorService=e,u.formBuilder=t,u}return Object(Il.__extends)(n,l),n.prototype.ngOnInit=function(){l.prototype.init.call(this),this.getConfig(this.languagePair.to)},n.prototype.getConfig=function(l){var n=this;this.buildService.fetchLanConfig(l).pipe(Object(_.a)(function(){return n.componentActive})).subscribe(function(l){return n.config=l},function(l){return n.errorService.handleError(l)})},n.prototype.buildForm=function(l){this.options=this.exercise.options.split("|"),this.exerciseForm=this.formBuilder.group({localWord:[l.local.word,[ll.x.required]],foreignWord:[l.foreign.word,[ll.x.required]],localRegion:[l.local.region],foreignRegion:[l.foreign.region],genus:[l.genus],article:[l.article]}),this.isFormReady=!0},n.prototype.buildExistingExercise=function(l){var n=this.currentExercise;n.local.word=l.localWord,n.foreign.word=l.foreignWord,n.genus=this.checkIfValue(l.genus),n.article=this.checkIfValue(l.article),this.saveUpdatedExercise(n)},n.prototype.ngOnDestroy=function(){this.componentActive=!1},n}(Zt),Ru=t["\u0275crt"]({encapsulation:0,styles:[xe],data:{}});function Eu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,ll.t,[t.ElementRef,t.Renderer2,[2,ll.w]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,ll.C,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.component.text[n.context.$implicit.toLowerCase()])})}function Su(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"select",[["class","form-control"],["formControlName","genus"],["id","genus"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var u=!0;return"change"===n&&(u=!1!==t["\u0275nov"](l,1).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,1).onTouched()&&u),u},null,null)),t["\u0275did"](1,16384,null,0,ll.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.w]),t["\u0275did"](3,671744,null,0,ll.i,[[3,ll.c],[8,null],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](5,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Eu)),t["\u0275did"](7,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0,"genus"),l(n,7,0,e.config.genera)},function(l,n){l(n,0,0,t["\u0275nov"](n,5).ngClassUntouched,t["\u0275nov"](n,5).ngClassTouched,t["\u0275nov"](n,5).ngClassPristine,t["\u0275nov"](n,5).ngClassDirty,t["\u0275nov"](n,5).ngClassValid,t["\u0275nov"](n,5).ngClassInvalid,t["\u0275nov"](n,5).ngClassPending)})}function Du(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,ll.t,[t.ElementRef,t.Renderer2,[2,ll.w]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,ll.C,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit)})}function ku(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"select",[["class","form-control"],["formControlName","article"],["id","article"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var u=!0;return"change"===n&&(u=!1!==t["\u0275nov"](l,1).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,1).onTouched()&&u),u},null,null)),t["\u0275did"](1,16384,null,0,ll.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.w]),t["\u0275did"](3,671744,null,0,ll.i,[[3,ll.c],[8,null],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](5,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Du)),t["\u0275did"](7,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0,"article"),l(n,7,0,e.config.articles)},function(l,n){l(n,0,0,t["\u0275nov"](n,5).ngClassUntouched,t["\u0275nov"](n,5).ngClassTouched,t["\u0275nov"](n,5).ngClassPristine,t["\u0275nov"](n,5).ngClassDirty,t["\u0275nov"](n,5).ngClassValid,t["\u0275nov"](n,5).ngClassInvalid,t["\u0275nov"](n,5).ngClassPending)})}function Tu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-success btn-lg"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onUpdateExercise(u.exerciseForm)&&t),t},null,null)),(l()(),t["\u0275ted"](2,null,[" "," "])),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-warning btn-lg"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelEdit()&&t),t},null,null)),(l()(),t["\u0275ted"](4,null,[" "," "]))],null,function(l,n){var e=n.component;l(n,1,0,e.isSaving||!e.exerciseForm.valid),l(n,2,0,e.exercise.tpe===e.exType.Genus?e.text.UpdateGenus:e.text.UpdateArticle),l(n,4,0,e.text.cancel)})}function _u(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,41,"form",[["class","form-horizontal"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t["\u0275nov"](l,2).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,2).onReset()&&u),u},null,null)),t["\u0275did"](1,16384,null,0,ll.z,[],null,null),t["\u0275did"](2,540672,null,0,ll.j,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,ll.c,null,[ll.j]),t["\u0275did"](4,16384,null,0,ll.r,[[4,ll.c]],null,null),(l()(),t["\u0275eld"](5,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"label",[["class","control-label col-xs-1"],["for","foreignWord"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"km-region-flag-selector",[],null,[[null,"newRegion"]],function(l,n,e){var t=!0;return"newRegion"===n&&(t=!1!==l.component.onUpdateRegion(e,"foreign")&&t),t},sl,ul)),t["\u0275did"](8,114688,null,0,tl,[],{lan:[0,"lan"],region:[1,"region"],regions:[2,"regions"]},{newRegion:"newRegion"}),(l()(),t["\u0275eld"](9,0,null,null,8,"div",[["class","col-xs-11"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,[["foreign",1]],null,7,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","foreignWord"],["id","foreignWord"],["required",""]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,11)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,11).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,11)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,11)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](11,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275did"](12,16384,null,0,ll.v,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,ll.n,function(l){return[l]},[ll.v]),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](15,671744,null,0,ll.i,[[3,ll.c],[6,ll.n],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](17,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275eld"](18,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,0,"label",[["class","control-label col-xs-1"],["for","foreignWord"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,4,"div",[["class","col-xs-11"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Su)),t["\u0275did"](22,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ku)),t["\u0275did"](24,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](25,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,2,"label",[["class","control-label col-xs-1"],["for","localWord"]],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,1,"km-region-flag-selector",[],null,[[null,"newRegion"]],function(l,n,e){var t=!0;return"newRegion"===n&&(t=!1!==l.component.onUpdateRegion(e,"local")&&t),t},sl,ul)),t["\u0275did"](28,114688,null,0,tl,[],{lan:[0,"lan"],region:[1,"region"],regions:[2,"regions"]},{newRegion:"newRegion"}),(l()(),t["\u0275eld"](29,0,null,null,8,"div",[["class","col-xs-11"]],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,[["local",1]],null,7,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","localWord"],["id","localWord"],["required",""]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,31)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,31).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,31)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,31)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](31,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275did"](32,16384,null,0,ll.v,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,ll.n,function(l){return[l]},[ll.v]),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](35,671744,null,0,ll.i,[[3,ll.c],[6,ll.n],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](37,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275eld"](38,0,null,null,3,"div",[["class","form-group buttons"]],null,null,null,null,null)),(l()(),t["\u0275eld"](39,0,null,null,2,"div",[["class","col-xs-12"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Tu)),t["\u0275did"](41,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.exerciseForm),l(n,8,0,e.languagePair.to,null==e.currentExercise?null:e.currentExercise.foreign.region,e.formData.foreignRegions),l(n,12,0,""),l(n,15,0,"foreignWord"),l(n,22,0,e.exercise.tpe===e.exType.Genus),l(n,24,0,e.exercise.tpe===e.exType.Article),l(n,28,0,e.languagePair.from,null==e.currentExercise?null:e.currentExercise.local.region,e.formData.localRegions),l(n,32,0,""),l(n,35,0,"localWord"),l(n,41,0,e.currentExercise)},function(l,n){var e=n.component;l(n,0,0,t["\u0275nov"](n,4).ngClassUntouched,t["\u0275nov"](n,4).ngClassTouched,t["\u0275nov"](n,4).ngClassPristine,t["\u0275nov"](n,4).ngClassDirty,t["\u0275nov"](n,4).ngClassValid,t["\u0275nov"](n,4).ngClassInvalid,t["\u0275nov"](n,4).ngClassPending),l(n,10,0,e.text["Enterword"+e.lanForeign]||"",t["\u0275nov"](n,12).required?"":null,t["\u0275nov"](n,17).ngClassUntouched,t["\u0275nov"](n,17).ngClassTouched,t["\u0275nov"](n,17).ngClassPristine,t["\u0275nov"](n,17).ngClassDirty,t["\u0275nov"](n,17).ngClassValid,t["\u0275nov"](n,17).ngClassInvalid,t["\u0275nov"](n,17).ngClassPending),l(n,30,0,e.text["Enterword"+e.lanLocal]||"",t["\u0275nov"](n,32).required?"":null,t["\u0275nov"](n,37).ngClassUntouched,t["\u0275nov"](n,37).ngClassTouched,t["\u0275nov"](n,37).ngClassPristine,t["\u0275nov"](n,37).ngClassDirty,t["\u0275nov"](n,37).ngClassValid,t["\u0275nov"](n,37).ngClassInvalid,t["\u0275nov"](n,37).ngClassPending)})}function Ou(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,_u)),t["\u0275did"](1,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,1,0,e.isFormReady&&e.config)},null)}var Pu=function(l){function n(n,e,t){var u=l.call(this,n,e,t)||this;return u.buildService=n,u.errorService=e,u.formBuilder=t,u}return Object(Il.__extends)(n,l),n.prototype.ngOnInit=function(){l.prototype.init.call(this)},n.prototype.buildForm=function(l){var n=l.foreign.word.split("|");this.exerciseForm=this.formBuilder.group({localRegion:[this.formData.localRegions[0]||this.languagePair.from],foreignRegion:[this.formData.foreignRegions[0]||this.languagePair.to],localWord:[l.local.word,[ll.x.required]],foreignWord:[n[0],[ll.x.required]],foreignComparative:[n[1],[ll.x.required]],foreignSuperlative:[n[2],[ll.x.required]]}),this.isFormReady=!0},n.prototype.buildExistingExercise=function(l){var n=this.currentExercise,e=l.foreignWord.replace(/\|/g,"")+"|"+l.foreignComparative.replace(/\|/g,"")+"|"+l.foreignSuperlative.replace(/\|/g,"");n.local.word=l.localWord,n.foreign.word=e,this.saveUpdatedExercise(n)},n.prototype.ngOnDestroy=function(){this.componentActive=!1},n}(Zt),Nu=t["\u0275crt"]({encapsulation:0,styles:[xe],data:{}});function Fu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-success btn-lg"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onUpdateExercise(u.exerciseForm)&&t),t},null,null)),(l()(),t["\u0275ted"](2,null,[" "," "])),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-warning btn-lg"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelEdit()&&t),t},null,null)),(l()(),t["\u0275ted"](4,null,[" "," "]))],null,function(l,n){var e=n.component;l(n,1,0,e.isSaving||!e.exerciseForm.valid),l(n,2,0,e.text.UpdateComparison),l(n,4,0,e.text.cancel)})}function Lu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,58,"form",[["class","form-horizontal"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t["\u0275nov"](l,2).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,2).onReset()&&u),u},null,null)),t["\u0275did"](1,16384,null,0,ll.z,[],null,null),t["\u0275did"](2,540672,null,0,ll.j,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,ll.c,null,[ll.j]),t["\u0275did"](4,16384,null,0,ll.r,[[4,ll.c]],null,null),(l()(),t["\u0275eld"](5,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"label",[["class","control-label col-xs-1"],["for","foreignWord"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"km-region-flag-selector",[],null,[[null,"newRegion"]],function(l,n,e){var t=!0;return"newRegion"===n&&(t=!1!==l.component.onUpdateRegion(e,"foreign")&&t),t},sl,ul)),t["\u0275did"](8,114688,null,0,tl,[],{lan:[0,"lan"],region:[1,"region"],regions:[2,"regions"]},{newRegion:"newRegion"}),(l()(),t["\u0275eld"](9,0,null,null,8,"div",[["class","col-xs-11"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,[["foreign",1]],null,7,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","foreignWord"],["id","foreignWord"],["required",""]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,11)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,11).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,11)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,11)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](11,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275did"](12,16384,null,0,ll.v,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,ll.n,function(l){return[l]},[ll.v]),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](15,671744,null,0,ll.i,[[3,ll.c],[6,ll.n],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](17,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275eld"](18,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,1,"label",[["class","control-label col-xs-2 col-xs-offset-1"],["for","foreignComparative"]],null,null,null,null,null)),(l()(),t["\u0275ted"](20,null,[" "," "])),(l()(),t["\u0275eld"](21,0,null,null,8,"div",[["class","col-xs-9"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,7,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","foreignComparative"],["id","foreignComparative"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,23)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,23).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,23)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,23)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](23,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275did"](24,16384,null,0,ll.v,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,ll.n,function(l){return[l]},[ll.v]),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](27,671744,null,0,ll.i,[[3,ll.c],[6,ll.n],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](29,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275eld"](30,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,1,"label",[["class","control-label col-xs-2 col-xs-offset-1"],["for","foreignSuperlative"]],null,null,null,null,null)),(l()(),t["\u0275ted"](32,null,[" "," "])),(l()(),t["\u0275eld"](33,0,null,null,8,"div",[["class","col-xs-9"]],null,null,null,null,null)),(l()(),t["\u0275eld"](34,0,null,null,7,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","foreignSuperlative"],["id","foreignSuperlative"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,35)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,35).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,35)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,35)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](35,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275did"](36,16384,null,0,ll.v,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,ll.n,function(l){return[l]},[ll.v]),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](39,671744,null,0,ll.i,[[3,ll.c],[6,ll.n],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](41,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275eld"](42,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](43,0,null,null,2,"label",[["class","control-label col-xs-1"],["for","localWord"]],null,null,null,null,null)),(l()(),t["\u0275eld"](44,0,null,null,1,"km-region-flag-selector",[],null,[[null,"newRegion"]],function(l,n,e){var t=!0;return"newRegion"===n&&(t=!1!==l.component.onUpdateRegion(e,"local")&&t),t},sl,ul)),t["\u0275did"](45,114688,null,0,tl,[],{lan:[0,"lan"],region:[1,"region"],regions:[2,"regions"]},{newRegion:"newRegion"}),(l()(),t["\u0275eld"](46,0,null,null,8,"div",[["class","col-xs-11"]],null,null,null,null,null)),(l()(),t["\u0275eld"](47,0,[["local",1]],null,7,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","localWord"],["id","localWord"],["required",""]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,48)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,48).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,48)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,48)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](48,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275did"](49,16384,null,0,ll.v,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,ll.n,function(l){return[l]},[ll.v]),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](52,671744,null,0,ll.i,[[3,ll.c],[6,ll.n],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](54,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275eld"](55,0,null,null,3,"div",[["class","form-group buttons"]],null,null,null,null,null)),(l()(),t["\u0275eld"](56,0,null,null,2,"div",[["class","col-xs-12"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Fu)),t["\u0275did"](58,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.exerciseForm),l(n,8,0,e.languagePair.to,null==e.currentExercise?null:e.currentExercise.foreign.region,e.formData.foreignRegions),l(n,12,0,""),l(n,15,0,"foreignWord"),l(n,24,0,""),l(n,27,0,"foreignComparative"),l(n,36,0,""),l(n,39,0,"foreignSuperlative"),l(n,45,0,e.languagePair.from,null==e.currentExercise?null:e.currentExercise.local.region,e.formData.localRegions),l(n,49,0,""),l(n,52,0,"localWord"),l(n,58,0,e.currentExercise)},function(l,n){var e=n.component;l(n,0,0,t["\u0275nov"](n,4).ngClassUntouched,t["\u0275nov"](n,4).ngClassTouched,t["\u0275nov"](n,4).ngClassPristine,t["\u0275nov"](n,4).ngClassDirty,t["\u0275nov"](n,4).ngClassValid,t["\u0275nov"](n,4).ngClassInvalid,t["\u0275nov"](n,4).ngClassPending),l(n,10,0,e.text["Enterword"+e.lanForeign]||"",t["\u0275nov"](n,12).required?"":null,t["\u0275nov"](n,17).ngClassUntouched,t["\u0275nov"](n,17).ngClassTouched,t["\u0275nov"](n,17).ngClassPristine,t["\u0275nov"](n,17).ngClassDirty,t["\u0275nov"](n,17).ngClassValid,t["\u0275nov"](n,17).ngClassInvalid,t["\u0275nov"](n,17).ngClassPending),l(n,20,0,e.text.Comparative),l(n,22,0,t["\u0275nov"](n,24).required?"":null,t["\u0275nov"](n,29).ngClassUntouched,t["\u0275nov"](n,29).ngClassTouched,t["\u0275nov"](n,29).ngClassPristine,t["\u0275nov"](n,29).ngClassDirty,t["\u0275nov"](n,29).ngClassValid,t["\u0275nov"](n,29).ngClassInvalid,t["\u0275nov"](n,29).ngClassPending),l(n,32,0,e.text.Superlative),l(n,34,0,t["\u0275nov"](n,36).required?"":null,t["\u0275nov"](n,41).ngClassUntouched,t["\u0275nov"](n,41).ngClassTouched,t["\u0275nov"](n,41).ngClassPristine,t["\u0275nov"](n,41).ngClassDirty,t["\u0275nov"](n,41).ngClassValid,t["\u0275nov"](n,41).ngClassInvalid,t["\u0275nov"](n,41).ngClassPending),l(n,47,0,e.text["Enterword"+e.lanLocal]||"",t["\u0275nov"](n,49).required?"":null,t["\u0275nov"](n,54).ngClassUntouched,t["\u0275nov"](n,54).ngClassTouched,t["\u0275nov"](n,54).ngClassPristine,t["\u0275nov"](n,54).ngClassDirty,t["\u0275nov"](n,54).ngClassValid,t["\u0275nov"](n,54).ngClassInvalid,t["\u0275nov"](n,54).ngClassPending)})}function Au(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,Lu)),t["\u0275did"](1,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.isFormReady)},null)}var Vu=function(l){function n(n,e,t){var u=l.call(this,n,e,t)||this;return u.buildService=n,u.errorService=e,u.formBuilder=t,u}return Object(Il.__extends)(n,l),n.prototype.ngOnInit=function(){l.prototype.init.call(this)},n.prototype.buildForm=function(l){var n=l.foreign.word.split("|"),e=l.local.info||this.text.instructionConjugations.replace("%s",n[0]);this.pronouns=this.configs.foreign.subjectPronouns,this.conjugations=this.buildConjugationFormControlNames(),this.exerciseForm=this.formBuilder.group({localRegion:[this.formData.localRegions[0]||this.languagePair.from],foreignRegion:[this.formData.foreignRegions[0]||this.languagePair.to],localWord:[l.local.word,[ll.x.required]],foreignWord:[n[0],[ll.x.required]],conjugation1:[n[1],[ll.x.required]],conjugation2:[n[2],[ll.x.required]],conjugation3:[n[3],[ll.x.required]],conjugation4:[n[4],[ll.x.required]],conjugation5:[n[5],[ll.x.required]],conjugation6:[n[6],[ll.x.required]],instructions:[e]}),this.isFormReady=!0},n.prototype.buildExistingExercise=function(l){for(var n=this.currentExercise,e=l.foreignWord.replace(/\|/g,""),t=1;t<7;t++)e+="|"+l["conjugation"+t].replace(/\|/g,"");n.local.info=l.instructions,n.local.word=l.localWord,n.foreign.word=e,this.saveUpdatedExercise(n)},n.prototype.buildConjugationFormControlNames=function(){for(var l=[],n=1;n<7;n++)l.push("conjugation"+n);return l},n.prototype.ngOnDestroy=function(){this.componentActive=!1},n}(Zt),ju=t["\u0275crt"]({encapsulation:0,styles:[xe],data:{}});function Mu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function $u(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,2,null,Mu)),t["\u0275did"](2,540672,null,0,y.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](3,{pronoun:0,nr:1})],function(l,n){l(n,2,0,l(n,3,0,n.component.pronouns[n.context.index],n.context.index),t["\u0275nov"](n.parent,49))},null)}function qu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-success btn-lg"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onUpdateExercise(u.exerciseForm)&&t),t},null,null)),(l()(),t["\u0275ted"](2,null,[" "," "])),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-warning btn-lg"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelEdit()&&t),t},null,null)),(l()(),t["\u0275ted"](4,null,[" "," "]))],null,function(l,n){var e=n.component;l(n,1,0,e.isSaving||!e.exerciseForm.valid),l(n,2,0,e.text.UpdateConjugations),l(n,4,0,e.text.cancel)})}function Wu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"div",[["class","form-group"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t["\u0275nov"](l,1).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,1).onReset()&&u),u},null,null)),t["\u0275did"](1,540672,null,0,ll.j,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,ll.c,null,[ll.j]),t["\u0275did"](3,16384,null,0,ll.r,[[4,ll.c]],null,null),(l()(),t["\u0275eld"](4,0,null,null,1,"label",[["class","control-label col-xs-2 col-xs-offset-1"]],[[8,"htmlFor",0]],null,null,null,null)),(l()(),t["\u0275ted"](5,null,[" "," "])),(l()(),t["\u0275eld"](6,0,null,null,8,"div",[["class","col-xs-9"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,7,"input",[["autocomplete","off"],["class","form-control input-lg"],["required",""]],[[8,"id",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,8)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,8).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,8)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,8)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](8,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275did"](9,16384,null,0,ll.v,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,ll.n,function(l){return[l]},[ll.v]),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](12,671744,null,0,ll.i,[[3,ll.c],[6,ll.n],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](14,16384,null,0,ll.q,[[4,ll.p]],null,null)],function(l,n){var e=n.component;l(n,1,0,e.exerciseForm),l(n,9,0,""),l(n,12,0,e.conjugations[n.context.nr])},function(l,n){l(n,0,0,t["\u0275nov"](n,3).ngClassUntouched,t["\u0275nov"](n,3).ngClassTouched,t["\u0275nov"](n,3).ngClassPristine,t["\u0275nov"](n,3).ngClassDirty,t["\u0275nov"](n,3).ngClassValid,t["\u0275nov"](n,3).ngClassInvalid,t["\u0275nov"](n,3).ngClassPending),l(n,4,0,"conjugation"+n.context.nr),l(n,5,0,n.context.pronoun),l(n,7,0,"conjugation"+n.context.nr,t["\u0275nov"](n,9).required?"":null,t["\u0275nov"](n,14).ngClassUntouched,t["\u0275nov"](n,14).ngClassTouched,t["\u0275nov"](n,14).ngClassPristine,t["\u0275nov"](n,14).ngClassDirty,t["\u0275nov"](n,14).ngClassValid,t["\u0275nov"](n,14).ngClassInvalid,t["\u0275nov"](n,14).ngClassPending)})}function Bu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,49,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,47,"form",[["class","form-horizontal"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t["\u0275nov"](l,3).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,3).onReset()&&u),u},null,null)),t["\u0275did"](2,16384,null,0,ll.z,[],null,null),t["\u0275did"](3,540672,null,0,ll.j,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,ll.c,null,[ll.j]),t["\u0275did"](5,16384,null,0,ll.r,[[4,ll.c]],null,null),(l()(),t["\u0275eld"](6,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,2,"label",[["class","control-label col-xs-1"],["for","instructions"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,1,"km-region-flag-selector",[],null,null,null,sl,ul)),t["\u0275did"](9,114688,null,0,tl,[],{lan:[0,"lan"],region:[1,"region"],regions:[2,"regions"]},null),(l()(),t["\u0275eld"](10,0,null,null,6,"div",[["class","col-xs-11"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,5,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","instructions"],["id","instructions"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,12)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,12).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,12)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,12)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](12,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](14,671744,null,0,ll.i,[[3,ll.c],[8,null],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](16,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275eld"](17,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,2,"label",[["class","control-label col-xs-1"],["for","foreignWord"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,1,"km-region-flag-selector",[],null,[[null,"newRegion"]],function(l,n,e){var t=!0;return"newRegion"===n&&(t=!1!==l.component.onUpdateRegion(e,"foreign")&&t),t},sl,ul)),t["\u0275did"](20,114688,null,0,tl,[],{lan:[0,"lan"],region:[1,"region"],regions:[2,"regions"]},{newRegion:"newRegion"}),(l()(),t["\u0275eld"](21,0,null,null,8,"div",[["class","col-xs-11"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,7,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","foreignWord"],["id","foreignWord"],["required",""]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,23)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,23).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,23)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,23)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](23,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275did"](24,16384,null,0,ll.v,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,ll.n,function(l){return[l]},[ll.v]),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](27,671744,null,0,ll.i,[[3,ll.c],[6,ll.n],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](29,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,$u)),t["\u0275did"](31,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](32,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](33,0,null,null,2,"label",[["class","control-label col-xs-1"],["for","localWord"]],null,null,null,null,null)),(l()(),t["\u0275eld"](34,0,null,null,1,"km-region-flag-selector",[],null,[[null,"newRegion"]],function(l,n,e){var t=!0;return"newRegion"===n&&(t=!1!==l.component.onUpdateRegion(e,"local")&&t),t},sl,ul)),t["\u0275did"](35,114688,null,0,tl,[],{lan:[0,"lan"],region:[1,"region"],regions:[2,"regions"]},{newRegion:"newRegion"}),(l()(),t["\u0275eld"](36,0,null,null,8,"div",[["class","col-xs-11"]],null,null,null,null,null)),(l()(),t["\u0275eld"](37,0,[["local",1]],null,7,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","localWord"],["id","localWord"],["required",""]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,38)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,38).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,38)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,38)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](38,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275did"](39,16384,null,0,ll.v,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,ll.n,function(l){return[l]},[ll.v]),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](42,671744,null,0,ll.i,[[3,ll.c],[6,ll.n],[8,null],[6,ll.o],[2,ll.B]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,ll.p,null,[ll.i]),t["\u0275did"](44,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275eld"](45,0,null,null,3,"div",[["class","form-group buttons"]],null,null,null,null,null)),(l()(),t["\u0275eld"](46,0,null,null,2,"div",[["class","col-xs-12"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,qu)),t["\u0275did"](48,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,[["conjugationTemplate",2]],null,0,null,Wu))],function(l,n){var e=n.component;l(n,3,0,e.exerciseForm),l(n,9,0,e.languagePair.from,null==e.currentExercise?null:e.currentExercise.local.region,e.formData.localRegions),l(n,14,0,"instructions"),l(n,20,0,e.languagePair.to,null==e.currentExercise?null:e.currentExercise.foreign.region,e.formData.foreignRegions),l(n,24,0,""),l(n,27,0,"foreignWord"),l(n,31,0,e.pronouns),l(n,35,0,e.languagePair.from,null==e.currentExercise?null:e.currentExercise.local.region,e.formData.localRegions),l(n,39,0,""),l(n,42,0,"localWord"),l(n,48,0,e.currentExercise)},function(l,n){var e=n.component;l(n,1,0,t["\u0275nov"](n,5).ngClassUntouched,t["\u0275nov"](n,5).ngClassTouched,t["\u0275nov"](n,5).ngClassPristine,t["\u0275nov"](n,5).ngClassDirty,t["\u0275nov"](n,5).ngClassValid,t["\u0275nov"](n,5).ngClassInvalid,t["\u0275nov"](n,5).ngClassPending),l(n,11,0,e.text.EnterInstructions||"",t["\u0275nov"](n,16).ngClassUntouched,t["\u0275nov"](n,16).ngClassTouched,t["\u0275nov"](n,16).ngClassPristine,t["\u0275nov"](n,16).ngClassDirty,t["\u0275nov"](n,16).ngClassValid,t["\u0275nov"](n,16).ngClassInvalid,t["\u0275nov"](n,16).ngClassPending),l(n,22,0,e.text.EnterInfinitive||"",t["\u0275nov"](n,24).required?"":null,t["\u0275nov"](n,29).ngClassUntouched,t["\u0275nov"](n,29).ngClassTouched,t["\u0275nov"](n,29).ngClassPristine,t["\u0275nov"](n,29).ngClassDirty,t["\u0275nov"](n,29).ngClassValid,t["\u0275nov"](n,29).ngClassInvalid,t["\u0275nov"](n,29).ngClassPending),l(n,37,0,e.text["Enterword"+e.lanLocal]||"",t["\u0275nov"](n,39).required?"":null,t["\u0275nov"](n,44).ngClassUntouched,t["\u0275nov"](n,44).ngClassTouched,t["\u0275nov"](n,44).ngClassPristine,t["\u0275nov"](n,44).ngClassDirty,t["\u0275nov"](n,44).ngClassValid,t["\u0275nov"](n,44).ngClassInvalid,t["\u0275nov"](n,44).ngClassPending)})}function Uu(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,Bu)),t["\u0275did"](1,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.isFormReady)},null)}var zu=function(){function l(l,n,e){this.buildService=l,this.userService=n,this.errorService=e,this.removedExercise=new t.EventEmitter,this.componentActive=!0,this.isRemoving=!1,this.editingId=null,this.viewId=null,this.removingId=null,this.exType=Yl.c,this.showArrowDropDown=!1,this.arrowDropDownId=null}return l.prototype.clickout=function(l){this.el&&!this.el.nativeElement.contains(l.target)&&(this.showArrowDropDown=!1)},l.prototype.trackByFn=function(l,n){return n._id},l.prototype.onEditExercise=function(l){this.viewId=null,this.showArrowDropDown=!1,this.isRemoving||(this.editingId=l===this.editingId?null:l)},l.prototype.onToggleArrows=function(l){this.arrowDropDownId===l&&this.showArrowDropDown?this.showArrowDropDown=!1:(this.arrowDropDownId=l,this.showArrowDropDown=!0)},l.prototype.onCancelEdit=function(){this.editingId=null,this.showArrowDropDown=!1},l.prototype.onMoveExercise=function(l,n,e){this.exercises.splice(n,1),"down"===e?this.exercises.push(l):this.exercises.unshift(l),this.saveResortedExercises()},l.prototype.onUpdatedExercise=function(l){var n=this;this.showArrowDropDown=!1,this.exercises.forEach(function(e,t){e._id===n.editingId&&(n.exercises[t]=l)}),this.editingId=null},l.prototype.onRemoveExercise=function(l,n){this.isRemoving||(this.removingId=n,l.showModal=!0)},l.prototype.onRemoveConfirmed=function(l){l&&this.removeCurrentExercise()},l.prototype.onResorted=function(l){this.sortingId=l,this.saveResortedExercises()},l.prototype.onDraggedStart=function(l){this.showArrowDropDown=!1,this.draggingId=l},l.prototype.onDraggedEnd=function(l){this.sortingId!==this.draggingId&&this.saveResortedExercises(),this.sortingId=null,this.draggingId=null},l.prototype.onViewExercise=function(l){this.showArrowDropDown=!1,this.editingId=null,this.viewId=this.viewId===l?null:l},l.prototype.getInfinitive=function(l){return l.split("|")[0]},l.prototype.getRemoveMessage=function(){var l=this,n="",e=this.exercises.find(function(n){return n._id===l.removingId});if(e){n=e.tpe===this.exType.Word?this.text.RemoveWord:this.text.RemoveExercise;var t=e.foreign.word.replace(";","|").split("|");n=n.replace("%s",t[0])}return n},l.prototype.getWordInfo=function(l){var n=[],e=this.getInfoAnnotations(l,"local"),t=this.getInfoGenus(l),u=this.getInfoHint(l,"local");return n.push(e),n.push(t),n.push(u),n.filter(function(l){return!!l}).join("<br>")},l.prototype.getInfoAnnotations=function(l,n){var e=[];return l[n]&&(e=l[n].annotations?l[n].annotations.split("|"):[]),e.join("<br>")},l.prototype.getInfoGenus=function(l){var n="";return n=(n=l.genus?l.genus:l.followingCase?"+"+l.followingCase:l.genus)?n.toLowerCase():"",this.text[n]},l.prototype.getInfoHint=function(l,n){var e="";return l[n]&&l[n].hint&&(e="("+l[n].hint+")"),e},l.prototype.getInfoAlt=function(l){var n="";return l.foreign&&(l.foreign.alt?l.foreign.alt.split("|"):[]).forEach(function(l,e){e>0&&(n+="<br>"),n+=l}),n},l.prototype.getSelectOptions=function(l){var n="";return l.options&&l.options.split("|").forEach(function(l,e){e>0&&(n+="<br>"),n+=l}),n},l.prototype.getGenus=function(l){if(l.genus)return this.text[l.genus.toLowerCase()]},l.prototype.getComparisons=function(l){if(l.foreign){var n=l.foreign.word.split("|");if(3===n.length)return n.map(function(l){return l.split(";")[0]}).join(", ")}},l.prototype.isEditor=function(){return this.userService.hasAccessLevel(this.access,T.a.Editor)},l.prototype.removeCurrentExercise=function(){var l=this;this.isRemoving=!0,this.buildService.removeExercise(this.removingId,this.lessonId).pipe(Object(_.a)(function(){return l.componentActive})).subscribe(function(){var n=null;l.exercises.forEach(function(e,t){e._id===l.removingId&&(n=t)}),null!==n&&l.removedExercise.emit(n),l.removingId=null,l.isRemoving=!1},function(n){return l.errorService.handleError(n)})},l.prototype.saveResortedExercises=function(){var l=this;0===this.exercises.filter(function(l){return null===l}).length&&this.buildService.updateExercises(this.exercises,this.lessonId).pipe(Object(_.a)(function(){return l.componentActive})).subscribe(function(){l.showArrowDropDown=!1,l.arrowDropDownId=null},function(n){return l.errorService.handleError(n)})},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),Hu=t["\u0275crt"]({encapsulation:0,styles:[['.move[_ngcontent-%COMP%]{margin-left:10px}.items[_ngcontent-%COMP%]{float:left}.item[_ngcontent-%COMP%]{color:#dcdcdc;font-size:20px;max-width:21px;text-align:center;display:inline-block}.item.active[_ngcontent-%COMP%]{color:#000}.words[_ngcontent-%COMP%]{display:inline-block;margin-left:8px;font-size:16px;cursor:default}.words[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:text}.editing[_ngcontent-%COMP%]{background-color:#428bca;border-color:#286090;margin-top:6px}.viewing[_ngcontent-%COMP%]{background-color:#5bc0de;border-color:#428bca;margin-top:6px}li[_ngcontent-%COMP%]:first-child   .row[_ngcontent-%COMP%]{margin-top:0}li[_ngcontent-%COMP%]:last-child{margin-bottom:6px}.sublines[_ngcontent-%COMP%]{font-size:13px;line-height:15px;color:#333;font-style:italic}.list[_ngcontent-%COMP%]{margin-bottom:0}.annotations[_ngcontent-%COMP%]{font-style:italic}.panel[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.separator[_ngcontent-%COMP%]{margin:0 4px}.media-icons[_ngcontent-%COMP%]{width:48px;display:inline-block}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#e8fcfa}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:16px}']],data:{}});function Gu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","panel panel-default"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","panel-body msg-info"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"span",[["class","fa fa-info-circle"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[""," "]))],null,function(l,n){l(n,3,0,n.component.text.NoWordsInLesson)})}function Ku(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"span",[["class","btn btn-danger fa fa-trash-o"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onRemoveExercise(t["\u0275nov"](l.parent.parent.parent,6),l.parent.context.$implicit._id)&&u),u},null,null))],null,null)}function Ju(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[["class","item"]],[[2,"active",null]],null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"span",[["class","fa fa-volume-up fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"span",[["class","item"]],[[2,"active",null]],null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"span",[["class","fa fa-camera"]],null,null,null,null,null))],null,function(l,n){l(n,1,0,!!n.parent.context.$implicit.audio),l(n,3,0,!!n.parent.context.$implicit.image)})}function Zu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,17,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,14,"div",[["class","col-xs-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,13,"div",[["class","words"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"km-region-flag",[],null,null,null,B.b,B.a)),t["\u0275did"](4,49152,null,0,U.a,[],{lan:[0,"lan"],word:[1,"word"],thumb:[2,"thumb"]},null),(l()(),t["\u0275eld"](5,0,null,null,2,"span",[],null,[[null,"dblclick"]],function(l,n,e){var t=!0;return"dblclick"===n&&(t=!1!==l.component.onEditExercise(l.parent.context.$implicit._id)&&t),t},null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""])),(l()(),t["\u0275eld"](8,0,null,null,1,"span",[["class","separator"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["/"])),(l()(),t["\u0275eld"](10,0,null,null,1,"km-region-flag",[],null,null,null,B.b,B.a)),t["\u0275did"](11,49152,null,0,U.a,[],{lan:[0,"lan"],word:[1,"word"],thumb:[2,"thumb"]},null),(l()(),t["\u0275eld"](12,0,null,null,2,"span",[],null,[[null,"dblclick"]],function(l,n,e){var t=!0;return"dblclick"===n&&(t=!1!==l.component.onEditExercise(l.parent.context.$implicit._id)&&t),t},null,null)),(l()(),t["\u0275eld"](13,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](14,null,["",""])),(l()(),t["\u0275eld"](15,0,null,null,0,"div",[["class","sublines"]],[[8,"innerHTML",1]],null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,1,"div",[["class","col-xs-3 annotations"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],function(l,n){var e=n.component;l(n,4,0,e.languagePair.to,n.parent.context.$implicit.foreign,!0),l(n,11,0,e.languagePair.from,n.parent.context.$implicit.local,!0)},function(l,n){var e=n.component;l(n,7,0,null==n.parent.context.$implicit.foreign?null:n.parent.context.$implicit.foreign.word),l(n,14,0,null==n.parent.context.$implicit.local?null:n.parent.context.$implicit.local.word),l(n,15,0,e.getInfoAlt(n.parent.context.$implicit)),l(n,17,0,e.getWordInfo(n.parent.context.$implicit))})}function Qu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,11,"div",[["class","col-xs-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,10,"div",[["class","words"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"km-region-flag",[],null,null,null,B.b,B.a)),t["\u0275did"](4,49152,null,0,U.a,[],{lan:[0,"lan"],word:[1,"word"],thumb:[2,"thumb"]},null),(l()(),t["\u0275eld"](5,0,null,null,2,"span",[],null,[[null,"dblclick"]],function(l,n,e){var t=!0;return"dblclick"===n&&(t=!1!==l.component.onEditExercise(l.parent.context.$implicit._id)&&t),t},null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""])),(l()(),t["\u0275ted"](-1,null,[" / "])),(l()(),t["\u0275eld"](9,0,null,null,1,"km-region-flag",[],null,null,null,B.b,B.a)),t["\u0275did"](10,49152,null,0,U.a,[],{lan:[0,"lan"],word:[1,"word"],thumb:[2,"thumb"]},null),(l()(),t["\u0275eld"](11,0,null,null,1,"span",[],null,[[null,"dblclick"]],function(l,n,e){var t=!0;return"dblclick"===n&&(t=!1!==l.component.onEditExercise(l.parent.context.$implicit._id)&&t),t},null,null)),(l()(),t["\u0275ted"](12,null,[" "," "])),(l()(),t["\u0275eld"](13,0,null,null,1,"div",[["class","col-xs-2 annotations"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],function(l,n){var e=n.component;l(n,4,0,e.languagePair.to,n.parent.context.$implicit.foreign,!0),l(n,10,0,e.languagePair.from,n.parent.context.$implicit.local,!0)},function(l,n){var e=n.component;l(n,7,0,null==n.parent.context.$implicit.foreign?null:n.parent.context.$implicit.foreign.word),l(n,12,0,null==n.parent.context.$implicit.local?null:n.parent.context.$implicit.local.word),l(n,14,0,e.getSelectOptions(n.parent.context.$implicit))})}function Xu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["/"]))],null,null)}function Yu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-region-flag",[],null,null,null,B.b,B.a)),t["\u0275did"](1,49152,null,0,U.a,[],{lan:[0,"lan"],word:[1,"word"],thumb:[2,"thumb"]},null)],function(l,n){l(n,1,0,n.parent.parent.context.$implicit.local.region,n.parent.parent.context.$implicit.local,!0)},null)}function lo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,12,"div",[["class","col-xs-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,11,"div",[["class","words"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,4,"span",[],null,[[null,"dblclick"]],function(l,n,e){var t=!0;return"dblclick"===n&&(t=!1!==l.component.onEditExercise(l.parent.context.$implicit._id)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"km-region-flag",[],null,null,null,B.b,B.a)),t["\u0275did"](5,49152,null,0,U.a,[],{lan:[0,"lan"],word:[1,"word"],thumb:[2,"thumb"]},null),(l()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""])),(l()(),t["\u0275and"](16777216,null,null,1,null,Xu)),t["\u0275did"](9,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](10,0,null,null,3,"span",[],null,[[null,"dblclick"]],function(l,n,e){var t=!0;return"dblclick"===n&&(t=!1!==l.component.onEditExercise(l.parent.context.$implicit._id)&&t),t},null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Yu)),t["\u0275did"](12,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](13,null,[" "," "]))],function(l,n){l(n,5,0,n.component.languagePair.to,n.parent.context.$implicit.foreign,!0),l(n,9,0,null==n.parent.context.$implicit.foreign?null:n.parent.context.$implicit.foreign.word),l(n,12,0,null==n.parent.context.$implicit.local?null:n.parent.context.$implicit.local.word)},function(l,n){l(n,7,0,null==n.parent.context.$implicit.foreign?null:n.parent.context.$implicit.foreign.word),l(n,13,0,null==n.parent.context.$implicit.local?null:n.parent.context.$implicit.local.word)})}function no(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,11,"div",[["class","col-xs-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,10,"div",[["class","words"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,4,"span",[],null,[[null,"dblclick"]],function(l,n,e){var t=!0;return"dblclick"===n&&(t=!1!==l.component.onEditExercise(l.parent.context.$implicit._id)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"km-region-flag",[],null,null,null,B.b,B.a)),t["\u0275did"](5,49152,null,0,U.a,[],{lan:[0,"lan"],word:[1,"word"],thumb:[2,"thumb"]},null),(l()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""])),(l()(),t["\u0275ted"](-1,null,[" / "])),(l()(),t["\u0275eld"](9,0,null,null,1,"km-region-flag",[],null,null,null,B.b,B.a)),t["\u0275did"](10,49152,null,0,U.a,[],{lan:[0,"lan"],word:[1,"word"],thumb:[2,"thumb"]},null),(l()(),t["\u0275eld"](11,0,null,null,1,"span",[],null,[[null,"dblclick"]],function(l,n,e){var t=!0;return"dblclick"===n&&(t=!1!==l.component.onEditExercise(l.parent.context.$implicit._id)&&t),t},null,null)),(l()(),t["\u0275ted"](12,null,[" "," "])),(l()(),t["\u0275eld"](13,0,null,null,1,"div",[["class","col-xs-4 annotations"]],null,null,null,null,null)),(l()(),t["\u0275ted"](14,null,[" "," "]))],function(l,n){var e=n.component;l(n,5,0,e.languagePair.to,n.parent.context.$implicit.foreign,!0),l(n,10,0,e.languagePair.from,n.parent.context.$implicit.local,!0)},function(l,n){var e=n.component;l(n,7,0,null==n.parent.context.$implicit.foreign?null:n.parent.context.$implicit.foreign.word),l(n,12,0,null==n.parent.context.$implicit.local?null:n.parent.context.$implicit.local.word),l(n,14,0,e.getGenus(n.parent.context.$implicit))})}function eo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,11,"div",[["class","col-xs-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,10,"div",[["class","words"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,4,"span",[],null,[[null,"dblclick"]],function(l,n,e){var t=!0;return"dblclick"===n&&(t=!1!==l.component.onEditExercise(l.parent.context.$implicit._id)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"km-region-flag",[],null,null,null,B.b,B.a)),t["\u0275did"](5,49152,null,0,U.a,[],{lan:[0,"lan"],word:[1,"word"],thumb:[2,"thumb"]},null),(l()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,[""," ",""])),(l()(),t["\u0275ted"](-1,null,[" / "])),(l()(),t["\u0275eld"](9,0,null,null,1,"km-region-flag",[],null,null,null,B.b,B.a)),t["\u0275did"](10,49152,null,0,U.a,[],{lan:[0,"lan"],word:[1,"word"],thumb:[2,"thumb"]},null),(l()(),t["\u0275eld"](11,0,null,null,1,"span",[],null,[[null,"dblclick"]],function(l,n,e){var t=!0;return"dblclick"===n&&(t=!1!==l.component.onEditExercise(l.parent.context.$implicit._id)&&t),t},null,null)),(l()(),t["\u0275ted"](12,null,[" "," "])),(l()(),t["\u0275eld"](13,0,null,null,1,"div",[["class","col-xs-4 annotations"]],null,null,null,null,null)),(l()(),t["\u0275ted"](14,null,[" "," "]))],function(l,n){var e=n.component;l(n,5,0,e.languagePair.to,n.parent.context.$implicit.foreign,!0),l(n,10,0,e.languagePair.from,n.parent.context.$implicit.local,!0)},function(l,n){l(n,7,0,n.parent.context.$implicit.article,null==n.parent.context.$implicit.foreign?null:n.parent.context.$implicit.foreign.word),l(n,12,0,null==n.parent.context.$implicit.local?null:n.parent.context.$implicit.local.word),l(n,14,0,n.parent.context.$implicit.article)})}function to(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,11,"div",[["class","col-xs-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,10,"div",[["class","words"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,4,"span",[],null,[[null,"dblclick"]],function(l,n,e){var t=!0;return"dblclick"===n&&(t=!1!==l.component.onEditExercise(l.parent.context.$implicit._id)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"km-region-flag",[],null,null,null,B.b,B.a)),t["\u0275did"](5,49152,null,0,U.a,[],{lan:[0,"lan"],word:[1,"word"],thumb:[2,"thumb"]},null),(l()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""])),(l()(),t["\u0275ted"](-1,null,[" / "])),(l()(),t["\u0275eld"](9,0,null,null,1,"km-region-flag",[],null,null,null,B.b,B.a)),t["\u0275did"](10,49152,null,0,U.a,[],{lan:[0,"lan"],word:[1,"word"],thumb:[2,"thumb"]},null),(l()(),t["\u0275eld"](11,0,null,null,1,"span",[],null,[[null,"dblclick"]],function(l,n,e){var t=!0;return"dblclick"===n&&(t=!1!==l.component.onEditExercise(l.parent.context.$implicit._id)&&t),t},null,null)),(l()(),t["\u0275ted"](12,null,[" "," "]))],function(l,n){var e=n.component;l(n,5,0,e.languagePair.to,n.parent.context.$implicit.foreign,!0),l(n,10,0,e.languagePair.from,n.parent.context.$implicit.local,!0)},function(l,n){l(n,7,0,n.component.getComparisons(n.parent.context.$implicit)),l(n,12,0,null==n.parent.context.$implicit.local?null:n.parent.context.$implicit.local.word)})}function uo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,11,"div",[["class","col-xs-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,10,"div",[["class","words"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,4,"span",[],null,[[null,"dblclick"]],function(l,n,e){var t=!0;return"dblclick"===n&&(t=!1!==l.component.onEditExercise(l.parent.context.$implicit._id)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"km-region-flag",[],null,null,null,B.b,B.a)),t["\u0275did"](5,49152,null,0,U.a,[],{lan:[0,"lan"],word:[1,"word"],thumb:[2,"thumb"]},null),(l()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""])),(l()(),t["\u0275ted"](-1,null,[" / "])),(l()(),t["\u0275eld"](9,0,null,null,1,"km-region-flag",[],null,null,null,B.b,B.a)),t["\u0275did"](10,49152,null,0,U.a,[],{lan:[0,"lan"],word:[1,"word"],thumb:[2,"thumb"]},null),(l()(),t["\u0275eld"](11,0,null,null,1,"span",[],null,[[null,"dblclick"]],function(l,n,e){var t=!0;return"dblclick"===n&&(t=!1!==l.component.onEditExercise(l.parent.context.$implicit._id)&&t),t},null,null)),(l()(),t["\u0275ted"](12,null,[" "," "]))],function(l,n){var e=n.component;l(n,5,0,e.languagePair.to,n.parent.context.$implicit.foreign,!0),l(n,10,0,e.languagePair.from,n.parent.context.$implicit.local,!0)},function(l,n){l(n,7,0,n.component.getInfinitive(null==n.parent.context.$implicit.foreign?null:n.parent.context.$implicit.foreign.word)),l(n,12,0,null==n.parent.context.$implicit.local?null:n.parent.context.$implicit.local.word)})}function oo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"km-preview-question",[["class","view"]],null,null,null,be,se)),t["\u0275did"](2,114688,null,0,re,[ee.a],{exercise:[0,"exercise"],lessonOptions:[1,"lessonOptions"],text:[2,"text"],lanPair:[3,"lanPair"]},null)],function(l,n){var e=n.component;l(n,2,0,n.parent.context.$implicit,e.lessonOptions,e.text,e.languagePair)},null)}function io(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-build-exercise",[],null,[[null,"updatedExercise"],[null,"cancelEdit"],["document","click"]],function(l,n,e){var u=!0,o=l.component;return"document:click"===n&&(u=!1!==t["\u0275nov"](l,1).clickout(e)&&u),"updatedExercise"===n&&(u=!1!==o.onUpdatedExercise(e)&&u),"cancelEdit"===n&&(u=!1!==o.onCancelEdit()&&u),u},Jt,Ke)),t["\u0275did"](1,245760,null,0,Ge,[b.a,ll.f,k,ee.a,w.a,t.ElementRef,t.ChangeDetectorRef],{languagePair:[0,"languagePair"],configs:[1,"configs"],lessonId:[2,"lessonId"],courseId:[3,"courseId"],exercise:[4,"exercise"],text:[5,"text"],isBidirectional:[6,"isBidirectional"]},{updatedExercise:"updatedExercise",cancelEdit:"cancelEdit"})],function(l,n){var e=n.component;l(n,1,0,e.languagePair,e.configs,e.lessonId,e.courseId,n.parent.parent.context.$implicit,e.text,e.isBidirectional)},null)}function ro(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-build-select",[],null,[[null,"updatedExercise"],[null,"cancelEdit"]],function(l,n,e){var t=!0,u=l.component;return"updatedExercise"===n&&(t=!1!==u.onUpdatedExercise(e)&&t),"cancelEdit"===n&&(t=!1!==u.onCancelEdit()&&t),t},su,Yt)),t["\u0275did"](1,245760,null,0,Xt,[k,w.a,ll.f],{languagePair:[0,"languagePair"],configs:[1,"configs"],exercise:[2,"exercise"],text:[3,"text"],lessonId:[4,"lessonId"]},{updatedExercise:"updatedExercise",cancelEdit:"cancelEdit"})],function(l,n){var e=n.component;l(n,1,0,e.languagePair,e.configs,n.parent.parent.context.$implicit,e.text,e.lessonId)},null)}function so(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-build-qa",[],null,[[null,"updatedExercise"],[null,"cancelEdit"]],function(l,n,e){var t=!0,u=l.component;return"updatedExercise"===n&&(t=!1!==u.onUpdatedExercise(e)&&t),"cancelEdit"===n&&(t=!1!==u.onCancelEdit()&&t),t},mu,cu)),t["\u0275did"](1,245760,null,0,au,[k,w.a,ll.f],{languagePair:[0,"languagePair"],configs:[1,"configs"],exercise:[2,"exercise"],text:[3,"text"],lessonId:[4,"lessonId"]},{updatedExercise:"updatedExercise",cancelEdit:"cancelEdit"})],function(l,n){var e=n.component;l(n,1,0,e.languagePair,e.configs,n.parent.parent.context.$implicit,e.text,e.lessonId)},null)}function ao(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-build-fillin",[],null,[[null,"updatedExercise"],[null,"cancelEdit"]],function(l,n,e){var t=!0,u=l.component;return"updatedExercise"===n&&(t=!1!==u.onUpdatedExercise(e)&&t),"cancelEdit"===n&&(t=!1!==u.onCancelEdit()&&t),t},yu,vu)),t["\u0275did"](1,245760,null,0,hu,[k,w.a,ll.f],{languagePair:[0,"languagePair"],configs:[1,"configs"],exercise:[2,"exercise"],text:[3,"text"],lessonId:[4,"lessonId"]},{updatedExercise:"updatedExercise",cancelEdit:"cancelEdit"})],function(l,n){var e=n.component;l(n,1,0,e.languagePair,e.configs,n.parent.parent.context.$implicit,e.text,e.lessonId)},null)}function co(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-build-genus",[],null,[[null,"updatedExercise"],[null,"cancelEdit"]],function(l,n,e){var t=!0,u=l.component;return"updatedExercise"===n&&(t=!1!==u.onUpdatedExercise(e)&&t),"cancelEdit"===n&&(t=!1!==u.onCancelEdit()&&t),t},Ou,Ru)),t["\u0275did"](1,245760,null,0,Iu,[k,w.a,ll.f],{languagePair:[0,"languagePair"],configs:[1,"configs"],exercise:[2,"exercise"],text:[3,"text"],lessonId:[4,"lessonId"]},{updatedExercise:"updatedExercise",cancelEdit:"cancelEdit"})],function(l,n){var e=n.component;l(n,1,0,e.languagePair,e.configs,n.parent.parent.context.$implicit,e.text,e.lessonId)},null)}function po(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-build-genus",[],null,[[null,"updatedExercise"],[null,"cancelEdit"]],function(l,n,e){var t=!0,u=l.component;return"updatedExercise"===n&&(t=!1!==u.onUpdatedExercise(e)&&t),"cancelEdit"===n&&(t=!1!==u.onCancelEdit()&&t),t},Ou,Ru)),t["\u0275did"](1,245760,null,0,Iu,[k,w.a,ll.f],{languagePair:[0,"languagePair"],configs:[1,"configs"],exercise:[2,"exercise"],text:[3,"text"],lessonId:[4,"lessonId"]},{updatedExercise:"updatedExercise",cancelEdit:"cancelEdit"})],function(l,n){var e=n.component;l(n,1,0,e.languagePair,e.configs,n.parent.parent.context.$implicit,e.text,e.lessonId)},null)}function go(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-build-comparison",[],null,[[null,"updatedExercise"],[null,"cancelEdit"]],function(l,n,e){var t=!0,u=l.component;return"updatedExercise"===n&&(t=!1!==u.onUpdatedExercise(e)&&t),"cancelEdit"===n&&(t=!1!==u.onCancelEdit()&&t),t},Au,Nu)),t["\u0275did"](1,245760,null,0,Pu,[k,w.a,ll.f],{languagePair:[0,"languagePair"],configs:[1,"configs"],exercise:[2,"exercise"],text:[3,"text"],lessonId:[4,"lessonId"]},{updatedExercise:"updatedExercise",cancelEdit:"cancelEdit"})],function(l,n){var e=n.component;l(n,1,0,e.languagePair,e.configs,n.parent.parent.context.$implicit,e.text,e.lessonId)},null)}function fo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-build-conjugations",[],null,[[null,"updatedExercise"],[null,"cancelEdit"]],function(l,n,e){var t=!0,u=l.component;return"updatedExercise"===n&&(t=!1!==u.onUpdatedExercise(e)&&t),"cancelEdit"===n&&(t=!1!==u.onCancelEdit()&&t),t},Uu,ju)),t["\u0275did"](1,245760,null,0,Vu,[k,w.a,ll.f],{languagePair:[0,"languagePair"],configs:[1,"configs"],exercise:[2,"exercise"],text:[3,"text"],lessonId:[4,"lessonId"]},{updatedExercise:"updatedExercise",cancelEdit:"cancelEdit"})],function(l,n){var e=n.component;l(n,1,0,e.languagePair,e.configs,n.parent.parent.context.$implicit,e.text,e.lessonId)},null)}function mo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,18,"div",[["class","edit"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,17,"div",[],null,null,null,null,null)),t["\u0275did"](2,16384,null,0,y.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,io)),t["\u0275did"](4,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ro)),t["\u0275did"](6,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,so)),t["\u0275did"](8,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ao)),t["\u0275did"](10,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,co)),t["\u0275did"](12,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,po)),t["\u0275did"](14,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,go)),t["\u0275did"](16,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,fo)),t["\u0275did"](18,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(l,n){var e=n.component;l(n,2,0,n.parent.context.$implicit.tpe),l(n,4,0,e.exType.Word),l(n,6,0,e.exType.Select),l(n,8,0,e.exType.QA),l(n,10,0,e.exType.FillIn),l(n,12,0,e.exType.Genus),l(n,14,0,e.exType.Article),l(n,16,0,e.exType.Comparison),l(n,18,0,e.exType.Conjugations)},null)}function ho(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,45,"li",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,40,"div",[["class","list-group-item row"],["dnd-sortable",""]],[[2,"editing",null],[2,"viewing",null]],[[null,"onDragStart"],[null,"onDragEnd"],[null,"onDropSuccess"]],function(l,n,e){var t=!0,u=l.component;return"onDragStart"===n&&(t=!1!==u.onDraggedStart(l.context.$implicit._id)&&t),"onDragEnd"===n&&(t=!1!==u.onDraggedEnd(l.context.$implicit._id)&&t),"onDropSuccess"===n&&(t=!1!==u.onResorted(l.context.$implicit._id)&&t),t},null,null)),t["\u0275did"](2,16384,null,0,Hl,[t.ElementRef,Tl,Sl,Bl,Ol,t.ChangeDetectorRef],{index:[0,"index"]},{onDragStartCallback:"onDragStart",onDragEndCallback:"onDragEnd",onDropSuccessCallback:"onDropSuccess"}),(l()(),t["\u0275eld"](3,0,null,null,14,"div",[["class","pull-right"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ku)),t["\u0275did"](5,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](6,0,null,null,0,"span",[["class","btn btn-primary fa fa-pencil"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditExercise(l.context.$implicit._id)&&t),t},null,null)),(l()(),t["\u0275eld"](7,0,null,null,0,"span",[["class","btn btn-info fa fa-eye"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onViewExercise(l.context.$implicit._id)&&t),t},null,null)),(l()(),t["\u0275eld"](8,0,null,null,9,"span",[["class","btn btn-default fa fa-arrows-v"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onToggleArrows(l.context.$implicit._id)&&t),t},null,null)),(l()(),t["\u0275eld"](9,0,null,null,8,"ul",[["class","dropdown-menu pull-right"]],[[4,"display",null]],null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,3,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onMoveExercise(l.context.$implicit,l.context.index,"up")&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,2,"a",[],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,0,"span",[["class","btn btn-success fa fa-arrow-up"]],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,[" "," "])),(l()(),t["\u0275eld"](14,0,null,null,3,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onMoveExercise(l.context.$implicit,l.context.index,"down")&&t),t},null,null)),(l()(),t["\u0275eld"](15,0,null,null,2,"a",[],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,0,"span",[["class","btn btn-success fa fa-arrow-down"]],null,null,null,null,null)),(l()(),t["\u0275ted"](17,null,[" "," "])),(l()(),t["\u0275eld"](18,0,null,null,7,"div",[["class","items"]],null,null,null,null,null)),(l()(),t["\u0275ted"](19,null,[" ",". "])),(l()(),t["\u0275eld"](20,0,null,null,2,"span",[["class","item active"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,1,"km-type-icons",[],null,null,null,Me.b,Me.a)),t["\u0275did"](22,49152,null,0,$e.a,[],{tpe:[0,"tpe"],text:[1,"text"]},null),(l()(),t["\u0275eld"](23,0,null,null,2,"span",[["class","media-icons"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ju)),t["\u0275did"](25,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](26,0,null,null,15,"div",[],null,null,null,null,null)),t["\u0275did"](27,16384,null,0,y.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Zu)),t["\u0275did"](29,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Qu)),t["\u0275did"](31,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,lo)),t["\u0275did"](33,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,no)),t["\u0275did"](35,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,eo)),t["\u0275did"](37,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,to)),t["\u0275did"](39,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,uo)),t["\u0275did"](41,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,oo)),t["\u0275did"](43,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,mo)),t["\u0275did"](45,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,n.context.index),l(n,5,0,e.isEditor()),l(n,22,0,n.context.$implicit.tpe,e.text),l(n,25,0,n.context.$implicit.tpe===e.exType.Word),l(n,27,0,n.context.$implicit.tpe),l(n,29,0,e.exType.Word),l(n,31,0,e.exType.Select),l(n,33,0,e.exType.FillIn),l(n,35,0,e.exType.Genus),l(n,37,0,e.exType.Article),l(n,39,0,e.exType.Comparison),l(n,41,0,e.exType.Conjugations),l(n,43,0,n.context.$implicit._id===e.viewId),l(n,45,0,n.context.$implicit._id===e.editingId)},function(l,n){var e=n.component;l(n,1,0,e.editingId===n.context.$implicit._id,e.viewId===n.context.$implicit._id),l(n,9,0,e.arrowDropDownId===n.context.$implicit._id&&e.showArrowDropDown?"block":"none"),l(n,13,0,e.text.ToTop),l(n,17,0,e.text.ToBottom),l(n,19,0,n.context.index+1)})}function vo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,[[1,0],["dropdown",1]],null,4,"div",[["class","exercises"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"ul",[["class","list-unstyled list list-group"],["dnd-sortable-container",""]],null,null,null,null,null)),t["\u0275did"](2,16384,null,0,Bl,[t.ElementRef,Tl,Sl,t.ChangeDetectorRef,Ol],{sortableData:[0,"sortableData"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ho)),t["\u0275did"](4,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(l,n){var e=n.component;l(n,2,0,e.exercises),l(n,4,0,e.exercises,e.trackByFn)},null)}function bo(l){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{el:0}),(l()(),t["\u0275and"](16777216,null,null,1,null,Gu)),t["\u0275did"](2,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,vo)),t["\u0275did"](4,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](5,0,null,null,5,"km-modal-confirm",[],null,[[null,"confirmed"]],function(l,n,e){var t=!0;return"confirmed"===n&&(t=!1!==l.component.onRemoveConfirmed(e)&&t),t},Ql.b,Ql.a)),t["\u0275did"](6,49152,[["confirm",4]],0,Xl.a,[],{level:[0,"level"],text:[1,"text"]},{confirmed:"confirmed"}),(l()(),t["\u0275eld"](7,0,null,0,1,"div",[["title",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""])),(l()(),t["\u0275eld"](9,0,null,1,1,"div",[["message",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,["",""]))],function(l,n){var e=n.component;l(n,2,0,(null==e.exercises?null:e.exercises.length)<1),l(n,4,0,(null==e.exercises?null:e.exercises.length)>0),l(n,6,0,"warning",e.text)},function(l,n){var e=n.component;l(n,8,0,e.text.Warning),l(n,10,0,e.getRemoveMessage())})}var xo=e("wS7l"),Co=e("Pc2u"),wo=function(l){return l[l.Left=0]="Left",l[l.Center=1]="Center",l[l.Right=2]="Right",l}({}),yo=function(){function l(){}return l.prototype.parseFontStyles=function(l,n){var e,t,u=this,o=l;return this.getTags({text:l,tag:n,hasBracket:!0}).forEach(function(l){e=l.trim()||"",t=u.getHtmlSnippet(n,{content:e}),o=u.replaceText({tag:n,html:o,oldText:l,newText:t,hasBracket:!0})}),o},l.prototype.parseSize=function(l,n){var e,t,u,o=this,i=l;return this.getTags({text:l,tag:n,hasBracket:!0}).forEach(function(l){l&&l.length>2&&":"===l[1]&&(u=(u=parseInt(l[0],10))>0&&u<4?u:1,e=l.substr(2,l.length-2).trim()||"",t=o.getHtmlSnippet(n,{content:e,value:u}),i=o.replaceText({tag:n,html:i,oldText:l,newText:t,hasBracket:!0}))}),i},l.prototype.parseColor=function(l,n){var e,t,u,o,i=this,r=l;return this.getTags({text:l,tag:n,hasBracket:!0}).forEach(function(l){l&&l.length>2&&(o=l.split(/\:(.+)/)).length>1&&(u=o[0].trim().toLowerCase(),e=o[1].trim()||"",t=i.getHtmlSnippet(n,{content:e,format:u}),r=i.replaceText({tag:n,html:r,oldText:l,newText:t,hasBracket:!0}))}),r},l.prototype.parseTranslation=function(l,n){var e,t,u=this,o=l;return this.getTags({text:l,tag:n,hasBracket:!0}).forEach(function(l){e=l.trim()||"",t=u.getHtmlSnippet(n,{content:e}),o=u.replaceText({tag:n,html:o,oldText:l,newText:t,hasBracket:!0})}),o},l.prototype.parseHeaders=function(l,n){var e,t,u=this,o=l;return this.getTags({text:l,tag:n,hasBracket:!0}).forEach(function(l){e=l.trim()||"",t=u.getHtmlSnippet(n,{title:e}),o=u.replaceText({tag:n,html:o,oldText:l,newText:t,hasBracket:!0})}),o},l.prototype.parseBorders=function(l,n){var e,t,u=this,o=l;return this.getTags({text:l,tag:n,hasBracket:!0}).forEach(function(l){e=l.trim()||"",t=u.getHtmlSnippet(n,{title:e}),o=u.replaceText({tag:n,html:o,oldText:l,newText:t,hasBracket:!0})}),o},l.prototype.parseTab=function(l,n){var e,t,u,o=this,i=l;return this.getTags({text:l,tag:n,hasBracket:!0}).forEach(function(l){l&&(u=(u=parseInt(l[0],10))>0&&u<4?u:1,e=l.substr(2,l.length-2).trim()||"",t=o.getHtmlSnippet(n,{content:e,value:u}),i=o.replaceText({tag:n,html:i,oldText:l,newText:t,hasBracket:!0}))}),i},l.prototype.parseAudio=function(l){var n,e,t,u,o=this,i=["ogg","mp3","mp4"],r=l;return this.getTags({text:l,tag:"audio",hasBracket:!0}).forEach(function(l,s){n=(n=l.split(",")).map(function(l){return l.trim()}),t="http"===(t="/"===(t=n[0]).substr(0,1)?t.substr(1):t).substr(0,4)?t:"https://"+C.c+"audio/"+t,e=n[1]&&i.find(function(l){return l===n[1]})?n[1]:"ogg",u=o.getHtmlSnippet("audio",{url:t,format:e,audioNr:s}),r=o.replaceText({tag:"audio",html:r,oldText:l,newText:u,hasBracket:!0})}),r},l.prototype.parseLists=function(l){var n=this,e="",t=l;return this.getTags({text:l,tag:"list",hasClosingTag:!0,hasBracket:!0}).forEach(function(l){e="",l.split("<br>").map(function(l){return l.trim()}).forEach(function(l){e+=n.getHtmlSnippet("list",{content:l})}),e=n.getHtmlSnippet("ul",{content:e}),t=n.replaceText({tag:"list",html:t,oldText:l,newText:e,hasClosingTag:!0,hasBracket:!0})}),t},l.prototype.parseTables=function(l){var n,e,t,u,o,i=this,r=l,s=!1;return this.getTags({text:l,tag:"table",hasClosingTag:!0,hasBracket:!0}).forEach(function(l){var a;u="",o=[],(n=l.split("<br>")).length&&""===n[0].trim()&&n.shift(),n.length&&(a=!0,n[0].split("|").forEach(function(l){""!==l.trim()&&(a=!1)}),a)&&(s=!0),n.forEach(function(l,r){l=l.trim(),(e=l.split("|")).length>2&&(e.pop(),e.shift()),0===r?t=e:1===r?e.forEach(function(l,n){o[n]={align:l.indexOf("<")>-1?wo.Left:l.indexOf(">")>-1?wo.Right:wo.Center,inverse:l.indexOf("i")>-1}}):(t&&(u=i.getHtmlSnippet("t-header",{table:{cells:t,columns:o,hasHeader:!s}}),t=null),u+=i.getHtmlSnippet("t-row",{table:{cells:e,first:1===r,last:r===n.length-1,columns:o}}))}),u=i.getHtmlSnippet("table",{content:u}),r=i.replaceText({tag:"table",html:r,oldText:l,newText:u,hasClosingTag:!0,hasBracket:!0})}),r},l.prototype.getTemplates=function(){return{table:"\n      [table:\n      | Col1     |      Col2     |  Col3 |\n      |<i        |               |      >|\n      | col 1 is |  left-aligned | \u20ac1000 |\n      | col 2 is |    centered   |   \u20ac90 |\n      | col 3 is | right-aligned |    \u20ac5 |table]",header:"[header: My header]",subheader:"[subheader: My subheader]",subsubheader:"[subsubheader: My sub-subheader]",size1:"[size:1: large text]",size2:"[size:2: larger text]",size3:"[size:3: largest text]",tabfirstline:"[tab:2] Only the first line is indented (1, 2 or 3)",tabblock:"[tab:2 The enclosed text is indented (1, 2 or 3)]",color:"[color:f: color options are f, m, mi, ma, n]",italic:"[i:this text is italic]",bold:"[b:this text is bold]",border:"[border: this text has a border!]",audio:"[audio: cs/5ac50892b12e080e30c28b7f]",list:"[list: item1\n      item2\n      item3 list]"}},l.prototype.getTags=function(l){var n,e=new RegExp(l.hasClosingTag?"(?<=\\["+l.tag+":).*?(?="+l.tag+"\\])":"(?<=\\["+l.tag+":).*?(?=\\])","igs"),t=new RegExp("(?<="+l.tag+").*?(?="+l.tag+")","gs"),u=l.hasBracket?e:t,o=[],i=0;for(n=u.exec(l.text);n&&i<200;)n[0]&&o.push(n[0]),n=u.exec(l.text),i++;return o},l.prototype.getHtmlSnippet=function(l,n){var e=this,t="",u="";switch(l){case"header":return'<h1 class="i">'+n.title+"</h1>";case"subheader":return'<h2 class="i">'+n.title+"</h2>";case"subsubheader":return'<h3 class="i">'+n.title+"</h3>";case"border":return'<span class="btn btn-default">'+n.title+"</span>";case"tl":return'<span class="translation">'+n.content+"</span>";case"i":return"<em>"+n.content+"</em>";case"b":return"<strong>"+n.content+"</strong>";case"size":return'<span class="i-size-'+n.value+'">'+n.content+"</span>";case"tab":return n.content?'<span class="i-tab-'+n.value+' block">'+n.content+"</span>":'<span class="i-tab-'+n.value+'"></span>';case"color":return'<span class="i-color-'+n.format+'">'+n.content+"</span>";case"list":return'<li class="list-group-item">'+n.content+"</li>";case"ul":return'<ul class="list-group i-list">'+n.content+"</ul>";case"audio":return'<audio id="audio'+n.audioNr+'">\n                  <source src="'+n.url+'" type="audio/'+n.format+'">\n                </audio>\n                <span onclick="play(this, '+n.audioNr+')" class="fa fa-play-circle"></span>\n                ';case"t-header":return n.table.hasHeader?(n.table.cells.forEach(function(l,o){u=e.getColumnClasses(n.table.columns[o]),t+="<th"+u+">"+l.trim()+"</th>"}),"<thead><tr>"+t+"</tr></thead>"):"";case"t-row":n.table.cells.forEach(function(l,o){u=e.getColumnClasses(n.table.columns[o]),t+="<td"+u+">"+l.trim()+"</td>"});var o="<tr>"+t+"</tr>";return n.table.first?"<tbody>"+o:n.table.last?o+"</tbody>":o;case"table":return'<table class="i-table">'+n.content+"</table>";default:return""}},l.prototype.getColumnClasses=function(l){return l?' class="'+((l.align===wo.Left?"left":l.align===wo.Right?"right":"center")+" "+((l.inverse?"inverse":null)||"")).trim()+'"':""},l.prototype.replaceText=function(l){var n=l.tag+":";return l.html.replace(l.hasClosingTag?"["+(n+l.oldText+l.tag)+"]":l.hasBracket?"["+(n+l.oldText)+"]":""+(l.tag+l.oldText+l.tag),l.newText)},l.prototype.removeTags=function(l,n){var e,t=l;return["script","a","img","embed","object","canvas","iframe","input","source","textarea","video","applet"].forEach(function(l){e=new RegExp("<"+l+"\\b[^<]*(?:(?!<\\/"+l+">)<[^<]*)*<\\/"+l+">","gi"),t=t.replace(e,"")}),t=t.replace(/<img[^>]*>/g,""),n.forEach(function(l){e=new RegExp("(<"+l+">)|(<\\/"+l+">)","gi"),t=t.replace(e,"")}),t},l}(),Io=function(){function l(l,n,e,t,u){this.buildService=l,this.errorService=n,this.previewService=e,this.utilsService=t,this.markdownService=u,this.componentActive=!0,this.templates={},this.dropdowns={},this.modified=!1,this.saved=!1}return l.prototype.clickout=function(l){this.el&&!this.el.nativeElement.contains(l.target)&&this.closeDropdowns(null)},l.prototype.ngOnInit=function(){this.previewService.loadAudioButtonScript(),this.introDefault={text:"",html:""},this.intro=this.introDefault,this.loadIntro(),this.templates=this.markdownService.getTemplates(),this.parseText()},l.prototype.ngAfterViewInit=function(){var l=this;this.introField.valueChanges.pipe(Be(400)).subscribe(function(n){l.parseText()})},l.prototype.onSaveIntro=function(){this.modified&&this.saveIntro()},l.prototype.onChangedIntro=function(){this.modified=!0,this.saved=!1},l.prototype.onToggleButton=function(l){this.closeDropdowns(l),this.dropdowns[l]=!this.dropdowns[l]},l.prototype.onInsertTemplate=function(l,n){void 0===n&&(n="none"),this.utilsService.insertKey(this.insertField.nativeElement,this.templates[l]),this.intro.text=this.insertField.nativeElement.value,this.closeDropdowns(null),this.modified=!0},l.prototype.loadIntro=function(){var l=this;this.buildService.fetchIntro(this.lessonId).pipe(Object(_.a)(function(){return l.componentActive})).subscribe(function(n){return l.intro=n||l.introDefault},function(n){return l.errorService.handleError(n)})},l.prototype.saveIntro=function(){var l=this;this.parseText(),this.buildService.updateIntro(this.lessonId,this.intro).pipe(Object(_.a)(function(){return l.componentActive})).subscribe(function(n){l.modified=!1,l.saved=!0},function(n){return l.errorService.handleError(n)})},l.prototype.parseText=function(){var l=this.markdownService.removeTags(this.intro.text,["span","div","audio","h1","h2","ul","li"]);l=(l=l.replace(/(?:\r\n|\r|\n)/g,"<br>")).replace(/(?:->)/g,"\u2192"),l=this.markdownService.parseFontStyles(l,"b"),l=this.markdownService.parseFontStyles(l,"i"),l=this.markdownService.parseSize(l,"size"),l=this.markdownService.parseColor(l,"color"),l=this.markdownService.parseTranslation(l,"tl"),l=this.markdownService.parseHeaders(l,"header"),l=this.markdownService.parseHeaders(l,"subheader"),l=this.markdownService.parseHeaders(l,"subsubheader"),l=this.markdownService.parseTab(l,"tab"),l=this.markdownService.parseLists(l),l=this.markdownService.parseAudio(l),l=this.markdownService.parseBorders(l,"border"),l=this.markdownService.parseTables(l),this.intro.html=l},l.prototype.closeDropdowns=function(l){var n=this;["arrange","header","size","other"].forEach(function(e){e!==l&&(n.dropdowns[e]=!1)})},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),Ro=t["\u0275crt"]({encapsulation:0,styles:[[".panel[_ngcontent-%COMP%]{margin:0 -15px}.buttons[_ngcontent-%COMP%]{height:40px}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.markdown[_ngcontent-%COMP%]{margin-top:-4px}"]],data:{}});function Eo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function So(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Do(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"button",[["class","btn"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSaveIntro()&&t),t},null,null)),t["\u0275did"](1,278528,null,0,y.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](2,{"btn-success":0,"btn-default":1}),(l()(),t["\u0275eld"](3,0,null,null,0,"span",[["class","fa fa-check"]],[[2,"fa-check",null]],null,null,null,null)),(l()(),t["\u0275ted"](4,null,[" "," "]))],function(l,n){l(n,1,0,"btn",l(n,2,0,n.context.modified,!n.context.modified))},function(l,n){var e=n.component;l(n,0,0,!n.context.modified),l(n,3,0,n.context.saved),l(n,4,0,e.text[n.context.saved?"Updated":"Update"])})}function ko(l){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{introField:0}),t["\u0275qud"](402653184,2,{insertField:0}),t["\u0275qud"](402653184,3,{el:0}),(l()(),t["\u0275eld"](3,0,null,null,90,"div",[["class","panel panel-default"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,89,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,73,"div",[["class","row buttons"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,72,"div",[["class","col-xs-12"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,2,null,Eo)),t["\u0275did"](8,540672,null,0,y.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](9,{modified:0,saved:1}),(l()(),t["\u0275eld"](10,0,[[3,0],["dropdown",1]],null,68,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,10,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,2,"div",[["class","btn btn-primary dropdown-toggle"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onToggleButton("arrange")&&t),t},null,null)),(l()(),t["\u0275ted"](13,null,[" "," "])),(l()(),t["\u0275eld"](14,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,6,"ul",[["class","dropdown-menu"]],[[4,"display",null]],null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onInsertTemplate("table","arrange")&&t),t},null,null)),(l()(),t["\u0275eld"](17,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](18,null,["",""])),(l()(),t["\u0275eld"](19,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onInsertTemplate("list","arrange")&&t),t},null,null)),(l()(),t["\u0275eld"](20,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](21,null,["",""])),(l()(),t["\u0275eld"](22,0,null,null,13,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,2,"div",[["class","btn btn-primary dropdown-toggle"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onToggleButton("header")&&t),t},null,null)),(l()(),t["\u0275ted"](24,null,[" "," "])),(l()(),t["\u0275eld"](25,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,9,"ul",[["class","dropdown-menu"]],[[4,"display",null]],null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onInsertTemplate("header","header")&&t),t},null,null)),(l()(),t["\u0275eld"](28,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](29,null,["",""])),(l()(),t["\u0275eld"](30,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onInsertTemplate("subheader","header")&&t),t},null,null)),(l()(),t["\u0275eld"](31,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](32,null,["",""])),(l()(),t["\u0275eld"](33,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onInsertTemplate("subsubheader","header")&&t),t},null,null)),(l()(),t["\u0275eld"](34,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](35,null,["",""])),(l()(),t["\u0275eld"](36,0,null,null,13,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](37,0,null,null,2,"div",[["class","btn btn-primary dropdown-toggle"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onToggleButton("size")&&t),t},null,null)),(l()(),t["\u0275ted"](38,null,[" "," "])),(l()(),t["\u0275eld"](39,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(l()(),t["\u0275eld"](40,0,null,null,9,"ul",[["class","dropdown-menu"]],[[4,"display",null]],null,null,null,null)),(l()(),t["\u0275eld"](41,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onInsertTemplate("size1","size")&&t),t},null,null)),(l()(),t["\u0275eld"](42,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](43,null,["",""])),(l()(),t["\u0275eld"](44,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onInsertTemplate("size2","size")&&t),t},null,null)),(l()(),t["\u0275eld"](45,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](46,null,["",""])),(l()(),t["\u0275eld"](47,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onInsertTemplate("size3","size")&&t),t},null,null)),(l()(),t["\u0275eld"](48,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](49,null,["",""])),(l()(),t["\u0275eld"](50,0,null,null,28,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](51,0,null,null,2,"div",[["class","btn btn-primary dropdown-toggle"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onToggleButton("other")&&t),t},null,null)),(l()(),t["\u0275ted"](52,null,[" "," "])),(l()(),t["\u0275eld"](53,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(l()(),t["\u0275eld"](54,0,null,null,24,"ul",[["class","dropdown-menu"]],[[4,"display",null]],null,null,null,null)),(l()(),t["\u0275eld"](55,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onInsertTemplate("italic","other")&&t),t},null,null)),(l()(),t["\u0275eld"](56,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](57,null,["",""])),(l()(),t["\u0275eld"](58,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onInsertTemplate("bold","other")&&t),t},null,null)),(l()(),t["\u0275eld"](59,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](60,null,["",""])),(l()(),t["\u0275eld"](61,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onInsertTemplate("border","other")&&t),t},null,null)),(l()(),t["\u0275eld"](62,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](63,null,["",""])),(l()(),t["\u0275eld"](64,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onInsertTemplate("color","other")&&t),t},null,null)),(l()(),t["\u0275eld"](65,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](66,null,["",""])),(l()(),t["\u0275eld"](67,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onInsertTemplate("tabfirstline","other")&&t),t},null,null)),(l()(),t["\u0275eld"](68,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](69,null,["",""])),(l()(),t["\u0275eld"](70,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onInsertTemplate("tabblock","other")&&t),t},null,null)),(l()(),t["\u0275eld"](71,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](72,null,["",""])),(l()(),t["\u0275eld"](73,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onInsertTemplate("list","other")&&t),t},null,null)),(l()(),t["\u0275eld"](74,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](75,null,["",""])),(l()(),t["\u0275eld"](76,0,null,null,2,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onInsertTemplate("audio","other")&&t),t},null,null)),(l()(),t["\u0275eld"](77,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](78,null,["",""])),(l()(),t["\u0275eld"](79,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](80,0,null,null,10,"div",[["class","col-xs-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](81,0,[[2,0],["insertField",1]],null,6,"textarea",[["autocapitalize","off"],["autocomplete","off"],["autocorrect","off"],["class","form-control"],["rows","50"],["spellcheck","false"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,82)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,82).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,82)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,82)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(o.intro.text=e)&&u),"ngModelChange"===n&&(u=!1!==o.onChangedIntro()&&u),u},null,null)),t["\u0275did"](82,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](84,671744,[[1,4],["introField",4]],0,ll.s,[[8,null],[8,null],[8,null],[6,ll.o]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,ll.p,null,[ll.s]),t["\u0275did"](86,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275ted"](-1,null,["        "])),(l()(),t["\u0275and"](16777216,null,null,2,null,So)),t["\u0275did"](89,540672,null,0,y.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](90,{modified:0,saved:1}),(l()(),t["\u0275eld"](91,0,null,null,2,"div",[["class","col-xs-6 markdown"]],null,null,null,null,null)),(l()(),t["\u0275eld"](92,0,null,null,1,"km-intro",[],null,null,null,xo.b,xo.a)),t["\u0275did"](93,49152,null,0,Co.a,[],{html:[0,"html"]},null),(l()(),t["\u0275and"](0,[["saveButtonTemplate",2]],null,0,null,Do))],function(l,n){var e=n.component;l(n,8,0,l(n,9,0,e.modified,e.saved),t["\u0275nov"](n,94)),l(n,84,0,e.intro.text),l(n,89,0,l(n,90,0,e.modified,e.saved),t["\u0275nov"](n,94)),l(n,93,0,null==e.intro?null:e.intro.html)},function(l,n){var e=n.component;l(n,13,0,e.text.Arrange),l(n,15,0,e.dropdowns.arrange?"block":"none"),l(n,18,0,e.text.Table),l(n,21,0,e.text.List),l(n,24,0,e.text.Headers),l(n,26,0,e.dropdowns.header?"block":"none"),l(n,29,0,e.text.MainHeader),l(n,32,0,e.text.SubHeader),l(n,35,0,e.text.SubSubHeader),l(n,38,0,e.text.Size),l(n,40,0,e.dropdowns.size?"block":"none"),l(n,43,0,e.text.Large),l(n,46,0,e.text.Larger),l(n,49,0,e.text.Largest),l(n,52,0,e.text.Miscellaneous),l(n,54,0,e.dropdowns.other?"block":"none"),l(n,57,0,e.text.Italic),l(n,60,0,e.text.Bold),l(n,63,0,e.text.Border),l(n,66,0,e.text.Color),l(n,69,0,e.text.TabFirstLine),l(n,72,0,e.text.TabBlock),l(n,75,0,e.text.List),l(n,78,0,e.text.Audio),l(n,81,0,t["\u0275nov"](n,86).ngClassUntouched,t["\u0275nov"](n,86).ngClassTouched,t["\u0275nov"](n,86).ngClassPristine,t["\u0275nov"](n,86).ngClassDirty,t["\u0275nov"](n,86).ngClassValid,t["\u0275nov"](n,86).ngClassInvalid,t["\u0275nov"](n,86).ngClassPending)})}var To=e("2hG8"),_o=e("o9qV"),Oo=function(){function l(l,n,e){this.buildService=l,this.markdownService=n,this.errorService=e,this.componentActive=!0,this.modified=!1,this.saved=!1,this.dialogueTpes=["Dialogue","Story"]}return l.prototype.ngOnInit=function(){this.dialogueDefault={tpe:"Dialogue",text:"Title|Translated Title",local:"",foreign:"",localTitle:"",foreignTitle:""},this.dialogue=this.dialogueDefault,this.loadDialogue(),this.parse()},l.prototype.ngAfterViewInit=function(){var l=this;this.input.valueChanges.pipe(Be(400)).subscribe(function(n){l.parse()})},l.prototype.onChangedDialogue=function(){this.modified=!0,this.saved=!1,this.parse()},l.prototype.onSaveDialogue=function(){this.modified&&this.saveDialogue()},l.prototype.loadDialogue=function(){var l=this;this.buildService.fetchDialogue(this.lessonId).pipe(Object(_.a)(function(){return l.componentActive})).subscribe(function(n){return l.dialogue=n||l.dialogueDefault},function(n){return l.errorService.handleError(n)})},l.prototype.saveDialogue=function(){var l=this;this.parse(),this.buildService.updateDialogue(this.lessonId,this.dialogue).pipe(Object(_.a)(function(){return l.componentActive})).subscribe(function(n){l.modified=!1,l.saved=!0},function(n){return l.errorService.handleError(n)})},l.prototype.parse=function(){var l=this,n=this.markdownService.removeTags(this.dialogue.text,["a","img","span","div","audio"]).split("Dialogue"===this.dialogue.tpe?"\n":"]");this.dialogue.local="",this.dialogue.foreign="",n.forEach(function(n,e){n&&("Dialogue"===l.dialogue.tpe?l.parseDialogueSentence(n,e):l.parseTextSentence(n,e))})},l.prototype.parseDialogueSentence=function(l,n){var e=l.split("|"),t=e[1]||"",u=e[0]||"";0===n?(this.dialogue.localTitle=t.trim(),this.dialogue.foreignTitle=u.trim()):(this.dialogue.local+=this.parseDialogueLine(t),this.dialogue.foreign+=this.parseDialogueLine(u))},l.prototype.parseTextSentence=function(l,n){var e="\n"===l[0]&&n>1?"<br>":"",t=l.split("["),u=t[1]||"",o=t[0]||"";0===n?(this.dialogue.localTitle=u.trim(),this.dialogue.foreignTitle=o.trim()):(this.dialogue.local+=e+u+"<hr>",this.dialogue.foreign+=e+o+"<hr>")},l.prototype.parseDialogueLine=function(l){var n,e,t=l.match(/\[.*\]/);return t?(n="<dt>"+(n=t[0]).substr(1,n.length-2)+"</dt>",e="<dd>"+l.substring(t.index+t[0].length,l.length)+"</dd>"):(n="<dt></dt>",e="<dd>"+l+"</dd>"),n+e+"<hr>"},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),Po=t["\u0275crt"]({encapsulation:0,styles:[".panel[_ngcontent-%COMP%] {\n      margin: 0 -15px;\n    }"],data:{}});function No(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,ll.t,[t.ElementRef,t.Renderer2,[2,ll.w]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,ll.C,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.component.text[n.context.$implicit])})}function Fo(l){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{input:0}),(l()(),t["\u0275eld"](1,0,null,null,30,"div",[["class","panel panel-default"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,29,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,16,"div",[["class","row buttons"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,15,"div",[["class","col-xs-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,14,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,5,"div",[["class","input-group-btn"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,4,"button",[["class","btn"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSaveDialogue()&&t),t},null,null)),t["\u0275did"](8,278528,null,0,y.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](9,{"btn-success":0,"btn-default":1}),(l()(),t["\u0275eld"](10,0,null,null,0,"span",[["class","fa fa-check"]],[[2,"fa-check",null]],null,null,null,null)),(l()(),t["\u0275ted"](11,null,[" "," "])),(l()(),t["\u0275eld"](12,0,null,null,7,"select",[["class","form-control"],["id","dialogueTpes"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var u=!0,o=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,13).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,13).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(o.dialogue.tpe=e)&&u),"ngModelChange"===n&&(u=!1!==o.onChangedDialogue()&&u),u},null,null)),t["\u0275did"](13,16384,null,0,ll.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.w]),t["\u0275did"](15,671744,null,0,ll.s,[[8,null],[8,null],[8,null],[6,ll.o]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,ll.p,null,[ll.s]),t["\u0275did"](17,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,No)),t["\u0275did"](19,802816,null,0,y.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](20,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,7,"div",[["class","col-xs-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,6,"textarea",[["autocapitalize","off"],["autocomplete","off"],["autocorrect","off"],["class","form-control"],["rows","50"],["spellcheck","false"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,23)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,23).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,23)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,23)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(o.dialogue.text=e)&&u),"ngModelChange"===n&&(u=!1!==o.onChangedDialogue()&&u),u},null,null)),t["\u0275did"](23,16384,null,0,ll.d,[t.Renderer2,t.ElementRef,[2,ll.a]],null,null),t["\u0275prd"](1024,null,ll.o,function(l){return[l]},[ll.d]),t["\u0275did"](25,671744,[[1,4],["dialogueField",4]],0,ll.s,[[8,null],[8,null],[8,null],[6,ll.o]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,ll.p,null,[ll.s]),t["\u0275did"](27,16384,null,0,ll.q,[[4,ll.p]],null,null),(l()(),t["\u0275ted"](-1,null,["        "])),(l()(),t["\u0275eld"](29,0,null,null,2,"div",[["class","col-xs-6 result"]],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,1,"km-dialogue",[],null,null,null,To.b,To.a)),t["\u0275did"](31,49152,null,0,_o.a,[],{dialogue:[0,"dialogue"],languagePair:[1,"languagePair"]},null)],function(l,n){var e=n.component;l(n,8,0,"btn",l(n,9,0,e.modified,!e.modified)),l(n,15,0,e.dialogue.tpe),l(n,19,0,e.dialogueTpes),l(n,25,0,e.dialogue.text),l(n,31,0,e.dialogue,e.languagePair)},function(l,n){var e=n.component;l(n,7,0,!e.modified),l(n,10,0,e.saved),l(n,11,0,e.text[e.saved?"Updated":"Update"]),l(n,12,0,t["\u0275nov"](n,17).ngClassUntouched,t["\u0275nov"](n,17).ngClassTouched,t["\u0275nov"](n,17).ngClassPristine,t["\u0275nov"](n,17).ngClassDirty,t["\u0275nov"](n,17).ngClassValid,t["\u0275nov"](n,17).ngClassInvalid,t["\u0275nov"](n,17).ngClassPending),l(n,22,0,t["\u0275nov"](n,27).ngClassUntouched,t["\u0275nov"](n,27).ngClassTouched,t["\u0275nov"](n,27).ngClassPristine,t["\u0275nov"](n,27).ngClassDirty,t["\u0275nov"](n,27).ngClassValid,t["\u0275nov"](n,27).ngClassInvalid,t["\u0275nov"](n,27).ngClassPending)})}var Lo=function(){function l(){this.selected=new t.EventEmitter,this.tab="words"}return l.prototype.ngOnChanges=function(){this.setDefaultTab()},l.prototype.onSelectTab=function(l){this.tab=l,this.selected.emit(l)},l.prototype.setDefaultTab=function(){this.tab="words",this.steps.practise.active||this.steps.study.active||(this.tab="intro"),this.selected.emit(this.tab)},l}(),Ao=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;margin:0 -12px}li[_ngcontent-%COMP%]{cursor:pointer}a[_ngcontent-%COMP%]{color:#fff;font-weight:700}a[_ngcontent-%COMP%]:hover{color:#000}"]],data:{}});function Vo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"li",[],[[2,"active",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSelectTab("intro")&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,function(l,n){var e=n.component;l(n,0,0,"intro"===e.tab),l(n,2,0,e.text.Intro)})}function jo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"li",[],[[2,"active",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSelectTab("dialogue")&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,function(l,n){var e=n.component;l(n,0,0,"dialogue"===e.tab),l(n,2,0,e.text.Dialogue)})}function Mo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"li",[],[[2,"active",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSelectTab("words")&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,function(l,n){var e=n.component;l(n,0,0,"words"===e.tab),l(n,2,0,e.text.Words)})}function $o(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"ul",[["class","nav nav-tabs"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Vo)),t["\u0275did"](2,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,jo)),t["\u0275did"](4,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Mo)),t["\u0275did"](6,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.steps.intro.active),l(n,4,0,null==e.steps.dialogue?null:e.steps.dialogue.active),l(n,6,0,e.steps.practise.active||e.steps.study.active)},null)}var qo=function(){function l(l,n,e,t,u){this.route=l,this.buildService=n,this.utilsService=e,this.userService=t,this.errorService=u,this.componentActive=!0,this.isLoading=!1,this.isNewExercise=!1,this.isEditMode=!1,this.isBidirectional=!1,this.text={},this.tab="words",this.isCourseAccess=!1,this.infoMsg="",this.exType=Yl.c,this.showDropDown=!1}return l.prototype.clickout=function(l){this.el&&!this.el.nativeElement.contains(l.target)&&(this.showDropDown=!1)},l.prototype.ngOnInit=function(){var l=this;this.route.params.pipe(Object(_.a)(function(){return l.componentActive}),Object(Mn.a)(function(l){return l.id})).subscribe(function(n){l.getTranslations(n.id)})},l.prototype.onNewWord=function(){this.showDropDown=!1,this.isNewExercise=!0,this.tpe=Yl.c.Word},l.prototype.onCancelNew=function(){this.showDropDown=!1,this.isNewExercise=!1},l.prototype.onNewSelect=function(){this.showDropDown=!1,this.isNewExercise=!0,this.tpe=Yl.c.Select},l.prototype.onNewQA=function(){this.showDropDown=!1,this.isNewExercise=!0,this.tpe=Yl.c.QA},l.prototype.onNewFillIn=function(){this.showDropDown=!1,this.isNewExercise=!0,this.tpe=Yl.c.FillIn},l.prototype.onEditLesson=function(){this.showDropDown=!1,this.isEditMode=!0},l.prototype.onToggleDropDown=function(){this.showDropDown=!this.showDropDown},l.prototype.onCloseHeader=function(l){this.showDropDown=!1,l&&(this.lesson=l,this.chapters.filter(function(n){return n===l.chapterName}).length<1&&this.addChapter(l.chapterName,this.lesson._id)),this.isEditMode=!1},l.prototype.onExercisesAdded=function(l){this.lesson.exercises=this.lesson.exercises.concat(l),this.isNewExercise=!1},l.prototype.onExerciseRemoved=function(l){this.lesson.exercises.splice(l,1)},l.prototype.onTabSelected=function(l){this.tab=l},l.prototype.isEditor=function(){return this.userService.hasAccessLevel(this.course.access,T.a.Editor)},l.prototype.getLesson=function(l){var n=this;this.isLoading=!0,this.buildService.fetchLesson(l).pipe(Object(_.a)(function(){return n.componentActive})).subscribe(function(l){n.lesson=l,l?(n.lanLocal=l.languagePair.from,n.lanForeign=l.languagePair.to,n.getCourse(),n.setBidirectional(),n.getConfigs(l.languagePair)):(n.isLoading=!1,n.infoMsg=n.text.LessonIdInvalid)},function(l){return n.errorService.handleError(l)})},l.prototype.addChapter=function(l,n){var e=this;l&&(this.chapters.push(l),this.buildService.addChapter(this.lesson.courseId,l,n).pipe(Object(_.a)(function(){return e.componentActive})).subscribe(function(l){},function(l){return e.errorService.handleError(l)}))},l.prototype.getCourse=function(){var l=this;this.buildService.fetchCourse(this.lesson.courseId).pipe(Object(_.a)(function(){return l.componentActive})).subscribe(function(n){l.isLoading=!1,l.course=n,n?(l.utilsService.setPageTitle(null,n.name,!0),l.chapters=n.chapters,l.isCourseAccess=!0):l.infoMsg=l.text.NotAuthorizedEditCourse},function(n){return l.errorService.handleError(n)})},l.prototype.getTranslations=function(l){var n=this;this.utilsService.fetchTranslations(this.userService.user.main.lan,"LessonComponent").pipe(Object(_.a)(function(){return n.componentActive})).subscribe(function(e){n.text=n.utilsService.getTranslatedText(e),n.getLesson(l)},function(l){return n.errorService.handleError(l)})},l.prototype.getConfigs=function(l){var n=this;this.buildService.fetchLanConfigs(l).pipe(Object(_.a)(function(){return n.componentActive})).subscribe(function(l){return n.configs=l},function(l){return n.errorService.handleError(l)})},l.prototype.setBidirectional=function(){var l=this.lesson.exerciseSteps;l&&(l.study.bidirectional||l.practise.bidirectional||l.exam.bidirectional)&&(this.isBidirectional=!0)},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),Wo=t["\u0275crt"]({encapsulation:0,styles:[q,[".dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.chapter-name[_ngcontent-%COMP%]{color:#999;position:relative;top:-4px;font-size:16px;margin-left:15px;font-style:italic;height:20px}"]],data:{}});function Bo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-build-course-header-bar",[],null,null,null,Y,H)),t["\u0275did"](1,245760,null,0,z,[i.l,k,C.a,h.a,w.a],{course:[0,"course"],text:[1,"text"],showLink:[2,"showLink"]},null)],function(l,n){var e=n.component;l(n,1,0,e.course,e.text,!0)},null)}function Uo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"h2",[["class","header transparant"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "])),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","btn btn-warning"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditLesson()&&t),t},null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"span",[["class","fa fa-cog"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,[" "," "])),(l()(),t["\u0275eld"](5,0,null,null,1,"div",[["class","chapter-name"]],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""]))],null,function(l,n){var e=n.component;l(n,1,0,null==e.lesson?null:e.lesson.name),l(n,4,0,e.text.Settings),l(n,6,0,null==e.lesson?null:e.lesson.chapterName)})}function zo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-build-lesson-header",[["class","header transparant"]],null,[[null,"done"]],function(l,n,e){var t=!0;return"done"===n&&(t=!1!==l.component.onCloseHeader(e)&&t),t},jn,_n)),t["\u0275did"](1,245760,null,0,Tn,[ll.f,k,w.a],{lesson:[0,"lesson"],defaults:[1,"defaults"],chapters:[2,"chapters"],regions:[3,"regions"],text:[4,"text"]},{done:"done"})],function(l,n){var e=n.component;l(n,1,0,e.lesson,e.course.defaults,e.chapters,null==e.configs?null:e.configs.foreign.regions,e.text)},null)}function Ho(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-exercise-list",[],null,[[null,"removedExercise"],["document","click"]],function(l,n,e){var u=!0,o=l.component;return"document:click"===n&&(u=!1!==t["\u0275nov"](l,1).clickout(e)&&u),"removedExercise"===n&&(u=!1!==o.onExerciseRemoved(e)&&u),u},bo,Hu)),t["\u0275did"](1,180224,null,0,zu,[k,h.a,w.a],{exercises:[0,"exercises"],languagePair:[1,"languagePair"],configs:[2,"configs"],access:[3,"access"],lessonId:[4,"lessonId"],courseId:[5,"courseId"],lessonOptions:[6,"lessonOptions"],text:[7,"text"],isBidirectional:[8,"isBidirectional"]},{removedExercise:"removedExercise"})],function(l,n){var e=n.component;l(n,1,0,e.lesson.exercises,null==e.lesson?null:e.lesson.languagePair,e.configs,null==e.course?null:e.course.access,null==e.lesson?null:e.lesson._id,null==e.course?null:e.course._id,null==e.lesson?null:e.lesson.options,e.text,e.isBidirectional)},null)}function Go(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,17,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["align",""],["class","btn btn-success btn-lg"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onNewWord()&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"span",[["class","fa fa-font fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),(l()(),t["\u0275eld"](4,0,[[1,0],["dropdown",1]],null,13,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,3,"button",[["class","btn btn-success btn-lg dropdown-toggle"],["data-toggle","dropdown"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onToggleDropDown()&&t),t},null,null)),(l()(),t["\u0275eld"](6,0,null,null,0,"span",[["class","fa fa-file-o fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,[" "," "])),(l()(),t["\u0275eld"](8,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,8,"ul",[["class","dropdown-menu"]],[[4,"display",null]],null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,3,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onNewSelect()&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,2,"a",[],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,0,"span",[["class","fa fa-list-alt fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,["",""])),(l()(),t["\u0275eld"](14,0,null,null,3,"li",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onNewFillIn()&&t),t},null,null)),(l()(),t["\u0275eld"](15,0,null,null,2,"a",[],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,0,"span",[["class","fa fa-terminal fa-spacing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](17,null,["",""]))],null,function(l,n){var e=n.component;l(n,3,0,e.text.NewWord),l(n,7,0,e.text["New..."]),l(n,9,0,e.showDropDown?"block":"none"),l(n,13,0,e.text.NewSelect),l(n,17,0,e.text.NewFillIn)})}function Ko(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","footer transparant"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Go)),t["\u0275did"](2,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null)],function(l,n){l(n,2,0,!n.component.isNewExercise,t["\u0275nov"](n.parent,5))},null)}function Jo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-build-exercise",[],null,[[null,"addedExercises"],[null,"cancelNew"],["document","click"]],function(l,n,e){var u=!0,o=l.component;return"document:click"===n&&(u=!1!==t["\u0275nov"](l,1).clickout(e)&&u),"addedExercises"===n&&(u=!1!==o.onExercisesAdded(e)&&u),"cancelNew"===n&&(u=!1!==o.onCancelNew()&&u),u},Jt,Ke)),t["\u0275did"](1,245760,null,0,Ge,[b.a,ll.f,k,ee.a,w.a,t.ElementRef,t.ChangeDetectorRef],{languagePair:[0,"languagePair"],configs:[1,"configs"],lessonId:[2,"lessonId"],courseId:[3,"courseId"],lessonOptions:[4,"lessonOptions"],text:[5,"text"]},{addedExercises:"addedExercises",cancelNew:"cancelNew"})],function(l,n){var e=n.component;l(n,1,0,null==e.lesson?null:e.lesson.languagePair,e.configs,null==e.lesson?null:e.lesson._id,null==e.course?null:e.course._id,null==e.lesson?null:e.lesson.options,e.text)},null)}function Zo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-build-select",[],null,[[null,"addedExercises"],[null,"cancelNew"]],function(l,n,e){var t=!0,u=l.component;return"addedExercises"===n&&(t=!1!==u.onExercisesAdded(e)&&t),"cancelNew"===n&&(t=!1!==u.onCancelNew()&&t),t},su,Yt)),t["\u0275did"](1,245760,null,0,Xt,[k,w.a,ll.f],{languagePair:[0,"languagePair"],configs:[1,"configs"],text:[2,"text"],lessonId:[3,"lessonId"]},{addedExercises:"addedExercises",cancelNew:"cancelNew"})],function(l,n){var e=n.component;l(n,1,0,null==e.lesson?null:e.lesson.languagePair,e.configs,e.text,null==e.lesson?null:e.lesson._id)},null)}function Qo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-build-qa",[],null,[[null,"addedExercises"],[null,"cancelNew"]],function(l,n,e){var t=!0,u=l.component;return"addedExercises"===n&&(t=!1!==u.onExercisesAdded(e)&&t),"cancelNew"===n&&(t=!1!==u.onCancelNew()&&t),t},mu,cu)),t["\u0275did"](1,245760,null,0,au,[k,w.a,ll.f],{languagePair:[0,"languagePair"],configs:[1,"configs"],text:[2,"text"],lessonId:[3,"lessonId"]},{addedExercises:"addedExercises",cancelNew:"cancelNew"})],function(l,n){var e=n.component;l(n,1,0,null==e.lesson?null:e.lesson.languagePair,e.configs,e.text,null==e.lesson?null:e.lesson._id)},null)}function Xo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-build-fillin",[],null,[[null,"addedExercises"],[null,"cancelNew"]],function(l,n,e){var t=!0,u=l.component;return"addedExercises"===n&&(t=!1!==u.onExercisesAdded(e)&&t),"cancelNew"===n&&(t=!1!==u.onCancelNew()&&t),t},yu,vu)),t["\u0275did"](1,245760,null,0,hu,[k,w.a,ll.f],{languagePair:[0,"languagePair"],configs:[1,"configs"],text:[2,"text"],lessonId:[3,"lessonId"]},{addedExercises:"addedExercises",cancelNew:"cancelNew"})],function(l,n){var e=n.component;l(n,1,0,null==e.lesson?null:e.lesson.languagePair,e.configs,e.text,null==e.lesson?null:e.lesson._id)},null)}function Yo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[],null,null,null,null,null)),t["\u0275did"](1,16384,null,0,y.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Jo)),t["\u0275did"](3,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Zo)),t["\u0275did"](5,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Qo)),t["\u0275did"](7,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Xo)),t["\u0275did"](9,278528,null,0,y.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(l,n){var e=n.component;l(n,1,0,e.tpe),l(n,3,0,e.exType.Word),l(n,5,0,e.exType.Select),l(n,7,0,e.exType.QA),l(n,9,0,e.exType.FillIn)},null)}function li(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ho)),t["\u0275did"](2,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ko)),t["\u0275did"](4,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,[["addExercise",2]],null,0,null,Yo))],function(l,n){var e=n.component;l(n,2,0,e.lesson),l(n,4,0,e.isEditor())},null)}function ni(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-build-lesson-intro",[],null,[["document","click"]],function(l,n,e){var u=!0;return"document:click"===n&&(u=!1!==t["\u0275nov"](l,1).clickout(e)&&u),u},ko,Ro)),t["\u0275did"](1,4440064,null,0,Io,[k,w.a,ee.a,b.a,yo],{lessonId:[0,"lessonId"],text:[1,"text"]},null)],function(l,n){var e=n.component;l(n,1,0,null==e.lesson?null:e.lesson._id,e.text)},null)}function ei(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-build-lesson-dialogue",[],null,null,null,Fo,Po)),t["\u0275did"](1,4440064,null,0,Oo,[k,yo,w.a],{languagePair:[0,"languagePair"],lessonId:[1,"lessonId"],text:[2,"text"]},null)],function(l,n){var e=n.component;l(n,1,0,null==e.lesson?null:e.lesson.languagePair,null==e.lesson?null:e.lesson._id,e.text)},null)}function ti(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Bo)),t["\u0275did"](2,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Uo)),t["\u0275did"](4,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,zo)),t["\u0275did"](6,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](7,0,null,null,1,"km-build-lesson-tabs",[],null,[[null,"selected"]],function(l,n,e){var t=!0;return"selected"===n&&(t=!1!==l.component.onTabSelected(e)&&t),t},$o,Ao)),t["\u0275did"](8,573440,null,0,Lo,[],{text:[0,"text"],steps:[1,"steps"]},{selected:"selected"}),(l()(),t["\u0275and"](16777216,null,null,1,null,li)),t["\u0275did"](10,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ni)),t["\u0275did"](12,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ei)),t["\u0275did"](14,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.course),l(n,4,0,!e.isEditMode&&e.isEditor()),l(n,6,0,e.isEditMode),l(n,8,0,e.text,null==e.lesson?null:e.lesson.exerciseSteps),l(n,10,0,"words"===e.tab),l(n,12,0,"intro"===e.tab),l(n,14,0,"dialogue"===e.tab)},null)}function ui(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-info-msg",[],null,null,null,I.b,I.a)),t["\u0275did"](1,49152,null,0,R.a,[],{msg:[0,"msg"]},null)],function(l,n){l(n,1,0,n.component.infoMsg)},null)}function oi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"km-loader",[],null,null,null,E.b,E.a)),t["\u0275did"](1,114688,null,0,S.a,[],{msg:[0,"msg"]},null)],function(l,n){l(n,1,0,n.component.text.LoadingLesson)},null)}function ii(l){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{el:0}),(l()(),t["\u0275and"](16777216,null,null,1,null,ti)),t["\u0275did"](2,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ui)),t["\u0275did"](4,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,oi)),t["\u0275did"](6,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.isCourseAccess),l(n,4,0,e.infoMsg),l(n,6,0,e.isLoading)},null)}var ri=t["\u0275ccf"]("ng-component",qo,function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"ng-component",[],null,[["document","click"]],function(l,n,e){var u=!0;return"document:click"===n&&(u=!1!==t["\u0275nov"](l,1).clickout(e)&&u),u},ii,Wo)),t["\u0275did"](1,245760,null,0,qo,[i.a,k,b.a,h.a,w.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),si=e("t/Na"),ai=e("RDNO"),ci=e("ZYjt"),di=e("7mek"),pi=e("d2mR"),gi=e("l6Jb");e.d(n,"BuildModuleNgFactory",function(){return fi});var fi=t["\u0275cmf"](u,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,c,$,Qn,ri]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,y.NgLocalization,y.NgLocaleLocalization,[t.LOCALE_ID,[2,y["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,si.j,si.p,[y.DOCUMENT,t.PLATFORM_ID,si.n]),t["\u0275mpd"](4608,si.q,si.q,[si.j,si.o]),t["\u0275mpd"](5120,si.a,function(l,n){return[l,new ai.a(n)]},[si.q,x.a]),t["\u0275mpd"](4608,si.m,si.m,[]),t["\u0275mpd"](6144,si.k,null,[si.m]),t["\u0275mpd"](4608,si.i,si.i,[si.k]),t["\u0275mpd"](6144,si.b,null,[si.i]),t["\u0275mpd"](4608,si.f,si.l,[si.b,t.Injector]),t["\u0275mpd"](4608,si.c,si.c,[si.f]),t["\u0275mpd"](4608,ll.A,ll.A,[]),t["\u0275mpd"](4608,b.a,b.a,[si.c,ci.h]),t["\u0275mpd"](4608,ee.a,ee.a,[]),t["\u0275mpd"](4608,ll.f,ll.f,[]),t["\u0275mpd"](4608,Sl,Sl,[]),t["\u0275mpd"](5120,Tl,kl,[]),t["\u0275mpd"](5120,Ol,_l,[Sl]),t["\u0275mpd"](4608,k,k,[si.c,x.a]),t["\u0275mpd"](4608,yo,yo,[]),t["\u0275mpd"](1073742336,y.CommonModule,y.CommonModule,[]),t["\u0275mpd"](1073742336,si.e,si.e,[]),t["\u0275mpd"](1073742336,si.d,si.d,[]),t["\u0275mpd"](1073742336,ll.y,ll.y,[]),t["\u0275mpd"](1073742336,ll.k,ll.k,[]),t["\u0275mpd"](1073742336,di.TooltipModule,di.TooltipModule,[]),t["\u0275mpd"](1073742336,pi.a,pi.a,[]),t["\u0275mpd"](1073742336,gi.a,gi.a,[]),t["\u0275mpd"](1073742336,ll.u,ll.u,[]),t["\u0275mpd"](1073742336,i.o,i.o,[[2,i.t],[2,i.l]]),t["\u0275mpd"](1073742336,Zl,Zl,[]),t["\u0275mpd"](1073742336,u,u,[]),t["\u0275mpd"](256,si.n,"XSRF-TOKEN",[]),t["\u0275mpd"](256,si.o,"X-XSRF-TOKEN",[]),t["\u0275mpd"](1024,i.j,function(){return[[{path:"",component:r,children:[{path:"courses",component:O},{path:"course/:id",component:$n},{path:"lesson/:id",component:qo}]}]]},[])])})}}]);