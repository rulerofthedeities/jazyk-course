(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"8sTi":function(l,n,e){"use strict";e.d(n,"a",function(){return u});var u=[".btn-dropdown[_ngcontent-%COMP%]{text-align:left;width:100%;cursor:default}.selector[_ngcontent-%COMP%]{position:relative;z-index:10}.dropdown[_ngcontent-%COMP%]{bottom:0;left:0;position:absolute;right:0;top:46px}.flag[_ngcontent-%COMP%]{border:1px solid #999;border-radius:2px;height:20px;margin-right:8px;width:30px}.gravatar[_ngcontent-%COMP%]{border:1px solid #999;border-radius:2px;height:22px;margin-right:8px;width:22px}.caret[_ngcontent-%COMP%]{float:right;margin-top:8px}.list-group-item[_ngcontent-%COMP%]{cursor:pointer;font-size:18px}.disabled[_ngcontent-%COMP%]   .btn-default[_ngcontent-%COMP%]{cursor:default;border:0;background-color:inherit;padding-left:0}.disabled[_ngcontent-%COMP%]   .btn-default[_ngcontent-%COMP%]:hover{background-color:inherit}.disabled[_ngcontent-%COMP%]   .btn-default[_ngcontent-%COMP%]:active{box-shadow:inherit}"]},hp0j:function(l,n,e){"use strict";e.r(n);var u=e("CcnG"),t=function(){},o=e("z/Lv"),i=e("Qs2L"),r=e("Ip0R"),s=e("JU9P"),a=e("HMtG"),c=e("d6iw"),d=e("qfBg"),p=e("9vc0"),f=e("0ygI"),g=e("jvbL"),m=e("VnD/"),v=function(){function l(l,n,e,u,t){this.route=l,this.router=n,this.utilsService=e,this.userService=u,this.errorService=t,this.componentActive=!0,this.text={},this.showActions=!1,this.isFromDashboard=!1}return l.prototype.clickout=function(l){this.el&&!this.el.nativeElement.contains(l.target)&&(this.showActions=!1)},l.prototype.ngOnInit=function(){this.getTranslations(),this.fetchNotifications(),this.getCurrentNotification()},l.prototype.onOpenActions=function(){this.showActions=!this.showActions},l.prototype.onSelectNotification=function(l){this.infoMsg="",this.currentNotification=this.notifications[l],this.currentNotification.message||this.fetchNotification(this.notifications[l]._id,l)},l.prototype.onDeleteNotification=function(l){this.infoMsg="",this.notifications=this.notifications.filter(function(n){return n._id!==l}),this.deleteNotification(l),this.closeNotification()},l.prototype.onDeleteAllRead=function(){this.infoMsg="",this.showActions=!1,this.notifications=this.notifications.filter(function(l){return!l.read}),this.deleteReadNotifications()},l.prototype.onCloseNotification=function(){this.closeNotification()},l.prototype.onMarkAllRead=function(){this.infoMsg="",this.showActions=!1,this.markAllRead(),this.setAllNotificationsAsRead()},l.prototype.onKeyPressed=function(l){"Escape"===l&&this.closeNotification()},l.prototype.markAllRead=function(){this.notifications.map(function(l){return l.read=!0}),this.userService.updateUnreadNotificationsCount(!0)},l.prototype.closeNotification=function(){this.isFromDashboard?this.router.navigate(["/home"]):(this.currentNotification=null,this.showActions=!1)},l.prototype.getCurrentNotification=function(){var l=this;this.route.params.pipe(Object(g.a)(function(){return l.componentActive}),Object(m.a)(function(l){return l.notificationId})).subscribe(function(n){l.isFromDashboard=!0,l.fetchNotification(n.notificationId,null)})},l.prototype.fetchNotifications=function(){var l=this;this.userService.fetchNotifications().pipe(Object(g.a)(function(){return l.componentActive})).subscribe(function(n){return l.notifications=n},function(n){return l.errorService.handleError(n)})},l.prototype.fetchNotification=function(l,n){var e=this;this.userService.fetchNotification(l).pipe(Object(g.a)(function(){return e.componentActive})).subscribe(function(u){u&&(null===n&&(n=e.notifications.findIndex(function(n){return n._id===l})),u.read||(e.setNotificationAsRead(n),e.userService.updateUnreadNotificationsCount(!1)),u.read=!0,isNaN(n)||(e.notifications[n]=u),e.currentNotification=u)},function(l){return e.errorService.handleError(l)})},l.prototype.deleteNotification=function(l){var n=this;this.userService.deleteNotification(l).pipe(Object(g.a)(function(){return n.componentActive})).subscribe(function(l){return n.infoMsg=n.text.NotificationDeleted},function(l){return n.errorService.handleError(l)})},l.prototype.deleteReadNotifications=function(){var l=this;this.userService.deleteReadNotifications().pipe(Object(g.a)(function(){return l.componentActive})).subscribe(function(n){return l.infoMsg=l.text.NotificationsDeleted},function(n){return l.errorService.handleError(n)})},l.prototype.setNotificationAsRead=function(l){var n=this;isNaN(l)||this.userService.setNotificationAsRead(this.notifications[l]._id).pipe(Object(g.a)(function(){return n.componentActive})).subscribe(function(l){},function(l){return n.errorService.handleError(l)})},l.prototype.setAllNotificationsAsRead=function(){var l=this;this.userService.setAllNotificationsAsRead().pipe(Object(g.a)(function(){return l.componentActive})).subscribe(function(l){},function(n){return l.errorService.handleError(n)})},l.prototype.getTranslations=function(){var l=this;this.utilsService.fetchTranslations(this.userService.user.main.lan,"UserComponent").pipe(Object(g.a)(function(){return l.componentActive})).subscribe(function(n){n&&(l.text=l.utilsService.getTranslatedText(n),l.utilsService.setPageTitle(l.text,"Notifications"))},function(n){return l.errorService.handleError(n)})},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),h=e("ZYCi"),b=u["\u0275crt"]({encapsulation:0,styles:[[".list-group-item[_ngcontent-%COMP%]{cursor:pointer}.read[_ngcontent-%COMP%]{margin-right:10px}.fa-circle[_ngcontent-%COMP%]{color:red}.badge[_ngcontent-%COMP%]{background-color:#ababab;border-radius:4px}.unread[_ngcontent-%COMP%]{font-weight:700}.fa-times[_ngcontent-%COMP%]{cursor:pointer;font-size:32px}.btnicon[_ngcontent-%COMP%]{padding:2px 6px;width:28px}.btn-delete[_ngcontent-%COMP%]{margin-left:8px;margin-right:-7px}.badgeMargin[_ngcontent-%COMP%]{margin-right:24px}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.buttons[_ngcontent-%COMP%]{padding-left:15px}"],i.a],data:{}});function x(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,[[1,0],["dropdown",1]],null,15,"div",[["class","btn-group pull-right"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,3,"button",[["class","btn btn-primary dropdown-toggle"],["type","button"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onOpenActions()&&u),u},null,null)),(l()(),u["\u0275eld"](2,0,null,null,0,"span",[["class","fa fa-plus-circle fa-spacing"]],null,null,null,null,null)),(l()(),u["\u0275ted"](3,null,[""," (2) "])),(l()(),u["\u0275eld"](4,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,null,10,"ul",[["class","dropdown-menu"]],[[4,"display",null]],null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,4,"li",[],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onMarkAllRead()&&u),u},null,null)),(l()(),u["\u0275eld"](7,0,null,null,3,"a",[],null,null,null,null,null)),(l()(),u["\u0275eld"](8,0,null,null,1,"button",[["class","btn btn-warning btnicon"]],null,null,null,null,null)),(l()(),u["\u0275eld"](9,0,null,null,0,"span",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),u["\u0275ted"](10,null,[" "," "])),(l()(),u["\u0275eld"](11,0,null,null,4,"li",[],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onDeleteAllRead()&&u),u},null,null)),(l()(),u["\u0275eld"](12,0,null,null,3,"a",[],null,null,null,null,null)),(l()(),u["\u0275eld"](13,0,null,null,1,"button",[["class","btn btn-danger btnicon"]],null,null,null,null,null)),(l()(),u["\u0275eld"](14,0,null,null,0,"span",[["class","fa fa-trash"]],null,null,null,null,null)),(l()(),u["\u0275ted"](15,null,[" "," "]))],null,function(l,n){var e=n.component;l(n,3,0,e.text.Actions),l(n,5,0,e.showActions?"block":"none"),l(n,10,0,e.text.MarkAllRead),l(n,15,0,e.text.DeleteAllReadNotifications)})}function C(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,0,"span",[["class","fa fa-times pull-right"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onCloseNotification()&&u),u},null,null))],null,null)}function y(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),u["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.text.NoRecentNotifications)})}function w(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-danger btn-xs btn-delete pull-right"],["type","button"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onDeleteNotification(l.parent.context.$implicit._id)&&u),u},null,null)),(l()(),u["\u0275eld"](1,0,null,null,0,"span",[["class","fa fa-trash"]],null,null,null,null,null))],null,null)}function R(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,12,"a",[["class","list-group-item"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSelectNotification(l.context.index)&&u),u},null,null)),(l()(),u["\u0275eld"](1,0,null,null,2,"span",[["class","read fa fa-spacing"]],null,null,null,null,null)),u["\u0275did"](2,278528,null,0,r.NgClass,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["\u0275pod"](3,{"fa-circle":0,"fa-circle-o":1}),(l()(),u["\u0275eld"](4,0,null,null,1,"span",[],[[2,"unread",null]],null,null,null,null)),(l()(),u["\u0275ted"](5,null,["",""])),(l()(),u["\u0275and"](16777216,null,null,1,null,w)),u["\u0275did"](7,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](8,0,null,null,4,"span",[["class","badge"]],[[2,"badgeMargin",null]],null,null,null,null)),(l()(),u["\u0275ted"](9,null,[" "," "," "," "])),u["\u0275ppd"](10,2),u["\u0275ppd"](11,2),u["\u0275ppd"](12,2)],function(l,n){l(n,2,0,"read fa fa-spacing",l(n,3,0,!n.context.$implicit.read,n.context.$implicit.read)),l(n,7,0,n.context.$implicit.read)},function(l,n){var e=n.component;l(n,4,0,!n.context.$implicit.read),l(n,5,0,n.context.$implicit.title),l(n,8,0,!n.context.$implicit.read),l(n,9,0,u["\u0275unv"](n,9,0,l(n,10,0,u["\u0275nov"](n.parent.parent.parent,0),n.context.$implicit.dt,"dd")),e.text[u["\u0275unv"](n,9,1,l(n,11,0,u["\u0275nov"](n.parent.parent.parent,0),n.context.$implicit.dt,"MMMM"))],u["\u0275unv"](n,9,2,l(n,12,0,u["\u0275nov"](n.parent.parent.parent,0),n.context.$implicit.dt,"yyyy")))})}function S(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"div",[["class","list-group"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,R)),u["\u0275did"](2,802816,null,0,r.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.notifications)},null)}function M(l){return u["\u0275vid"](0,[(l()(),u["\u0275and"](16777216,null,null,1,null,S)),u["\u0275did"](1,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),u["\u0275and"](0,null,null,0))],function(l,n){l(n,1,0,!n.component.currentNotification,u["\u0275nov"](n.parent,17))},null)}function k(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"div",[["kmPressed",""]],[[8,"innerHTML",1]],[[null,"hasKeyPressed"],["document","keydown"]],function(l,n,e){var t=!0,o=l.component;return"document:keydown"===n&&(t=!1!==u["\u0275nov"](l,1).keypress(e)&&t),"hasKeyPressed"===n&&(t=!1!==o.onKeyPressed(e)&&t),t},null,null)),u["\u0275did"](1,16384,null,0,s.a,[],null,{hasKeyPressed:"hasKeyPressed"}),(l()(),u["\u0275eld"](2,0,null,null,2,"div",[["class","badge pull-right"]],null,null,null,null,null)),(l()(),u["\u0275ted"](3,null,[" "," "])),u["\u0275ppd"](4,2),(l()(),u["\u0275eld"](5,0,null,null,3,"div",[["class","row buttons"]],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,2,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],function(l,n,e){var u=!0,t=l.component;return"click"===n&&(u=!1!==t.onDeleteNotification(t.currentNotification._id)&&u),u},null,null)),(l()(),u["\u0275eld"](7,0,null,null,0,"span",[["class","fa fa-trash"]],null,null,null,null,null)),(l()(),u["\u0275ted"](8,null,[" "," "]))],null,function(l,n){var e=n.component;l(n,0,0,e.currentNotification.message),l(n,3,0,u["\u0275unv"](n,3,0,l(n,4,0,u["\u0275nov"](n.parent,0),e.currentNotification.dt,"yyyy-MM-dd HH:mm"))),l(n,8,0,e.text.Delete)})}function O(l){return u["\u0275vid"](0,[u["\u0275pid"](0,r.DatePipe,[u.LOCALE_ID]),u["\u0275qud"](671088640,1,{el:0}),(l()(),u["\u0275eld"](2,0,null,null,13,"div",[["class","panel panel-default transparant"]],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,6,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),u["\u0275eld"](4,0,null,null,0,"span",[["class","fa fa-bell-o fa-spacing-title"]],null,null,null,null,null)),(l()(),u["\u0275ted"](5,null,[" "," "])),(l()(),u["\u0275and"](16777216,null,null,1,null,x)),u["\u0275did"](7,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,C)),u["\u0275did"](9,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](10,0,null,null,2,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,y)),u["\u0275did"](12,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),u["\u0275eld"](13,0,null,null,2,"div",[["class","info-msg"]],null,null,null,null,null)),(l()(),u["\u0275eld"](14,0,null,null,1,"km-info-msg",[],null,null,null,a.b,a.a)),u["\u0275did"](15,49152,null,0,c.a,[],{msg:[0,"msg"]},null),(l()(),u["\u0275and"](0,[["notificationsList",2]],null,0,null,M)),(l()(),u["\u0275and"](0,[["notificiationDetail",2]],null,0,null,k))],function(l,n){var e=n.component;l(n,7,0,!e.currentNotification),l(n,9,0,e.currentNotification),l(n,12,0,0===(null==e.notifications?null:e.notifications.length),u["\u0275nov"](n,16)),l(n,15,0,e.infoMsg)},function(l,n){var e=n.component;l(n,5,0,e.currentNotification?e.currentNotification.title:e.text.Notifications)})}var I=u["\u0275ccf"]("ng-component",v,function(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"ng-component",[],null,[["document","click"]],function(l,n,e){var t=!0;return"document:click"===n&&(t=!1!==u["\u0275nov"](l,1).clickout(e)&&t),t},O,b)),u["\u0275did"](1,245760,null,0,v,[h.a,h.l,f.a,d.a,p.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),P=e("uJ4E"),N=e("t7cx"),T=e("ZTXj"),F=e("8sTi"),A=function(){function l(l){this.elementRef=l,this.selectedUser=null,this.disabled=!1,this.userSelected=new u.EventEmitter,this.showDropdown=!1,this.dataReady=!1,this.gravatarSelected=0}return l.prototype.clickout=function(l){this.elementRef.nativeElement.contains(l.target)||(this.showDropdown=!1)},l.prototype.ngOnInit=function(){this.selectedUser||(this.selectedUser=this.users[0]),this.dataReady=!0},l.prototype.onToggleDropdown=function(){this.disabled||(this.showDropdown=!this.showDropdown,this.selectedDropdown=this.selectedUser._id)},l.prototype.onSelectUser=function(l){this.selectedUser=l,this.gravatarSelected=1-this.gravatarSelected,this.selectedDropdown=l._id,this.showDropdown=!1,this.userSelected.emit(l)},l.prototype.onHoverUser=function(l){this.selectedDropdown=l._id},l}(),_=u["\u0275crt"]({encapsulation:0,styles:[F.a],data:{}});function D(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"img",[["class","gravatar"],["kmGravatar",""]],null,null,null,null,null)),u["\u0275did"](1,81920,null,0,P.a,[u.ElementRef],{hash:[0,"hash"],width:[1,"width"]},null)],function(l,n){l(n,1,0,n.component.selectedUser.emailHash,20)},null)}function E(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"img",[["class","gravatar"],["kmGravatar",""]],null,null,null,null,null)),u["\u0275did"](1,81920,null,0,P.a,[u.ElementRef],{hash:[0,"hash"],width:[1,"width"]},null)],function(l,n){l(n,1,0,n.component.selectedUser.emailHash,20)},null)}function V(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null))],null,null)}function L(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,5,"li",[["class","list-group-item"]],null,[[null,"click"],[null,"mouseover"]],function(l,n,e){var u=!0,t=l.component;return"click"===n&&(u=!1!==t.onSelectUser(l.context.$implicit)&&u),"mouseover"===n&&(u=!1!==t.onHoverUser(l.context.$implicit)&&u),u},null,null)),u["\u0275did"](1,278528,null,0,r.NgClass,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["\u0275pod"](2,{active:0}),(l()(),u["\u0275eld"](3,0,null,null,1,"img",[["class","gravatar"],["kmGravatar",""]],null,null,null,null,null)),u["\u0275did"](4,81920,null,0,P.a,[u.ElementRef],{hash:[0,"hash"],width:[1,"width"]},null),(l()(),u["\u0275ted"](5,null,[" "," "]))],function(l,n){l(n,1,0,"list-group-item",l(n,2,0,n.context.$implicit._id===n.component.selectedDropdown)),l(n,4,0,n.context.$implicit.emailHash,20)},function(l,n){l(n,5,0,n.context.$implicit.userName)})}function $(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"ul",[["class","list-group dropdown"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,L)),u["\u0275did"](2,802816,null,0,r.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.users)},null)}function U(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,13,"div",[["class","selector"]],[[2,"disabled",null]],null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,10,"div",[["class","input-group col-xs-12"]],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,9,"div",[["class","btn btn-default btn-dropdown btn-lg"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onToggleDropdown()&&u),u},null,null)),(l()(),u["\u0275ted"](4,null,[" "," "])),(l()(),u["\u0275eld"](5,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,D)),u["\u0275did"](7,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,E)),u["\u0275did"](9,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275ted"](10,null,[" "," "])),(l()(),u["\u0275and"](16777216,null,null,1,null,V)),u["\u0275did"](12,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,$)),u["\u0275did"](14,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,7,0,0===e.gravatarSelected),l(n,9,0,1===e.gravatarSelected),l(n,12,0,!e.disabled),l(n,14,0,e.showDropdown)},function(l,n){var e=n.component;l(n,1,0,e.disabled),l(n,4,0,e.prefix),l(n,10,0,e.selectedUser.userName)})}function j(l){return u["\u0275vid"](0,[(l()(),u["\u0275and"](16777216,null,null,1,null,U)),u["\u0275did"](1,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.dataReady)},null)}var B=function(){function l(l,n,e,u,t){this.route=l,this.router=n,this.utilsService=e,this.userService=u,this.errorService=t,this.componentActive=!0,this.text={},this.showReply=!1,this.showNewMessage=!1,this.showActions=!1,this.isFromDashboard=!1,this.tab="inbox",this.infoMsg="",this.recipients=[]}return l.prototype.clickout=function(l){this.el&&!this.el.nativeElement.contains(l.target)&&(this.showActions=!1)},l.prototype.ngOnInit=function(){this.getTranslations(),this.fetchMessages()},l.prototype.onSelectTab=function(l){this.infoMsg="",this.tab=l,this.fetchMessages()},l.prototype.onOpenActions=function(){this.showActions=!this.showActions},l.prototype.onSelectMessage=function(l){this.selectMessage(this.messages[l]._id,l)},l.prototype.onCreateReply=function(l){this.infoMsg="",l.clearField(),this.showReply=!0},l.prototype.onCreateMessage=function(){this.infoMsg="",this.showActions=!1,this.showNewMessage=!0,this.getPossibleRecipients()},l.prototype.onSendReply=function(l,n){this.infoMsg="",this.sendReplyMessage(l,n)},l.prototype.onSendMessage=function(l){this.infoMsg="",this.selectedRecipient&&this.sendNewMessage(l)},l.prototype.onDeleteMessage=function(l){var n=this.isRecipient(l)?"recipient":"sender",e="sent"===this.tab||"trash"===this.tab?"deleted":"trash";this.messages=this.messages.filter(function(n){return n._id!==l._id}),this.deleteMessage(l._id,n,e),this.closeMessage()},l.prototype.onRecipientSelected=function(l,n){this.selectedRecipient=l,n.clearField()},l.prototype.onMarkAllRead=function(){this.infoMsg="",this.showActions=!1,this.markAllRead(),this.setAllMessagesAsRead()},l.prototype.onDeleteAllRead=function(){this.infoMsg="",this.showActions=!1,this.messages=this.messages.filter(function(l){return!l.recipient.read&&!l.recipient.trash}),this.deleteReadMessages()},l.prototype.onEmptyTrash=function(){this.infoMsg="",this.showActions=!1,this.messages=null,this.emptyTrash()},l.prototype.onCloseMessage=function(){this.closeMessage()},l.prototype.onKeyPressed=function(l){"Escape"===l&&this.closeMessage()},l.prototype.isRecipient=function(l){var n=!1;return this.userService.user._id===l.recipient.id&&(n=!0),n},l.prototype.getActionCount=function(){return"inbox"===this.tab?3:"sent"===this.tab?1:2},l.prototype.markAllRead=function(){this.messages.map(function(l){return l.recipient.read=!0}),this.userService.updateUnreadMessagesCount(!0)},l.prototype.closeMessage=function(){this.isFromDashboard?this.router.navigate(["/home"]):(this.infoMsg="",this.currentMessage=null,this.showActions=!1,this.showNewMessage=!1)},l.prototype.getCurrentMessage=function(){var l=this;this.route.params.pipe(Object(g.a)(function(){return l.componentActive}),Object(m.a)(function(l){return l.messageId})).subscribe(function(n){l.isFromDashboard=!0;var e=l.messages.findIndex(function(l){return l._id===n.messageId});l.selectMessage(n.messageId,e)})},l.prototype.selectMessage=function(l,n){this.parentMessage=null,this.infoMsg="",this.showReply=!1,isNaN(n)||(this.currentMessage=this.messages[n],!this.currentMessage.recipient.read&&this.isRecipient(this.currentMessage)&&(this.setMessageAsRead(n),"inbox"===this.tab&&this.userService.updateUnreadMessagesCount(!1)),this.currentMessage.parentId&&this.fetchParentMessage(this.currentMessage.parentId))},l.prototype.sendReplyMessage=function(l,n){this.showReply=!1;var e={recipient:{id:l.sender.id,userName:l.sender.userName,emailHash:l.sender.emailHash},sender:{id:this.userService.user._id,userName:this.userService.user.userName,emailHash:this.userService.user.emailHash},message:n,parentId:l._id.toString()};this.saveMessage(e,!0)},l.prototype.sendNewMessage=function(l){this.showNewMessage=!1,this.saveMessage({recipient:{id:this.selectedRecipient._id,userName:this.selectedRecipient.userName,emailHash:this.selectedRecipient.emailHash},sender:{id:this.userService.user._id,userName:this.userService.user.userName,emailHash:this.userService.user.emailHash},message:l},!1)},l.prototype.saveMessage=function(l,n){var e=this;this.userService.saveMessage(l).pipe(Object(g.a)(function(){return e.componentActive})).subscribe(function(u){e.showReply=!1,e.closeMessage(),e.infoMsg=n?e.text.ReplySent.replace("%s",l.recipient.userName):e.text.MessageSent.replace("%s",l.recipient.userName)},function(l){return e.errorService.handleError(l)})},l.prototype.setMessageAsRead=function(l){var n=this;this.userService.setMessageAsRead(this.messages[l]._id).pipe(Object(g.a)(function(){return n.componentActive})).subscribe(function(e){return n.messages[l].recipient.read=!0},function(l){return n.errorService.handleError(l)})},l.prototype.setAllMessagesAsRead=function(){var l=this;this.userService.setAllMessagesAsRead().pipe(Object(g.a)(function(){return l.componentActive})).subscribe(function(l){},function(n){return l.errorService.handleError(n)})},l.prototype.deleteMessage=function(l,n,e){var u=this;this.userService.deleteMessage(l,n,e).pipe(Object(g.a)(function(){return u.componentActive})).subscribe(function(l){return u.infoMsg=u.text.MessageDeleted},function(l){return u.errorService.handleError(l)})},l.prototype.deleteReadMessages=function(){var l=this;this.userService.deleteReadMessages().pipe(Object(g.a)(function(){return l.componentActive})).subscribe(function(n){return l.infoMsg=l.text.MessagesDeleted},function(n){return l.errorService.handleError(n)})},l.prototype.emptyTrash=function(){var l=this;this.userService.emptyTrash().pipe(Object(g.a)(function(){return l.componentActive})).subscribe(function(n){return l.infoMsg=l.text.MessagesDeleted},function(n){return l.errorService.handleError(n)})},l.prototype.fetchMessages=function(){var l=this;this.userService.fetchMessages(this.tab).pipe(Object(g.a)(function(){return l.componentActive})).subscribe(function(n){l.messages=n,n&&l.getCurrentMessage()},function(n){return l.errorService.handleError(n)})},l.prototype.fetchParentMessage=function(l){var n=this;this.userService.fetchMessage(l).pipe(Object(g.a)(function(){return n.componentActive})).subscribe(function(l){return n.parentMessage=l},function(l){return n.errorService.handleError(l)})},l.prototype.getPossibleRecipients=function(){var l=this;this.userService.fetchRecipients().pipe(Object(g.a)(function(){return l.componentActive})).subscribe(function(n){l.recipients=n,n.length>0&&(l.selectedRecipient=n[0])},function(n){return l.errorService.handleError(n)})},l.prototype.getTranslations=function(){var l=this;this.utilsService.fetchTranslations(this.userService.user.main.lan,"UserComponent").pipe(Object(g.a)(function(){return l.componentActive})).subscribe(function(n){n&&(l.text=l.utilsService.getTranslatedText(n),l.utilsService.setPageTitle(l.text,"PrivateMessages"))},function(n){return l.errorService.handleError(n)})},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),W=u["\u0275crt"]({encapsulation:0,styles:[i.a,["li[_ngcontent-%COMP%]{cursor:pointer}.messages[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-top:none;padding:4px}.read[_ngcontent-%COMP%]{margin-right:10px}.fa-circle[_ngcontent-%COMP%]{color:red}.badge[_ngcontent-%COMP%]{background-color:#ababab;border-radius:4px;position:relative;top:3px}.list-group-item[_ngcontent-%COMP%]{cursor:pointer}.fa-times[_ngcontent-%COMP%]{cursor:pointer;font-size:32px}.unread[_ngcontent-%COMP%]{font-weight:700}.btn-delete[_ngcontent-%COMP%]{margin-left:8px;margin-right:-7px}.btn-deleteall[_ngcontent-%COMP%]{margin-left:12px}.truncate[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:relative;top:5px}.content.truncate[_ngcontent-%COMP%]{width:400px}.user.truncate[_ngcontent-%COMP%]{width:130px;margin-right:6px}.fa-retweet[_ngcontent-%COMP%] + .user.truncate[_ngcontent-%COMP%]{width:116px}.parent[_ngcontent-%COMP%]{background-color:#ddd;border:1px solid #999;margin-left:16px;margin-top:8px;padding:8px;border-radius:4px;font-style:italic}.btnicon[_ngcontent-%COMP%]{padding:2px 6px;width:28px}.gravatar[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;margin-right:2px}.message-content[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;padding:6px;font-size:18px}.buttons[_ngcontent-%COMP%]{padding-left:15px}.reply[_ngcontent-%COMP%]{margin-top:32px}"]],data:{}});function K(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,4,"li",[],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onMarkAllRead()&&u),u},null,null)),(l()(),u["\u0275eld"](1,0,null,null,3,"a",[],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,1,"button",[["class","btn btn-warning btnicon"]],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,0,"span",[["class","fa fa-check fa-spacing"]],null,null,null,null,null)),(l()(),u["\u0275ted"](4,null,[" "," "]))],null,function(l,n){l(n,4,0,n.component.text.MarkAllRead)})}function H(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,4,"li",[],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onDeleteAllRead()&&u),u},null,null)),(l()(),u["\u0275eld"](1,0,null,null,3,"a",[],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,1,"button",[["class","btn btn-danger btnicon"]],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,0,"span",[["class","fa fa-trash fa-spacing"]],null,null,null,null,null)),(l()(),u["\u0275ted"](4,null,[" "," "]))],null,function(l,n){l(n,4,0,n.component.text.DeleteAllReadMessages)})}function q(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,4,"li",[],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onEmptyTrash()&&u),u},null,null)),(l()(),u["\u0275eld"](1,0,null,null,3,"a",[],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,1,"button",[["class","btn btn-danger btnicon"]],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,0,"span",[["class","fa fa-trash-o fa-spacing"]],null,null,null,null,null)),(l()(),u["\u0275ted"](4,null,[" "," "]))],null,function(l,n){l(n,4,0,n.component.text.EmptyTrash)})}function z(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,0,"li",[["class","divider"]],null,null,null,null,null))],null,null)}function G(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,[[1,0],["dropdown",1]],null,18,"div",[["class","btn-group pull-right"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,3,"button",[["class","btn btn-primary dropdown-toggle"],["type","button"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onOpenActions()&&u),u},null,null)),(l()(),u["\u0275eld"](2,0,null,null,0,"span",[["class","fa fa-plus-circle fa-spacing"]],null,null,null,null,null)),(l()(),u["\u0275ted"](3,null,[""," (",") "])),(l()(),u["\u0275eld"](4,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,null,13,"ul",[["class","dropdown-menu"]],[[4,"display",null]],null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,K)),u["\u0275did"](7,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,H)),u["\u0275did"](9,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,q)),u["\u0275did"](11,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,z)),u["\u0275did"](13,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](14,0,null,null,4,"li",[],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onCreateMessage()&&u),u},null,null)),(l()(),u["\u0275eld"](15,0,null,null,3,"a",[],null,null,null,null,null)),(l()(),u["\u0275eld"](16,0,null,null,1,"button",[["class","btn btn-primary btnicon"]],null,null,null,null,null)),(l()(),u["\u0275eld"](17,0,null,null,0,"span",[["class","fa fa-file-o fa-spacing"]],null,null,null,null,null)),(l()(),u["\u0275ted"](18,null,[" "," "]))],function(l,n){var e=n.component;l(n,7,0,"inbox"===e.tab),l(n,9,0,"inbox"===e.tab),l(n,11,0,"trash"===e.tab),l(n,13,0,"sent"!==e.tab)},function(l,n){var e=n.component;l(n,3,0,e.text.Actions,e.getActionCount()),l(n,5,0,e.showActions?"block":"none"),l(n,18,0,e.text.NewMessage)})}function Z(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,0,"span",[["class","fa fa-times pull-right"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onCloseMessage()&&u),u},null,null))],null,null)}function J(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"span",[["class","fa fa-spacing"]],null,null,null,null,null)),u["\u0275did"](1,278528,null,0,r.NgClass,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["\u0275pod"](2,{"fa-circle":0,"fa-circle-o":1})],function(l,n){l(n,1,0,"fa fa-spacing",l(n,2,0,!n.parent.context.$implicit.recipient.read,n.parent.context.$implicit.recipient.read))},null)}function X(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-danger btn-xs btn-delete pull-right"],["type","button"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onDeleteMessage(l.parent.context.$implicit)&&u),u},null,null)),(l()(),u["\u0275eld"](1,0,null,null,0,"span",[["class","fa fa-trash"]],null,null,null,null,null))],null,null)}function Y(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,14,"a",[["class","list-group-item"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSelectMessage(l.context.index)&&u),u},null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,J)),u["\u0275did"](2,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](3,0,null,null,0,"span",[["class","fa fa-spacing"]],[[2,"fa-retweet",null]],null,null,null,null)),(l()(),u["\u0275eld"](4,0,null,null,1,"span",[["class","user truncate"]],null,null,null,null,null)),(l()(),u["\u0275ted"](5,null,[" "," "])),(l()(),u["\u0275eld"](6,0,null,null,1,"span",[["class","content truncate"]],[[2,"unread",null]],null,null,null,null)),(l()(),u["\u0275ted"](7,null,[" "," "])),(l()(),u["\u0275and"](16777216,null,null,1,null,X)),u["\u0275did"](9,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](10,0,null,null,4,"span",[["class","badge"]],[[2,"badgeMargin",null]],null,null,null,null)),(l()(),u["\u0275ted"](11,null,[" "," "," "," "])),u["\u0275ppd"](12,2),u["\u0275ppd"](13,2),u["\u0275ppd"](14,2)],function(l,n){var e=n.component;l(n,2,0,e.isRecipient(n.context.$implicit)),l(n,9,0,n.context.$implicit.recipient.read||!e.isRecipient(n.context.$implicit))},function(l,n){var e=n.component;l(n,3,0,!!n.context.$implicit.parentId),l(n,5,0,e.isRecipient(n.context.$implicit)?n.context.$implicit.sender.userName:n.context.$implicit.recipient.userName),l(n,6,0,!n.context.$implicit.recipient.read&&e.isRecipient(n.context.$implicit)),l(n,7,0,n.context.$implicit.message),l(n,10,0,!n.context.$implicit.recipient.read),l(n,11,0,u["\u0275unv"](n,11,0,l(n,12,0,u["\u0275nov"](n.parent.parent.parent,0),n.context.$implicit.dt,"dd")),e.text[u["\u0275unv"](n,11,1,l(n,13,0,u["\u0275nov"](n.parent.parent.parent,0),n.context.$implicit.dt,"MMMM"))],u["\u0275unv"](n,11,2,l(n,14,0,u["\u0275nov"](n.parent.parent.parent,0),n.context.$implicit.dt,"yyyy HH:mm")))})}function Q(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,3,"div",[["class","messages"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,2,"div",[["class","list-group"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,Y)),u["\u0275did"](3,802816,null,0,r.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,3,0,n.component.messages)},null)}function ll(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,15,"div",[],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,12,"ul",[["class","nav nav-tabs"]],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,3,"li",[],[[2,"active",null]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSelectTab("inbox")&&u),u},null,null)),(l()(),u["\u0275eld"](3,0,null,null,2,"a",[],null,null,null,null,null)),(l()(),u["\u0275eld"](4,0,null,null,0,"span",[["class","fa fa-envelope fa-spacing"]],null,null,null,null,null)),(l()(),u["\u0275ted"](5,null,[" "," "])),(l()(),u["\u0275eld"](6,0,null,null,3,"li",[],[[2,"active",null]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSelectTab("sent")&&u),u},null,null)),(l()(),u["\u0275eld"](7,0,null,null,2,"a",[],null,null,null,null,null)),(l()(),u["\u0275eld"](8,0,null,null,0,"span",[["class","fa fa-location-arrow fa-spacing"]],null,null,null,null,null)),(l()(),u["\u0275ted"](9,null,[" "," "])),(l()(),u["\u0275eld"](10,0,null,null,3,"li",[],[[2,"active",null]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSelectTab("trash")&&u),u},null,null)),(l()(),u["\u0275eld"](11,0,null,null,2,"a",[],null,null,null,null,null)),(l()(),u["\u0275eld"](12,0,null,null,0,"span",[["class","fa fa-trash fa-spacing"]],null,null,null,null,null)),(l()(),u["\u0275ted"](13,null,[" "," "])),(l()(),u["\u0275and"](16777216,null,null,1,null,Q)),u["\u0275did"](15,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null)],function(l,n){var e=n.component;l(n,15,0,e.messages&&e.messages[0],u["\u0275nov"](n.parent,18))},function(l,n){var e=n.component;l(n,2,0,"inbox"===e.tab),l(n,5,0,e.text.Inbox),l(n,6,0,"sent"===e.tab),l(n,9,0,e.text.Sent),l(n,10,0,"trash"===e.tab),l(n,13,0,e.text.Trash)})}function nl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"div",[["class","messages"]],null,null,null,null,null)),(l()(),u["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.text.NoMessages)})}function el(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,1,"img",[["kmGravatar",""]],null,null,null,null,null)),u["\u0275did"](2,81920,null,0,P.a,[u.ElementRef],{hash:[0,"hash"],width:[1,"width"]},null)],function(l,n){l(n,2,0,n.component.currentMessage.sender.emailHash,16)},null)}function ul(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,1,"img",[["kmGravatar",""]],null,null,null,null,null)),u["\u0275did"](2,81920,null,0,P.a,[u.ElementRef],{hash:[0,"hash"],width:[1,"width"]},null)],function(l,n){l(n,2,0,n.component.currentMessage.recipient.emailHash,16)},null)}function tl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"div",[["class","parent"]],null,null,null,null,null)),(l()(),u["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.parentMessage.message)})}function ol(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCreateReply(u["\u0275nov"](l.parent.parent,31))&&t),t},null,null)),(l()(),u["\u0275eld"](1,0,null,null,0,"span",[["class","fa fa-reply"]],null,null,null,null,null)),(l()(),u["\u0275ted"](2,null,[" "," "]))],null,function(l,n){l(n,2,0,n.component.text.Reply)})}function il(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],function(l,n,e){var u=!0,t=l.component;return"click"===n&&(u=!1!==t.onDeleteMessage(t.currentMessage)&&u),u},null,null)),(l()(),u["\u0275eld"](1,0,null,null,0,"span",[["class","fa fa-trash"]],null,null,null,null,null)),(l()(),u["\u0275ted"](2,null,[" "," "]))],null,function(l,n){l(n,2,0,n.component.text.Delete)})}function rl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,4,"div",[["class","row buttons"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,ol)),u["\u0275did"](2,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,il)),u["\u0275did"](4,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.isRecipient(e.currentMessage)),l(n,4,0,"inbox"===e.tab)},null)}function sl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,31,"div",[["class","message"],["kmPressed",""]],null,[[null,"hasKeyPressed"],["document","keydown"]],function(l,n,e){var t=!0,o=l.component;return"document:keydown"===n&&(t=!1!==u["\u0275nov"](l,1).keypress(e)&&t),"hasKeyPressed"===n&&(t=!1!==o.onKeyPressed(e)&&t),t},null,null)),u["\u0275did"](1,16384,null,0,s.a,[],null,{hasKeyPressed:"hasKeyPressed"}),(l()(),u["\u0275eld"](2,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,1,"label",[["class","control-label col-xs-1"]],null,null,null,null,null)),(l()(),u["\u0275ted"](4,null,[" "," "])),(l()(),u["\u0275eld"](5,0,null,null,4,"div",[["class","col-xs-11"]],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,2,"span",[["class","gravatar"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,el)),u["\u0275did"](8,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275ted"](9,null,[" "," "])),(l()(),u["\u0275eld"](10,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),u["\u0275eld"](11,0,null,null,1,"label",[["class","control-label col-xs-1"]],null,null,null,null,null)),(l()(),u["\u0275ted"](12,null,[" "," "])),(l()(),u["\u0275eld"](13,0,null,null,4,"div",[["class","col-xs-11"]],null,null,null,null,null)),(l()(),u["\u0275eld"](14,0,null,null,2,"span",[["class","gravatar"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,ul)),u["\u0275did"](16,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275ted"](17,null,[" "," "])),(l()(),u["\u0275eld"](18,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),u["\u0275eld"](19,0,null,null,4,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),u["\u0275eld"](20,0,null,null,3,"div",[["class","message-content"]],null,null,null,null,null)),(l()(),u["\u0275ted"](21,null,[" "," "])),(l()(),u["\u0275and"](16777216,null,null,1,null,tl)),u["\u0275did"](23,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](24,0,null,null,2,"div",[["class","badge pull-right"]],null,null,null,null,null)),(l()(),u["\u0275ted"](25,null,[" "," "])),u["\u0275ppd"](26,2),(l()(),u["\u0275and"](16777216,null,null,1,null,rl)),u["\u0275did"](28,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](29,0,null,null,2,"div",[["class","reply"]],[[4,"display",null]],null,null,null,null)),(l()(),u["\u0275eld"](30,0,null,null,1,"km-message",[],null,[[null,"send"]],function(l,n,e){var u=!0,t=l.component;return"send"===n&&(u=!1!==t.onSendReply(t.currentMessage,e)&&u),u},N.b,N.a)),u["\u0275did"](31,49152,[["replyField",4]],0,T.a,[],{sendTxt:[0,"sendTxt"]},{send:"send"})],function(l,n){var e=n.component;l(n,8,0,e.currentMessage.sender.emailHash),l(n,16,0,e.currentMessage.recipient.emailHash),l(n,23,0,e.currentMessage.parentId&&e.parentMessage),l(n,28,0,!e.showReply),l(n,31,0,e.text.Send)},function(l,n){var e=n.component;l(n,4,0,e.text.From),l(n,9,0,e.currentMessage.sender.userName),l(n,12,0,e.text.To),l(n,17,0,e.currentMessage.recipient.userName),l(n,21,0,e.currentMessage.message),l(n,25,0,u["\u0275unv"](n,25,0,l(n,26,0,u["\u0275nov"](n.parent.parent,0),e.currentMessage.dt,"yyyy-MM-dd HH:mm"))),l(n,29,0,e.showReply?"block":"none")})}function al(l){return u["\u0275vid"](0,[(l()(),u["\u0275and"](16777216,null,null,1,null,sl)),u["\u0275did"](1,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),u["\u0275and"](0,null,null,0))],function(l,n){l(n,1,0,!n.component.showNewMessage,u["\u0275nov"](n.parent,20))},null)}function cl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"km-user-selector",[],null,[[null,"userSelected"],["document","click"]],function(l,n,e){var t=!0,o=l.component;return"document:click"===n&&(t=!1!==u["\u0275nov"](l,1).clickout(e)&&t),"userSelected"===n&&(t=!1!==o.onRecipientSelected(e,u["\u0275nov"](l.parent,6))&&t),t},j,_)),u["\u0275did"](1,114688,null,0,A,[u.ElementRef],{prefix:[0,"prefix"],users:[1,"users"],selectedUser:[2,"selectedUser"]},{userSelected:"userSelected"})],function(l,n){var e=n.component;l(n,1,0,e.text.To+":",e.recipients,e.selectedRecipient)},null)}function dl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,6,"div",[["kmPressed",""]],null,[[null,"hasKeyPressed"],["document","keydown"]],function(l,n,e){var t=!0,o=l.component;return"document:keydown"===n&&(t=!1!==u["\u0275nov"](l,1).keypress(e)&&t),"hasKeyPressed"===n&&(t=!1!==o.onKeyPressed(e)&&t),t},null,null)),u["\u0275did"](1,16384,null,0,s.a,[],null,{hasKeyPressed:"hasKeyPressed"}),(l()(),u["\u0275and"](16777216,null,null,1,null,cl)),u["\u0275did"](3,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](4,0,null,null,2,"div",[],[[4,"display",null]],null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,null,1,"km-message",[],null,[[null,"send"]],function(l,n,e){var u=!0;return"send"===n&&(u=!1!==l.component.onSendMessage(e)&&u),u},N.b,N.a)),u["\u0275did"](6,49152,[["msgField",4]],0,T.a,[],{sendTxt:[0,"sendTxt"]},{send:"send"})],function(l,n){var e=n.component;l(n,3,0,e.recipients[0]),l(n,6,0,e.text.Send)},function(l,n){l(n,4,0,n.component.selectedRecipient?"block":"none")})}function pl(l){return u["\u0275vid"](0,[u["\u0275pid"](0,r.DatePipe,[u.LOCALE_ID]),u["\u0275qud"](671088640,1,{el:0}),(l()(),u["\u0275eld"](2,0,null,null,18,"div",[["class","panel panel-default transparant"]],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,8,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),u["\u0275eld"](4,0,null,null,2,"span",[["class","fa fa-spacing-title"]],null,null,null,null,null)),u["\u0275did"](5,278528,null,0,r.NgClass,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["\u0275pod"](6,{"fa-envelope-open-o":0,"fa-envelope-o":1}),(l()(),u["\u0275ted"](7,null,[" "," "])),(l()(),u["\u0275and"](16777216,null,null,1,null,G)),u["\u0275did"](9,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,Z)),u["\u0275did"](11,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](12,0,null,null,5,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,ll)),u["\u0275did"](14,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),u["\u0275eld"](15,0,null,null,2,"div",[["class","info-msg"]],null,null,null,null,null)),(l()(),u["\u0275eld"](16,0,null,null,1,"km-info-msg",[],null,null,null,a.b,a.a)),u["\u0275did"](17,49152,null,0,c.a,[],{msg:[0,"msg"]},null),(l()(),u["\u0275and"](0,[["nomessages",2]],null,0,null,nl)),(l()(),u["\u0275and"](0,[["messageDetail",2]],null,0,null,al)),(l()(),u["\u0275and"](0,[["newMessage",2]],null,0,null,dl))],function(l,n){var e=n.component;l(n,5,0,"fa fa-spacing-title",l(n,6,0,e.currentMessage||e.showNewMessage,!(e.currentMessage||e.showNewMessage))),l(n,9,0,!e.currentMessage&&!e.showNewMessage),l(n,11,0,e.currentMessage||e.showNewMessage),l(n,14,0,!e.currentMessage&&!e.showNewMessage,u["\u0275nov"](n,19)),l(n,17,0,e.infoMsg)},function(l,n){var e=n.component;l(n,7,0,e.currentMessage?e.text.Message:e.showNewMessage?e.text.NewMessage:e.text.PrivateMessages)})}var fl=u["\u0275ccf"]("ng-component",B,function(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"ng-component",[],null,[["document","click"]],function(l,n,e){var t=!0;return"document:click"===n&&(t=!1!==u["\u0275nov"](l,1).clickout(e)&&t),t},pl,W)),u["\u0275did"](1,245760,null,0,B,[h.a,h.l,f.a,d.a,p.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),gl=e("gIcY"),ml=function(){function l(l,n,e,u,t){this.router=l,this.formBuilder=n,this.utilsService=e,this.userService=u,this.errorService=t,this.componentActive=!0,this.text={},this.isFormReady=!1}return l.prototype.ngOnInit=function(){this.getTranslations(),this.fetchProfile()},l.prototype.onUpdateProfile=function(l){if(l.valid){var n=this.buildProfile(l.value);this.updateProfile(n)}},l.prototype.onEditGravatar=function(){window.open("https://gravatar.com/emails/","_blank")},l.prototype.onGoToPublicProfile=function(){var l=this.userService.user.userName.toLowerCase();this.router.navigate(["/u/"+l])},l.prototype.getHash=function(){return this.userService.user?this.userService.user.emailHash:""},l.prototype.fetchProfile=function(){var l=this;this.userService.getProfile().pipe(Object(g.a)(function(){return l.componentActive})).subscribe(function(n){l.buildForm(n)},function(n){return l.errorService.handleError(n)})},l.prototype.updateProfile=function(l){var n=this;this.userService.saveProfile(l).pipe(Object(g.a)(function(){return n.componentActive})).subscribe(function(l){n.infoMsg=n.text.ProfileUpdated,n.profileForm.markAsPristine()},function(l){return n.errorService.handleError(l)})},l.prototype.buildProfile=function(l){return{bio:l.bio,realName:l.realName,location:l.location,nativeLan:l.nativeLan,timeZone:l.timeZone}},l.prototype.buildForm=function(l){this.profileForm=this.formBuilder.group({bio:[l.bio],realName:[l.realName],location:[l.location],nativeLan:[l.nativeLan],timeZone:[l.timeZone]}),this.isFormReady=!0},l.prototype.getTranslations=function(){var l=this;this.utilsService.fetchTranslations(this.userService.user.main.lan,"UserComponent").pipe(Object(g.a)(function(){return l.componentActive})).subscribe(function(n){n&&(l.text=l.utilsService.getTranslatedText(n),l.utilsService.setPageTitle(l.text,"Profile"))},function(n){return l.errorService.handleError(n)})},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),vl=u["\u0275crt"]({encapsulation:0,styles:[i.a],data:{}});function hl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-primary btn-lg"],["type","button"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onGoToPublicProfile()&&u),u},null,null)),(l()(),u["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.text.ViewProfile)})}function bl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,58,"form",[["class","form-horizontal"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u["\u0275nov"](l,2).onSubmit(e)&&t),"reset"===n&&(t=!1!==u["\u0275nov"](l,2).onReset()&&t),t},null,null)),u["\u0275did"](1,16384,null,0,gl.z,[],null,null),u["\u0275did"](2,540672,null,0,gl.j,[[8,null],[8,null]],{form:[0,"form"]},null),u["\u0275prd"](2048,null,gl.c,null,[gl.j]),u["\u0275did"](4,16384,null,0,gl.r,[[4,gl.c]],null,null),(l()(),u["\u0275eld"](5,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,1,"label",[["class","control-label col-xs-2"],["for","bio"]],null,null,null,null,null)),(l()(),u["\u0275ted"](7,null,[" "," "])),(l()(),u["\u0275eld"](8,0,null,null,8,"div",[["class","col-xs-10"]],null,null,null,null,null)),(l()(),u["\u0275eld"](9,0,null,null,7,"textarea",[["class","form-control input-lg bio"],["formControlName","bio"],["id","bio"],["maxlength","500"]],[[8,"placeholder",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u["\u0275nov"](l,10)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u["\u0275nov"](l,10).onTouched()&&t),"compositionstart"===n&&(t=!1!==u["\u0275nov"](l,10)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u["\u0275nov"](l,10)._compositionEnd(e.target.value)&&t),t},null,null)),u["\u0275did"](10,16384,null,0,gl.d,[u.Renderer2,u.ElementRef,[2,gl.a]],null,null),u["\u0275did"](11,540672,null,0,gl.l,[],{maxlength:[0,"maxlength"]},null),u["\u0275prd"](1024,null,gl.n,function(l){return[l]},[gl.l]),u["\u0275prd"](1024,null,gl.o,function(l){return[l]},[gl.d]),u["\u0275did"](14,671744,null,0,gl.i,[[3,gl.c],[6,gl.n],[8,null],[6,gl.o],[2,gl.B]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,gl.p,null,[gl.i]),u["\u0275did"](16,16384,null,0,gl.q,[[4,gl.p]],null,null),(l()(),u["\u0275eld"](17,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](18,0,null,null,1,"label",[["class","control-label col-xs-2"],["for","realName"]],null,null,null,null,null)),(l()(),u["\u0275ted"](19,null,[" "," "])),(l()(),u["\u0275eld"](20,0,null,null,8,"div",[["class","col-xs-10"]],null,null,null,null,null)),(l()(),u["\u0275eld"](21,0,null,null,7,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","realName"],["id","realName"],["maxlength","50"]],[[8,"placeholder",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u["\u0275nov"](l,22)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u["\u0275nov"](l,22).onTouched()&&t),"compositionstart"===n&&(t=!1!==u["\u0275nov"](l,22)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u["\u0275nov"](l,22)._compositionEnd(e.target.value)&&t),t},null,null)),u["\u0275did"](22,16384,null,0,gl.d,[u.Renderer2,u.ElementRef,[2,gl.a]],null,null),u["\u0275did"](23,540672,null,0,gl.l,[],{maxlength:[0,"maxlength"]},null),u["\u0275prd"](1024,null,gl.n,function(l){return[l]},[gl.l]),u["\u0275prd"](1024,null,gl.o,function(l){return[l]},[gl.d]),u["\u0275did"](26,671744,null,0,gl.i,[[3,gl.c],[6,gl.n],[8,null],[6,gl.o],[2,gl.B]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,gl.p,null,[gl.i]),u["\u0275did"](28,16384,null,0,gl.q,[[4,gl.p]],null,null),(l()(),u["\u0275eld"](29,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](30,0,null,null,1,"label",[["class","control-label col-xs-2"],["for","location"]],null,null,null,null,null)),(l()(),u["\u0275ted"](31,null,[" "," "])),(l()(),u["\u0275eld"](32,0,null,null,8,"div",[["class","col-xs-10"]],null,null,null,null,null)),(l()(),u["\u0275eld"](33,0,null,null,7,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","location"],["id","location"],["maxlength","50"]],[[8,"placeholder",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u["\u0275nov"](l,34)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u["\u0275nov"](l,34).onTouched()&&t),"compositionstart"===n&&(t=!1!==u["\u0275nov"](l,34)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u["\u0275nov"](l,34)._compositionEnd(e.target.value)&&t),t},null,null)),u["\u0275did"](34,16384,null,0,gl.d,[u.Renderer2,u.ElementRef,[2,gl.a]],null,null),u["\u0275did"](35,540672,null,0,gl.l,[],{maxlength:[0,"maxlength"]},null),u["\u0275prd"](1024,null,gl.n,function(l){return[l]},[gl.l]),u["\u0275prd"](1024,null,gl.o,function(l){return[l]},[gl.d]),u["\u0275did"](38,671744,null,0,gl.i,[[3,gl.c],[6,gl.n],[8,null],[6,gl.o],[2,gl.B]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,gl.p,null,[gl.i]),u["\u0275did"](40,16384,null,0,gl.q,[[4,gl.p]],null,null),(l()(),u["\u0275eld"](41,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](42,0,null,null,1,"label",[["class","control-label col-xs-2"],["for","nativeLan"]],null,null,null,null,null)),(l()(),u["\u0275ted"](43,null,[" "," "])),(l()(),u["\u0275eld"](44,0,null,null,8,"div",[["class","col-xs-10"]],null,null,null,null,null)),(l()(),u["\u0275eld"](45,0,null,null,7,"input",[["autocomplete","off"],["class","form-control input-lg"],["formControlName","nativeLan"],["id","nativeLan"],["maxlength","50"]],[[8,"placeholder",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u["\u0275nov"](l,46)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u["\u0275nov"](l,46).onTouched()&&t),"compositionstart"===n&&(t=!1!==u["\u0275nov"](l,46)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u["\u0275nov"](l,46)._compositionEnd(e.target.value)&&t),t},null,null)),u["\u0275did"](46,16384,null,0,gl.d,[u.Renderer2,u.ElementRef,[2,gl.a]],null,null),u["\u0275did"](47,540672,null,0,gl.l,[],{maxlength:[0,"maxlength"]},null),u["\u0275prd"](1024,null,gl.n,function(l){return[l]},[gl.l]),u["\u0275prd"](1024,null,gl.o,function(l){return[l]},[gl.d]),u["\u0275did"](50,671744,null,0,gl.i,[[3,gl.c],[6,gl.n],[8,null],[6,gl.o],[2,gl.B]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,gl.p,null,[gl.i]),u["\u0275did"](52,16384,null,0,gl.q,[[4,gl.p]],null,null),(l()(),u["\u0275eld"](53,0,null,null,5,"div",[["class","form-group buttons"]],null,null,null,null,null)),(l()(),u["\u0275eld"](54,0,null,null,4,"div",[["class","col-xs-9 col-xs-offset-3"]],null,null,null,null,null)),(l()(),u["\u0275eld"](55,0,null,null,1,"button",[["class","btn btn-success btn-lg"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var u=!0,t=l.component;return"click"===n&&(u=!1!==t.onUpdateProfile(t.profileForm)&&u),u},null,null)),(l()(),u["\u0275ted"](56,null,[" "," "])),(l()(),u["\u0275and"](16777216,null,null,1,null,hl)),u["\u0275did"](58,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.profileForm),l(n,11,0,"500"),l(n,14,0,"bio"),l(n,23,0,"50"),l(n,26,0,"realName"),l(n,35,0,"50"),l(n,38,0,"location"),l(n,47,0,"50"),l(n,50,0,"nativeLan"),l(n,58,0,!e.profileForm.dirty)},function(l,n){var e=n.component;l(n,0,0,u["\u0275nov"](n,4).ngClassUntouched,u["\u0275nov"](n,4).ngClassTouched,u["\u0275nov"](n,4).ngClassPristine,u["\u0275nov"](n,4).ngClassDirty,u["\u0275nov"](n,4).ngClassValid,u["\u0275nov"](n,4).ngClassInvalid,u["\u0275nov"](n,4).ngClassPending),l(n,7,0,e.text.Bio),l(n,9,0,e.text.EnterBio||"",u["\u0275nov"](n,11).maxlength?u["\u0275nov"](n,11).maxlength:null,u["\u0275nov"](n,16).ngClassUntouched,u["\u0275nov"](n,16).ngClassTouched,u["\u0275nov"](n,16).ngClassPristine,u["\u0275nov"](n,16).ngClassDirty,u["\u0275nov"](n,16).ngClassValid,u["\u0275nov"](n,16).ngClassInvalid,u["\u0275nov"](n,16).ngClassPending),l(n,19,0,e.text.RealName),l(n,21,0,e.text.EnterRealName||"",u["\u0275nov"](n,23).maxlength?u["\u0275nov"](n,23).maxlength:null,u["\u0275nov"](n,28).ngClassUntouched,u["\u0275nov"](n,28).ngClassTouched,u["\u0275nov"](n,28).ngClassPristine,u["\u0275nov"](n,28).ngClassDirty,u["\u0275nov"](n,28).ngClassValid,u["\u0275nov"](n,28).ngClassInvalid,u["\u0275nov"](n,28).ngClassPending),l(n,31,0,e.text.Location),l(n,33,0,e.text.EnterLocation||"",u["\u0275nov"](n,35).maxlength?u["\u0275nov"](n,35).maxlength:null,u["\u0275nov"](n,40).ngClassUntouched,u["\u0275nov"](n,40).ngClassTouched,u["\u0275nov"](n,40).ngClassPristine,u["\u0275nov"](n,40).ngClassDirty,u["\u0275nov"](n,40).ngClassValid,u["\u0275nov"](n,40).ngClassInvalid,u["\u0275nov"](n,40).ngClassPending),l(n,43,0,e.text.NativeLanguage),l(n,45,0,e.text.EnterNativeLanguage||"",u["\u0275nov"](n,47).maxlength?u["\u0275nov"](n,47).maxlength:null,u["\u0275nov"](n,52).ngClassUntouched,u["\u0275nov"](n,52).ngClassTouched,u["\u0275nov"](n,52).ngClassPristine,u["\u0275nov"](n,52).ngClassDirty,u["\u0275nov"](n,52).ngClassValid,u["\u0275nov"](n,52).ngClassInvalid,u["\u0275nov"](n,52).ngClassPending),l(n,55,0,!e.profileForm.valid||!e.profileForm.dirty),l(n,56,0,e.text.UpdateProfile)})}function xl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,15,"div",[["class","panel panel-default transparant"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,2,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,0,"span",[["class","fa fa-user-o fa-spacing-title"]],null,null,null,null,null)),(l()(),u["\u0275ted"](3,null,[""," "])),(l()(),u["\u0275eld"](4,0,null,null,11,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,6,"div",[["class","col-xs-2"]],null,null,null,null,null)),(l()(),u["\u0275eld"](7,0,null,null,5,"div",[["class","gravatar col-xs-2"]],null,null,null,null,null)),(l()(),u["\u0275eld"](8,0,null,null,1,"img",[["kmGravatar",""]],null,null,null,null,null)),u["\u0275did"](9,81920,null,0,P.a,[u.ElementRef],{hash:[0,"hash"],width:[1,"width"]},null),(l()(),u["\u0275eld"](10,0,null,null,2,"button",[["class","btn btn-xs btn-warning btn-gravatar"],["type","button"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onEditGravatar()&&u),u},null,null)),(l()(),u["\u0275eld"](11,0,null,null,0,"span",[["class","fa fa-share"]],null,null,null,null,null)),(l()(),u["\u0275ted"](12,null,[" "," "])),(l()(),u["\u0275eld"](13,0,null,null,2,"div",[["class","col-xs-10"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,bl)),u["\u0275did"](15,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](16,0,null,null,2,"div",[["class","info-msg"]],null,null,null,null,null)),(l()(),u["\u0275eld"](17,0,null,null,1,"km-info-msg",[],null,null,null,a.b,a.a)),u["\u0275did"](18,49152,null,0,c.a,[],{msg:[0,"msg"]},null)],function(l,n){var e=n.component;l(n,9,0,e.getHash(),96),l(n,15,0,e.isFormReady),l(n,18,0,e.infoMsg)},function(l,n){var e=n.component;l(n,3,0,e.text.Profile),l(n,12,0,e.text.EditGravatar)})}var Cl=u["\u0275ccf"]("ng-component",ml,function(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,xl,vl)),u["\u0275did"](1,245760,null,0,ml,[h.l,gl.f,f.a,d.a,p.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),yl=e("Cnnh"),wl=e("bwbC"),Rl=function(){function l(l,n,e,u){this.formBuilder=l,this.utilsService=n,this.userService=e,this.errorService=u,this.componentActive=!0,this.isFormReady=!1}return l.prototype.ngOnInit=function(){this.fetchSettings(),this.setFormData()},l.prototype.onSetFlag=function(l,n){var e;this.learnForm.patchValue(((e={})[l]=n,e)),this.learnForm.markAsDirty(),this.infoMsg=""},l.prototype.onChangeField=function(){this.infoMsg=""},l.prototype.onUpdateSettings=function(l){if(l.valid){var n=this.buildSettings(l.value);this.updateSettings(n)}},l.prototype.fetchSettings=function(){var l=this;this.userService.getLearnSettings().pipe(Object(g.a)(function(){return l.componentActive})).subscribe(function(n){l.buildForm(n)},function(n){return l.errorService.handleError(n)})},l.prototype.updateSettings=function(l){var n=this;this.userService.saveLearnSettings(l).pipe(Object(g.a)(function(){return n.componentActive})).subscribe(function(e){n.userService.updateUserSettings(l),n.infoMsg=n.text.SettingsUpdated,n.learnForm.markAsPristine()},function(l){return n.errorService.handleError(l)})},l.prototype.buildSettings=function(l){return{lan:l.lan,nrOfWordsStudy:parseInt(l.nrOfWordsStudy,10),nrOfWordsLearn:parseInt(l.nrOfWordsLearn,10),nrOfWordsReview:parseInt(l.nrOfWordsReview,10),nrOfWordsStudyRepeat:parseInt(l.nrOfWordsStudyRepeat,10),nrOfWordsLearnRepeat:parseInt(l.nrOfWordsLearnRepeat,10),countdown:l.countDown,mute:l.mute,color:l.color,delay:parseInt(l.delay,10),keyboard:l.keyboard}},l.prototype.buildForm=function(l){this.learnForm=this.formBuilder.group({color:[l.color],countDown:[l.countdown],delay:[l.delay||3],keyboard:[l.keyboard],lan:[l.lan],mute:[l.mute],nrOfWordsStudy:[l.nrOfWordsStudy||5],nrOfWordsLearn:[l.nrOfWordsLearn||5],nrOfWordsReview:[l.nrOfWordsReview||5],nrOfWordsStudyRepeat:[l.nrOfWordsStudyRepeat||10],nrOfWordsLearnRepeat:[l.nrOfWordsLearnRepeat||10]}),this.isFormReady=!0},l.prototype.setFormData=function(){this.formData={nrofwords:[3,5,7,10,20],delays:[1,2,3,5,9]}},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),Sl=u["\u0275crt"]({encapsulation:0,styles:[i.a],data:{}});function Ml(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),u["\u0275did"](1,147456,null,0,gl.t,[u.ElementRef,u.Renderer2,[2,gl.w]],{value:[0,"value"]},null),u["\u0275did"](2,147456,null,0,gl.C,[u.ElementRef,u.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),u["\u0275ted"](3,null,[" ","-"," "]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit-1,n.context.$implicit+2)})}function kl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),u["\u0275did"](1,147456,null,0,gl.t,[u.ElementRef,u.Renderer2,[2,gl.w]],{value:[0,"value"]},null),u["\u0275did"](2,147456,null,0,gl.C,[u.ElementRef,u.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),u["\u0275ted"](3,null,[" ","-"," "]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit-1,n.context.$implicit+2)})}function Ol(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),u["\u0275did"](1,147456,null,0,gl.t,[u.ElementRef,u.Renderer2,[2,gl.w]],{value:[0,"value"]},null),u["\u0275did"](2,147456,null,0,gl.C,[u.ElementRef,u.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),u["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit)})}function Il(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),u["\u0275did"](1,147456,null,0,gl.t,[u.ElementRef,u.Renderer2,[2,gl.w]],{value:[0,"value"]},null),u["\u0275did"](2,147456,null,0,gl.C,[u.ElementRef,u.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),u["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit)})}function Pl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),u["\u0275did"](1,147456,null,0,gl.t,[u.ElementRef,u.Renderer2,[2,gl.w]],{value:[0,"value"]},null),u["\u0275did"](2,147456,null,0,gl.C,[u.ElementRef,u.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),u["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit)})}function Nl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),u["\u0275did"](1,147456,null,0,gl.t,[u.ElementRef,u.Renderer2,[2,gl.w]],{value:[0,"value"]},null),u["\u0275did"](2,147456,null,0,gl.C,[u.ElementRef,u.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),u["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit)})}function Tl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,1,"label",[["class","control-label col-xs-4"],["for","delay"]],null,null,null,null,null)),(l()(),u["\u0275ted"](2,null,[" "," "])),(l()(),u["\u0275eld"](3,0,null,null,11,"div",[["class","col-xs-8"]],null,null,null,null,null)),(l()(),u["\u0275eld"](4,0,null,null,10,"div",[["class","input-group ig-fixed"]],null,null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,null,7,"select",[["class","form-control"],["formControlName","delay"],["id","delay"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==u["\u0275nov"](l,6).onChange(e.target.value)&&t),"blur"===n&&(t=!1!==u["\u0275nov"](l,6).onTouched()&&t),t},null,null)),u["\u0275did"](6,16384,null,0,gl.w,[u.Renderer2,u.ElementRef],null,null),u["\u0275prd"](1024,null,gl.o,function(l){return[l]},[gl.w]),u["\u0275did"](8,671744,null,0,gl.i,[[3,gl.c],[8,null],[8,null],[6,gl.o],[2,gl.B]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,gl.p,null,[gl.i]),u["\u0275did"](10,16384,null,0,gl.q,[[4,gl.p]],null,null),(l()(),u["\u0275and"](16777216,null,null,1,null,Nl)),u["\u0275did"](12,802816,null,0,r.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),u["\u0275eld"](13,0,null,null,1,"span",[["class","input-group-addon"]],null,null,null,null,null)),(l()(),u["\u0275ted"](14,null,[" "," "]))],function(l,n){var e=n.component;l(n,8,0,"delay"),l(n,12,0,e.formData.delays)},function(l,n){var e=n.component;l(n,2,0,e.text.WordDelay),l(n,5,0,u["\u0275nov"](n,10).ngClassUntouched,u["\u0275nov"](n,10).ngClassTouched,u["\u0275nov"](n,10).ngClassPristine,u["\u0275nov"](n,10).ngClassDirty,u["\u0275nov"](n,10).ngClassValid,u["\u0275nov"](n,10).ngClassInvalid,u["\u0275nov"](n,10).ngClassPending),l(n,14,0,"1"===e.learnForm.value.delay.toString()?e.text.second:e.text.seconds)})}function Fl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,97,"form",[["class","form-horizontal col-xs-9"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u["\u0275nov"](l,2).onSubmit(e)&&t),"reset"===n&&(t=!1!==u["\u0275nov"](l,2).onReset()&&t),t},null,null)),u["\u0275did"](1,16384,null,0,gl.z,[],null,null),u["\u0275did"](2,540672,null,0,gl.j,[[8,null],[8,null]],{form:[0,"form"]},null),u["\u0275prd"](2048,null,gl.c,null,[gl.j]),u["\u0275did"](4,16384,null,0,gl.r,[[4,gl.c]],null,null),(l()(),u["\u0275eld"](5,0,null,null,59,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,1,"label",[["class","control-label col-xs-4"],["for","nrOfWordsStudy"]],null,null,null,null,null)),(l()(),u["\u0275ted"](7,null,[" "," "])),(l()(),u["\u0275eld"](8,0,null,null,56,"div",[["class","col-xs-8"]],null,null,null,null,null)),(l()(),u["\u0275eld"](9,0,null,null,10,"div",[["class","input-group ig-fixed"]],null,null,null,null,null)),(l()(),u["\u0275eld"](10,0,null,null,7,"select",[["class","form-control"],["formControlName","nrOfWordsStudy"],["id","nrOfWordsStudy"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var t=!0,o=l.component;return"change"===n&&(t=!1!==u["\u0275nov"](l,11).onChange(e.target.value)&&t),"blur"===n&&(t=!1!==u["\u0275nov"](l,11).onTouched()&&t),"change"===n&&(t=!1!==o.onChangeField()&&t),t},null,null)),u["\u0275did"](11,16384,null,0,gl.w,[u.Renderer2,u.ElementRef],null,null),u["\u0275prd"](1024,null,gl.o,function(l){return[l]},[gl.w]),u["\u0275did"](13,671744,null,0,gl.i,[[3,gl.c],[8,null],[8,null],[6,gl.o],[2,gl.B]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,gl.p,null,[gl.i]),u["\u0275did"](15,16384,null,0,gl.q,[[4,gl.p]],null,null),(l()(),u["\u0275and"](16777216,null,null,1,null,Ml)),u["\u0275did"](17,802816,null,0,r.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),u["\u0275eld"](18,0,null,null,1,"span",[["class","input-group-addon"]],null,null,null,null,null)),(l()(),u["\u0275ted"](19,null,[" "," "])),(l()(),u["\u0275eld"](20,0,null,null,10,"div",[["class","input-group ig-fixed"]],null,null,null,null,null)),(l()(),u["\u0275eld"](21,0,null,null,7,"select",[["class","form-control"],["formControlName","nrOfWordsLearn"],["id","nrOfWordsLearn"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var t=!0,o=l.component;return"change"===n&&(t=!1!==u["\u0275nov"](l,22).onChange(e.target.value)&&t),"blur"===n&&(t=!1!==u["\u0275nov"](l,22).onTouched()&&t),"change"===n&&(t=!1!==o.onChangeField()&&t),t},null,null)),u["\u0275did"](22,16384,null,0,gl.w,[u.Renderer2,u.ElementRef],null,null),u["\u0275prd"](1024,null,gl.o,function(l){return[l]},[gl.w]),u["\u0275did"](24,671744,null,0,gl.i,[[3,gl.c],[8,null],[8,null],[6,gl.o],[2,gl.B]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,gl.p,null,[gl.i]),u["\u0275did"](26,16384,null,0,gl.q,[[4,gl.p]],null,null),(l()(),u["\u0275and"](16777216,null,null,1,null,kl)),u["\u0275did"](28,802816,null,0,r.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),u["\u0275eld"](29,0,null,null,1,"span",[["class","input-group-addon"]],null,null,null,null,null)),(l()(),u["\u0275ted"](30,null,[" "," "])),(l()(),u["\u0275eld"](31,0,null,null,10,"div",[["class","input-group ig-fixed"]],null,null,null,null,null)),(l()(),u["\u0275eld"](32,0,null,null,7,"select",[["class","form-control"],["formControlName","nrOfWordsReview"],["id","nrOfWordsReview"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==u["\u0275nov"](l,33).onChange(e.target.value)&&t),"blur"===n&&(t=!1!==u["\u0275nov"](l,33).onTouched()&&t),t},null,null)),u["\u0275did"](33,16384,null,0,gl.w,[u.Renderer2,u.ElementRef],null,null),u["\u0275prd"](1024,null,gl.o,function(l){return[l]},[gl.w]),u["\u0275did"](35,671744,null,0,gl.i,[[3,gl.c],[8,null],[8,null],[6,gl.o],[2,gl.B]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,gl.p,null,[gl.i]),u["\u0275did"](37,16384,null,0,gl.q,[[4,gl.p]],null,null),(l()(),u["\u0275and"](16777216,null,null,1,null,Ol)),u["\u0275did"](39,802816,null,0,r.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),u["\u0275eld"](40,0,null,null,1,"span",[["class","input-group-addon"]],null,null,null,null,null)),(l()(),u["\u0275ted"](41,null,[" "," "])),(l()(),u["\u0275eld"](42,0,null,null,0,"div",[["class","spacer"]],null,null,null,null,null)),(l()(),u["\u0275eld"](43,0,null,null,10,"div",[["class","input-group ig-fixed"]],null,null,null,null,null)),(l()(),u["\u0275eld"](44,0,null,null,7,"select",[["class","form-control"],["formControlName","nrOfWordsStudyRepeat"],["id","nrOfWordsStudyRepeat"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var t=!0,o=l.component;return"change"===n&&(t=!1!==u["\u0275nov"](l,45).onChange(e.target.value)&&t),"blur"===n&&(t=!1!==u["\u0275nov"](l,45).onTouched()&&t),"change"===n&&(t=!1!==o.onChangeField()&&t),t},null,null)),u["\u0275did"](45,16384,null,0,gl.w,[u.Renderer2,u.ElementRef],null,null),u["\u0275prd"](1024,null,gl.o,function(l){return[l]},[gl.w]),u["\u0275did"](47,671744,null,0,gl.i,[[3,gl.c],[8,null],[8,null],[6,gl.o],[2,gl.B]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,gl.p,null,[gl.i]),u["\u0275did"](49,16384,null,0,gl.q,[[4,gl.p]],null,null),(l()(),u["\u0275and"](16777216,null,null,1,null,Il)),u["\u0275did"](51,802816,null,0,r.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),u["\u0275eld"](52,0,null,null,1,"span",[["class","input-group-addon"]],null,null,null,null,null)),(l()(),u["\u0275ted"](53,null,[" "," "])),(l()(),u["\u0275eld"](54,0,null,null,10,"div",[["class","input-group ig-fixed"]],null,null,null,null,null)),(l()(),u["\u0275eld"](55,0,null,null,7,"select",[["class","form-control"],["formControlName","nrOfWordsLearnRepeat"],["id","nrOfWordsLearnRepeat"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var t=!0,o=l.component;return"change"===n&&(t=!1!==u["\u0275nov"](l,56).onChange(e.target.value)&&t),"blur"===n&&(t=!1!==u["\u0275nov"](l,56).onTouched()&&t),"change"===n&&(t=!1!==o.onChangeField()&&t),t},null,null)),u["\u0275did"](56,16384,null,0,gl.w,[u.Renderer2,u.ElementRef],null,null),u["\u0275prd"](1024,null,gl.o,function(l){return[l]},[gl.w]),u["\u0275did"](58,671744,null,0,gl.i,[[3,gl.c],[8,null],[8,null],[6,gl.o],[2,gl.B]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,gl.p,null,[gl.i]),u["\u0275did"](60,16384,null,0,gl.q,[[4,gl.p]],null,null),(l()(),u["\u0275and"](16777216,null,null,1,null,Pl)),u["\u0275did"](62,802816,null,0,r.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),u["\u0275eld"](63,0,null,null,1,"span",[["class","input-group-addon"]],null,null,null,null,null)),(l()(),u["\u0275ted"](64,null,[" "," "])),(l()(),u["\u0275eld"](65,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](66,0,null,null,1,"label",[["class","control-label col-xs-4"],["for","audio"]],null,null,null,null,null)),(l()(),u["\u0275ted"](67,null,[" "," "])),(l()(),u["\u0275eld"](68,0,null,null,2,"div",[["class","col-xs-8"]],null,null,null,null,null)),(l()(),u["\u0275eld"](69,0,null,null,1,"km-toggle",[["id","audio"]],null,[[null,"toggled"]],function(l,n,e){var u=!0;return"toggled"===n&&(u=!1!==l.component.onSetFlag("mute",!e)&&u),u},yl.b,yl.a)),u["\u0275did"](70,49152,null,0,wl.a,[],{toggle:[0,"toggle"]},{toggled:"toggled"}),(l()(),u["\u0275eld"](71,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](72,0,null,null,1,"label",[["class","control-label col-xs-4"],["for","keyboard"]],null,null,null,null,null)),(l()(),u["\u0275ted"](73,null,[" "," "])),(l()(),u["\u0275eld"](74,0,null,null,2,"div",[["class","col-xs-8"]],null,null,null,null,null)),(l()(),u["\u0275eld"](75,0,null,null,1,"km-toggle",[["id","keyboard"]],null,[[null,"toggled"]],function(l,n,e){var u=!0;return"toggled"===n&&(u=!1!==l.component.onSetFlag("keyboard",e)&&u),u},yl.b,yl.a)),u["\u0275did"](76,49152,null,0,wl.a,[],{toggle:[0,"toggle"]},{toggled:"toggled"}),(l()(),u["\u0275eld"](77,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](78,0,null,null,1,"label",[["class","control-label col-xs-4"],["for","keyboard"]],null,null,null,null,null)),(l()(),u["\u0275ted"](79,null,[" "," "])),(l()(),u["\u0275eld"](80,0,null,null,2,"div",[["class","col-xs-8"]],null,null,null,null,null)),(l()(),u["\u0275eld"](81,0,null,null,1,"km-toggle",[["id","color"]],null,[[null,"toggled"]],function(l,n,e){var u=!0;return"toggled"===n&&(u=!1!==l.component.onSetFlag("color",e)&&u),u},yl.b,yl.a)),u["\u0275did"](82,49152,null,0,wl.a,[],{toggle:[0,"toggle"]},{toggled:"toggled"}),(l()(),u["\u0275eld"](83,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](84,0,null,null,1,"label",[["class","control-label col-xs-4"],["for","countdown"]],null,null,null,null,null)),(l()(),u["\u0275ted"](85,null,[" "," "])),(l()(),u["\u0275eld"](86,0,null,null,2,"div",[["class","col-xs-8"]],null,null,null,null,null)),(l()(),u["\u0275eld"](87,0,null,null,1,"km-toggle",[["id","countdown"]],null,[[null,"toggled"]],function(l,n,e){var u=!0;return"toggled"===n&&(u=!1!==l.component.onSetFlag("countDown",e)&&u),u},yl.b,yl.a)),u["\u0275did"](88,49152,null,0,wl.a,[],{toggle:[0,"toggle"]},{toggled:"toggled"}),(l()(),u["\u0275and"](16777216,null,null,1,null,Tl)),u["\u0275did"](90,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](91,0,null,null,3,"div",[["class","form-group buttons"]],null,null,null,null,null)),(l()(),u["\u0275eld"](92,0,null,null,2,"div",[["class","col-xs-9 col-xs-offset-3"]],null,null,null,null,null)),(l()(),u["\u0275eld"](93,0,null,null,1,"button",[["class","btn btn-success btn-lg"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var u=!0,t=l.component;return"click"===n&&(u=!1!==t.onUpdateSettings(t.learnForm)&&u),u},null,null)),(l()(),u["\u0275ted"](94,null,[" "," "])),(l()(),u["\u0275eld"](95,0,null,null,2,"div",[["class","info-msg"]],null,null,null,null,null)),(l()(),u["\u0275eld"](96,0,null,null,1,"km-info-msg",[],null,null,null,a.b,a.a)),u["\u0275did"](97,49152,null,0,c.a,[],{msg:[0,"msg"]},null)],function(l,n){var e=n.component;l(n,2,0,e.learnForm),l(n,13,0,"nrOfWordsStudy"),l(n,17,0,e.formData.nrofwords),l(n,24,0,"nrOfWordsLearn"),l(n,28,0,e.formData.nrofwords),l(n,35,0,"nrOfWordsReview"),l(n,39,0,e.formData.nrofwords),l(n,47,0,"nrOfWordsStudyRepeat"),l(n,51,0,e.formData.nrofwords),l(n,58,0,"nrOfWordsLearnRepeat"),l(n,62,0,e.formData.nrofwords),l(n,70,0,!e.learnForm.value.mute),l(n,76,0,e.learnForm.value.keyboard),l(n,82,0,e.learnForm.value.color),l(n,88,0,e.learnForm.value.countDown),l(n,90,0,e.learnForm.value.countDown),l(n,97,0,e.infoMsg)},function(l,n){var e=n.component;l(n,0,0,u["\u0275nov"](n,4).ngClassUntouched,u["\u0275nov"](n,4).ngClassTouched,u["\u0275nov"](n,4).ngClassPristine,u["\u0275nov"](n,4).ngClassDirty,u["\u0275nov"](n,4).ngClassValid,u["\u0275nov"](n,4).ngClassInvalid,u["\u0275nov"](n,4).ngClassPending),l(n,7,0,e.text.NrOfWords),l(n,10,0,u["\u0275nov"](n,15).ngClassUntouched,u["\u0275nov"](n,15).ngClassTouched,u["\u0275nov"](n,15).ngClassPristine,u["\u0275nov"](n,15).ngClassDirty,u["\u0275nov"](n,15).ngClassValid,u["\u0275nov"](n,15).ngClassInvalid,u["\u0275nov"](n,15).ngClassPending),l(n,19,0,e.text.perStudySession),l(n,21,0,u["\u0275nov"](n,26).ngClassUntouched,u["\u0275nov"](n,26).ngClassTouched,u["\u0275nov"](n,26).ngClassPristine,u["\u0275nov"](n,26).ngClassDirty,u["\u0275nov"](n,26).ngClassValid,u["\u0275nov"](n,26).ngClassInvalid,u["\u0275nov"](n,26).ngClassPending),l(n,30,0,e.text.perPractiseSession),l(n,32,0,u["\u0275nov"](n,37).ngClassUntouched,u["\u0275nov"](n,37).ngClassTouched,u["\u0275nov"](n,37).ngClassPristine,u["\u0275nov"](n,37).ngClassDirty,u["\u0275nov"](n,37).ngClassValid,u["\u0275nov"](n,37).ngClassInvalid,u["\u0275nov"](n,37).ngClassPending),l(n,41,0,e.text.perReviewSession),l(n,44,0,u["\u0275nov"](n,49).ngClassUntouched,u["\u0275nov"](n,49).ngClassTouched,u["\u0275nov"](n,49).ngClassPristine,u["\u0275nov"](n,49).ngClassDirty,u["\u0275nov"](n,49).ngClassValid,u["\u0275nov"](n,49).ngClassInvalid,u["\u0275nov"](n,49).ngClassPending),l(n,53,0,e.text.perStudySessionRepeat),l(n,55,0,u["\u0275nov"](n,60).ngClassUntouched,u["\u0275nov"](n,60).ngClassTouched,u["\u0275nov"](n,60).ngClassPristine,u["\u0275nov"](n,60).ngClassDirty,u["\u0275nov"](n,60).ngClassValid,u["\u0275nov"](n,60).ngClassInvalid,u["\u0275nov"](n,60).ngClassPending),l(n,64,0,e.text.perPractiseSessionRepeat),l(n,67,0,e.text.Audio),l(n,73,0,e.text.Keyboard),l(n,79,0,e.text.ColorGender),l(n,85,0,e.text.Countdown),l(n,93,0,!e.learnForm.valid||!e.learnForm.dirty),l(n,94,0,e.text.UpdateSettings)})}function Al(l){return u["\u0275vid"](0,[(l()(),u["\u0275and"](16777216,null,null,1,null,Fl)),u["\u0275did"](1,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.isFormReady)},null)}var _l=function(){function l(l,n,e,u){this.formBuilder=l,this.utilsService=n,this.userService=e,this.errorService=u,this.componentActive=!0,this.isReady=!1,this.infoMsg=""}return l.prototype.ngOnInit=function(){this.getDependables(),this.buildForm()},l.prototype.onSetFlag=function(l,n){this.setFlag(l,n)},l.prototype.onSetGender=function(l){this.setFlag("gender",l)},l.prototype.onChangeField=function(){this.infoMsg=""},l.prototype.onUpdateSettings=function(l){if(l.valid){var n=this.buildSettings(l.value);this.updateMainSettings(n)}},l.prototype.setFlag=function(l,n){var e;this.mainForm.patchValue(((e={})[l]=n,e)),this.mainForm.markAsDirty(),this.infoMsg=""},l.prototype.buildForm=function(){this.mainForm=this.formBuilder.group({lan:[this.userService.user.main.lan],myLan:[this.userService.user.main.myLan||this.userService.user.main.lan],background:[this.userService.user.main.background],gender:[this.userService.user.main.gender]})},l.prototype.updateMainSettings=function(l){var n=this;this.userService.saveMainSettings(l).pipe(Object(g.a)(function(){return n.componentActive})).subscribe(function(e){n.infoMsg=n.text.SettingsUpdated,n.mainForm.markAsPristine(),n.userService.user.main.lan!==l.lan&&n.userService.interfaceLanChanged(l.lan),n.userService.user.main.background!==l.background&&n.userService.backgroundImgChanged(l.background),n.userService.user.main=l},function(l){return n.errorService.handleError(l)})},l.prototype.buildSettings=function(l){return{lan:l.lan,myLan:l.myLan,background:l.background,gender:l.gender}},l.prototype.setFormData=function(){this.formData={lans:this.interfaceLanguages,myLans:this.myLanguages}},l.prototype.setInterfaceLanguages=function(l){this.interfaceLanguages=l},l.prototype.setUserLanguages=function(l){this.myLanguages=l},l.prototype.getDependables=function(){var l=this;this.utilsService.fetchDependables({getLanguages:!0}).pipe(Object(g.a)(function(){return l.componentActive})).subscribe(function(n){l.setInterfaceLanguages(n.languages),l.setUserLanguages(n.userLanguages),l.setFormData(),l.isReady=!0},function(n){return l.errorService.handleError(n)})},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),Dl=u["\u0275crt"]({encapsulation:0,styles:[".gender[_ngcontent-%COMP%] {\n      font-size: 24px;\n      color: grey;\n      cursor: pointer;\n    }\n    .gen-selected[_ngcontent-%COMP%] {\n      color: green;\n    }"],data:{}});function El(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),u["\u0275did"](1,147456,null,0,gl.t,[u.ElementRef,u.Renderer2,[2,gl.w]],{value:[0,"value"]},null),u["\u0275did"](2,147456,null,0,gl.C,[u.ElementRef,u.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),u["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit.code),l(n,2,0,n.context.$implicit.code)},function(l,n){l(n,3,0,n.context.$implicit.nativeName)})}function Vl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),u["\u0275did"](1,147456,null,0,gl.t,[u.ElementRef,u.Renderer2,[2,gl.w]],{value:[0,"value"]},null),u["\u0275did"](2,147456,null,0,gl.C,[u.ElementRef,u.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),u["\u0275ted"](3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit.code),l(n,2,0,n.context.$implicit.code)},function(l,n){l(n,3,0,n.context.$implicit.nativeName)})}function Ll(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,47,"form",[["class","form-horizontal col-xs-9"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u["\u0275nov"](l,2).onSubmit(e)&&t),"reset"===n&&(t=!1!==u["\u0275nov"](l,2).onReset()&&t),t},null,null)),u["\u0275did"](1,16384,null,0,gl.z,[],null,null),u["\u0275did"](2,540672,null,0,gl.j,[[8,null],[8,null]],{form:[0,"form"]},null),u["\u0275prd"](2048,null,gl.c,null,[gl.j]),u["\u0275did"](4,16384,null,0,gl.r,[[4,gl.c]],null,null),(l()(),u["\u0275eld"](5,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,1,"label",[["class","control-label col-xs-4"],["for","lan"]],null,null,null,null,null)),(l()(),u["\u0275ted"](7,null,[" "," "])),(l()(),u["\u0275eld"](8,0,null,null,8,"div",[["class","col-xs-8"]],null,null,null,null,null)),(l()(),u["\u0275eld"](9,0,null,null,7,"select",[["class","form-control"],["formControlName","lan"],["id","lan"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var t=!0,o=l.component;return"change"===n&&(t=!1!==u["\u0275nov"](l,10).onChange(e.target.value)&&t),"blur"===n&&(t=!1!==u["\u0275nov"](l,10).onTouched()&&t),"change"===n&&(t=!1!==o.onChangeField()&&t),t},null,null)),u["\u0275did"](10,16384,null,0,gl.w,[u.Renderer2,u.ElementRef],null,null),u["\u0275prd"](1024,null,gl.o,function(l){return[l]},[gl.w]),u["\u0275did"](12,671744,null,0,gl.i,[[3,gl.c],[8,null],[8,null],[6,gl.o],[2,gl.B]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,gl.p,null,[gl.i]),u["\u0275did"](14,16384,null,0,gl.q,[[4,gl.p]],null,null),(l()(),u["\u0275and"](16777216,null,null,1,null,El)),u["\u0275did"](16,802816,null,0,r.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),u["\u0275eld"](17,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](18,0,null,null,1,"label",[["class","control-label col-xs-4"],["for","mylan"]],null,null,null,null,null)),(l()(),u["\u0275ted"](19,null,[" "," "])),(l()(),u["\u0275eld"](20,0,null,null,8,"div",[["class","col-xs-8"]],null,null,null,null,null)),(l()(),u["\u0275eld"](21,0,null,null,7,"select",[["class","form-control"],["formControlName","myLan"],["id","myLan"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var t=!0,o=l.component;return"change"===n&&(t=!1!==u["\u0275nov"](l,22).onChange(e.target.value)&&t),"blur"===n&&(t=!1!==u["\u0275nov"](l,22).onTouched()&&t),"change"===n&&(t=!1!==o.onChangeField()&&t),t},null,null)),u["\u0275did"](22,16384,null,0,gl.w,[u.Renderer2,u.ElementRef],null,null),u["\u0275prd"](1024,null,gl.o,function(l){return[l]},[gl.w]),u["\u0275did"](24,671744,null,0,gl.i,[[3,gl.c],[8,null],[8,null],[6,gl.o],[2,gl.B]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,gl.p,null,[gl.i]),u["\u0275did"](26,16384,null,0,gl.q,[[4,gl.p]],null,null),(l()(),u["\u0275and"](16777216,null,null,1,null,Vl)),u["\u0275did"](28,802816,null,0,r.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),u["\u0275eld"](29,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](30,0,null,null,1,"label",[["class","control-label col-xs-4"],["for","background"]],null,null,null,null,null)),(l()(),u["\u0275ted"](31,null,[" "," "])),(l()(),u["\u0275eld"](32,0,null,null,2,"div",[["class","col-xs-8"]],null,null,null,null,null)),(l()(),u["\u0275eld"](33,0,null,null,1,"km-toggle",[["id","countdown"]],null,[[null,"toggled"]],function(l,n,e){var u=!0;return"toggled"===n&&(u=!1!==l.component.onSetFlag("background",e)&&u),u},yl.b,yl.a)),u["\u0275did"](34,49152,null,0,wl.a,[],{toggle:[0,"toggle"]},{toggled:"toggled"}),(l()(),u["\u0275eld"](35,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](36,0,null,null,1,"label",[["class","control-label col-xs-4"],["for","background"]],null,null,null,null,null)),(l()(),u["\u0275ted"](37,null,[" "," "])),(l()(),u["\u0275eld"](38,0,null,null,2,"div",[["class","col-xs-8"]],null,null,null,null,null)),(l()(),u["\u0275eld"](39,0,null,null,0,"span",[["class","fa fa-male fa-spacing-title gender"]],[[2,"gen-selected",null]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSetGender("m")&&u),u},null,null)),(l()(),u["\u0275eld"](40,0,null,null,0,"span",[["class","fa fa-female gender"]],[[2,"gen-selected",null]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSetGender("f")&&u),u},null,null)),(l()(),u["\u0275eld"](41,0,null,null,3,"div",[["class","form-group buttons"]],null,null,null,null,null)),(l()(),u["\u0275eld"](42,0,null,null,2,"div",[["class","col-xs-9 col-xs-offset-3"]],null,null,null,null,null)),(l()(),u["\u0275eld"](43,0,null,null,1,"button",[["class","btn btn-success btn-lg"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var u=!0,t=l.component;return"click"===n&&(u=!1!==t.onUpdateSettings(t.mainForm)&&u),u},null,null)),(l()(),u["\u0275ted"](44,null,[" "," "])),(l()(),u["\u0275eld"](45,0,null,null,2,"div",[["class","info-msg"]],null,null,null,null,null)),(l()(),u["\u0275eld"](46,0,null,null,1,"km-info-msg",[],null,null,null,a.b,a.a)),u["\u0275did"](47,49152,null,0,c.a,[],{msg:[0,"msg"]},null)],function(l,n){var e=n.component;l(n,2,0,e.mainForm),l(n,12,0,"lan"),l(n,16,0,e.formData.lans),l(n,24,0,"myLan"),l(n,28,0,e.formData.myLans),l(n,34,0,e.mainForm.value.background),l(n,47,0,e.infoMsg)},function(l,n){var e=n.component;l(n,0,0,u["\u0275nov"](n,4).ngClassUntouched,u["\u0275nov"](n,4).ngClassTouched,u["\u0275nov"](n,4).ngClassPristine,u["\u0275nov"](n,4).ngClassDirty,u["\u0275nov"](n,4).ngClassValid,u["\u0275nov"](n,4).ngClassInvalid,u["\u0275nov"](n,4).ngClassPending),l(n,7,0,e.text.InterfaceLan),l(n,9,0,u["\u0275nov"](n,14).ngClassUntouched,u["\u0275nov"](n,14).ngClassTouched,u["\u0275nov"](n,14).ngClassPristine,u["\u0275nov"](n,14).ngClassDirty,u["\u0275nov"](n,14).ngClassValid,u["\u0275nov"](n,14).ngClassInvalid,u["\u0275nov"](n,14).ngClassPending),l(n,19,0,e.text.MyLan),l(n,21,0,u["\u0275nov"](n,26).ngClassUntouched,u["\u0275nov"](n,26).ngClassTouched,u["\u0275nov"](n,26).ngClassPristine,u["\u0275nov"](n,26).ngClassDirty,u["\u0275nov"](n,26).ngClassValid,u["\u0275nov"](n,26).ngClassInvalid,u["\u0275nov"](n,26).ngClassPending),l(n,31,0,e.text.Background),l(n,37,0,e.text.RankGender),l(n,39,0,"m"===e.mainForm.value.gender),l(n,40,0,"f"===e.mainForm.value.gender),l(n,43,0,!e.mainForm.valid||!e.mainForm.dirty),l(n,44,0,e.text.UpdateSettings)})}function $l(l){return u["\u0275vid"](0,[(l()(),u["\u0275and"](16777216,null,null,1,null,Ll)),u["\u0275did"](1,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.isReady)},null)}var Ul=e("upxA"),jl=e("UPuv"),Bl=e("Ss/i"),Wl=e("XJCb"),Kl=e("qZ4S"),Hl=function(){function l(l,n,e){this.formBuilder=l,this.userService=n,this.errorService=e,this.componentActive=!0,this.isFormReady=!1,this.infoMsg=""}return l.prototype.ngOnInit=function(){this.buildForm()},l.prototype.onChangeField=function(){this.errorService.clearError()},l.prototype.onChangePassword=function(l){l.valid&&this.updatePassword(l.value)},l.prototype.buildForm=function(){this.pwForm=this.formBuilder.group({oldPassword:["",[gl.x.required,Kl.a.passwordValidator]],newPassword:["",[gl.x.required,Kl.a.passwordValidator]]},{validator:Kl.a.equalPasswordsValidator}),this.isFormReady=!0},l.prototype.updatePassword=function(l){var n=this;this.userService.updatePassword(l.oldPassword,l.newPassword).pipe(Object(g.a)(function(){return n.componentActive})).subscribe(function(l){n.infoMsg=n.text.PasswordUpdated,n.errorService.clearError(),n.pwForm.patchValue({oldPassword:""}),n.pwForm.patchValue({newPassword:""}),n.pwForm.markAsUntouched()},function(l){return n.errorService.handleError(l)})},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),ql=u["\u0275crt"]({encapsulation:2,styles:[],data:{}});function zl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,45,"form",[["class","form-horizontal col-xs-9"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u["\u0275nov"](l,2).onSubmit(e)&&t),"reset"===n&&(t=!1!==u["\u0275nov"](l,2).onReset()&&t),t},null,null)),u["\u0275did"](1,16384,null,0,gl.z,[],null,null),u["\u0275did"](2,540672,null,0,gl.j,[[8,null],[8,null]],{form:[0,"form"]},null),u["\u0275prd"](2048,null,gl.c,null,[gl.j]),u["\u0275did"](4,16384,null,0,gl.r,[[4,gl.c]],null,null),(l()(),u["\u0275eld"](5,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,1,"label",[["class","control-label col-xs-4"],["for","oldPassword"]],null,null,null,null,null)),(l()(),u["\u0275ted"](7,null,[" "," "])),(l()(),u["\u0275eld"](8,0,null,null,11,"div",[["class","col-xs-8"]],null,null,null,null,null)),(l()(),u["\u0275eld"](9,0,null,null,8,"input",[["class","form-control input-lg"],["formControlName","oldPassword"],["id","oldPassword"],["maxlength","100"],["minlength","5"],["type","password"]],[[8,"placeholder",0],[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var t=!0,o=l.component;return"input"===n&&(t=!1!==u["\u0275nov"](l,10)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u["\u0275nov"](l,10).onTouched()&&t),"compositionstart"===n&&(t=!1!==u["\u0275nov"](l,10)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u["\u0275nov"](l,10)._compositionEnd(e.target.value)&&t),"change"===n&&(t=!1!==o.onChangeField()&&t),t},null,null)),u["\u0275did"](10,16384,null,0,gl.d,[u.Renderer2,u.ElementRef,[2,gl.a]],null,null),u["\u0275did"](11,540672,null,0,gl.m,[],{minlength:[0,"minlength"]},null),u["\u0275did"](12,540672,null,0,gl.l,[],{maxlength:[0,"maxlength"]},null),u["\u0275prd"](1024,null,gl.n,function(l,n){return[l,n]},[gl.m,gl.l]),u["\u0275prd"](1024,null,gl.o,function(l){return[l]},[gl.d]),u["\u0275did"](15,671744,null,0,gl.i,[[3,gl.c],[6,gl.n],[8,null],[6,gl.o],[2,gl.B]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,gl.p,null,[gl.i]),u["\u0275did"](17,16384,null,0,gl.q,[[4,gl.p]],null,null),(l()(),u["\u0275eld"](18,0,null,null,1,"km-field-messages",[],null,null,null,Ul.b,Ul.a)),u["\u0275did"](19,49152,null,0,jl.a,[],{control:[0,"control"],label:[1,"label"],text:[2,"text"]},null),(l()(),u["\u0275eld"](20,0,null,null,16,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](21,0,null,null,1,"label",[["class","control-label col-xs-4"],["for","newPassword"]],null,null,null,null,null)),(l()(),u["\u0275ted"](22,null,[" "," "])),(l()(),u["\u0275eld"](23,0,null,null,13,"div",[["class","col-xs-8"]],null,null,null,null,null)),(l()(),u["\u0275eld"](24,0,null,null,8,"input",[["class","form-control input-lg col-xs-8"],["formControlName","newPassword"],["id","newPassword"],["maxlength","100"],["minlength","5"],["type","password"]],[[8,"placeholder",0],[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var t=!0,o=l.component;return"input"===n&&(t=!1!==u["\u0275nov"](l,25)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u["\u0275nov"](l,25).onTouched()&&t),"compositionstart"===n&&(t=!1!==u["\u0275nov"](l,25)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u["\u0275nov"](l,25)._compositionEnd(e.target.value)&&t),"change"===n&&(t=!1!==o.onChangeField()&&t),t},null,null)),u["\u0275did"](25,16384,null,0,gl.d,[u.Renderer2,u.ElementRef,[2,gl.a]],null,null),u["\u0275did"](26,540672,null,0,gl.m,[],{minlength:[0,"minlength"]},null),u["\u0275did"](27,540672,null,0,gl.l,[],{maxlength:[0,"maxlength"]},null),u["\u0275prd"](1024,null,gl.n,function(l,n){return[l,n]},[gl.m,gl.l]),u["\u0275prd"](1024,null,gl.o,function(l){return[l]},[gl.d]),u["\u0275did"](30,671744,null,0,gl.i,[[3,gl.c],[6,gl.n],[8,null],[6,gl.o],[2,gl.B]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,gl.p,null,[gl.i]),u["\u0275did"](32,16384,null,0,gl.q,[[4,gl.p]],null,null),(l()(),u["\u0275eld"](33,0,null,null,1,"km-field-messages",[],null,null,null,Ul.b,Ul.a)),u["\u0275did"](34,49152,null,0,jl.a,[],{control:[0,"control"],label:[1,"label"],text:[2,"text"]},null),(l()(),u["\u0275eld"](35,0,null,null,1,"km-field-messages",[],null,null,null,Ul.b,Ul.a)),u["\u0275did"](36,49152,null,0,jl.a,[],{control:[0,"control"],text:[1,"text"]},null),(l()(),u["\u0275eld"](37,0,null,null,3,"div",[["class","form-group buttons"]],null,null,null,null,null)),(l()(),u["\u0275eld"](38,0,null,null,2,"div",[["class","col-xs-9 col-xs-offset-3"]],null,null,null,null,null)),(l()(),u["\u0275eld"](39,0,null,null,1,"button",[["class","btn btn-success btn-lg"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var u=!0,t=l.component;return"click"===n&&(u=!1!==t.onChangePassword(t.pwForm)&&u),u},null,null)),(l()(),u["\u0275ted"](40,null,[" "," "])),(l()(),u["\u0275eld"](41,0,null,null,1,"km-error-msg",[],null,null,null,Bl.b,Bl.a)),u["\u0275did"](42,245760,null,0,Wl.a,[p.a,h.l],{text:[0,"text"]},null),(l()(),u["\u0275eld"](43,0,null,null,2,"div",[["class","info-msg"]],null,null,null,null,null)),(l()(),u["\u0275eld"](44,0,null,null,1,"km-info-msg",[],null,null,null,a.b,a.a)),u["\u0275did"](45,49152,null,0,c.a,[],{msg:[0,"msg"]},null)],function(l,n){var e=n.component;l(n,2,0,e.pwForm),l(n,11,0,"5"),l(n,12,0,"100"),l(n,15,0,"oldPassword"),l(n,19,0,e.pwForm.controls.oldPassword,"TheCurrentPassword",e.text),l(n,26,0,"5"),l(n,27,0,"100"),l(n,30,0,"newPassword"),l(n,34,0,e.pwForm.controls.newPassword,"TheNewPassword",e.text),l(n,36,0,e.pwForm,e.text),l(n,42,0,e.text),l(n,45,0,e.infoMsg)},function(l,n){var e=n.component;l(n,0,0,u["\u0275nov"](n,4).ngClassUntouched,u["\u0275nov"](n,4).ngClassTouched,u["\u0275nov"](n,4).ngClassPristine,u["\u0275nov"](n,4).ngClassDirty,u["\u0275nov"](n,4).ngClassValid,u["\u0275nov"](n,4).ngClassInvalid,u["\u0275nov"](n,4).ngClassPending),l(n,7,0,e.text.CurrentPassword),l(n,9,0,e.text.EnterCurrentPassword||"",u["\u0275nov"](n,11).minlength?u["\u0275nov"](n,11).minlength:null,u["\u0275nov"](n,12).maxlength?u["\u0275nov"](n,12).maxlength:null,u["\u0275nov"](n,17).ngClassUntouched,u["\u0275nov"](n,17).ngClassTouched,u["\u0275nov"](n,17).ngClassPristine,u["\u0275nov"](n,17).ngClassDirty,u["\u0275nov"](n,17).ngClassValid,u["\u0275nov"](n,17).ngClassInvalid,u["\u0275nov"](n,17).ngClassPending),l(n,22,0,e.text.NewPassword),l(n,24,0,e.text.EnterNewPassword||"",u["\u0275nov"](n,26).minlength?u["\u0275nov"](n,26).minlength:null,u["\u0275nov"](n,27).maxlength?u["\u0275nov"](n,27).maxlength:null,u["\u0275nov"](n,32).ngClassUntouched,u["\u0275nov"](n,32).ngClassTouched,u["\u0275nov"](n,32).ngClassPristine,u["\u0275nov"](n,32).ngClassDirty,u["\u0275nov"](n,32).ngClassValid,u["\u0275nov"](n,32).ngClassInvalid,u["\u0275nov"](n,32).ngClassPending),l(n,39,0,!e.pwForm.valid||!e.pwForm.dirty),l(n,40,0,e.text.ChangePassword)})}function Gl(l){return u["\u0275vid"](0,[(l()(),u["\u0275and"](16777216,null,null,1,null,zl)),u["\u0275did"](1,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.isFormReady)},null)}var Zl=function(){function l(l,n,e){this.utilsService=l,this.userService=n,this.errorService=e,this.componentActive=!0,this.text={},this.isFormReady=!1,this.tab="main"}return l.prototype.ngOnInit=function(){var l=this;this.getTranslations(this.userService.user.main.lan),this.userService.interfaceLanguageChanged.subscribe(function(n){return l.getTranslations(n)})},l.prototype.onChangeTab=function(l){this.tab=l},l.prototype.getTranslations=function(l){var n=this;this.utilsService.fetchTranslations(l,"UserComponent").pipe(Object(g.a)(function(){return n.componentActive})).subscribe(function(l){l&&(n.text=n.utilsService.getTranslatedText(l),n.utilsService.setPageTitle(n.text,"Settings"))},function(l){return n.errorService.handleError(l)})},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),Jl=u["\u0275crt"]({encapsulation:0,styles:[i.a,[".settings-menu[_ngcontent-%COMP%]{border-right:1px solid #ddd;margin-left:-15px;margin-top:-15px;padding-right:0}.settings-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;border-left:none;border-right:none}.list-group-item[_ngcontent-%COMP%]:first-child{border-top:0;border-radius:0}.list-group-item.active.deactivate[_ngcontent-%COMP%]{background-color:red;border-color:red}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#eee}.list-group-item.active[_ngcontent-%COMP%]:hover{background-color:#337ab7}.list-group-item.active.deactivate[_ngcontent-%COMP%]:hover{background-color:red}.list-group-item[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#337ab7}.list-group-item.active[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#fff}"]],data:{}});function Xl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.text.Main)})}function Yl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.text.Learn)})}function Ql(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.text.Password)})}function ln(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.text.Email)})}function nn(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.text.Deactivate)})}function en(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,1,"km-user-settings-learn",[],null,null,null,Al,Sl)),u["\u0275did"](2,245760,null,0,Rl,[gl.f,f.a,d.a,p.a],{text:[0,"text"]},null)],function(l,n){l(n,2,0,n.component.text)},null)}function un(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,1,"km-user-settings-main",[],null,null,null,$l,Dl)),u["\u0275did"](2,245760,null,0,_l,[gl.f,f.a,d.a,p.a],{text:[0,"text"]},null)],function(l,n){l(n,2,0,n.component.text)},null)}function tn(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,1,"km-user-settings-password",[],null,null,null,Gl,ql)),u["\u0275did"](2,245760,null,0,Hl,[gl.f,d.a,p.a],{text:[0,"text"]},null)],function(l,n){l(n,2,0,n.component.text)},null)}function on(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function rn(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function sn(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,44,"div",[["class","panel panel-default transparant"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,14,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,0,"span",[["class","fa fa-sliders fa-spacing-title"]],null,null,null,null,null)),(l()(),u["\u0275ted"](3,null,[""," - "])),(l()(),u["\u0275eld"](4,0,null,null,11,"span",[],null,null,null,null,null)),u["\u0275did"](5,16384,null,0,r.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,Xl)),u["\u0275did"](7,278528,null,0,r.NgSwitchCase,[u.ViewContainerRef,u.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,Yl)),u["\u0275did"](9,278528,null,0,r.NgSwitchCase,[u.ViewContainerRef,u.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,Ql)),u["\u0275did"](11,278528,null,0,r.NgSwitchCase,[u.ViewContainerRef,u.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,ln)),u["\u0275did"](13,278528,null,0,r.NgSwitchCase,[u.ViewContainerRef,u.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,nn)),u["\u0275did"](15,278528,null,0,r.NgSwitchCase,[u.ViewContainerRef,u.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),u["\u0275eld"](16,0,null,null,28,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),u["\u0275eld"](17,0,null,null,15,"ul",[["class","list-group settings-menu col-xs-3"]],null,null,null,null,null)),(l()(),u["\u0275eld"](18,0,null,null,2,"li",[["class","list-group-item"]],[[2,"active",null]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onChangeTab("main")&&u),u},null,null)),(l()(),u["\u0275eld"](19,0,null,null,0,"span",[["class","fa fa-cog"]],null,null,null,null,null)),(l()(),u["\u0275ted"](20,null,[" "," "])),(l()(),u["\u0275eld"](21,0,null,null,2,"li",[["class","list-group-item"]],[[2,"active",null]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onChangeTab("config")&&u),u},null,null)),(l()(),u["\u0275eld"](22,0,null,null,0,"span",[["class","fa fa-book"]],null,null,null,null,null)),(l()(),u["\u0275ted"](23,null,[" "," "])),(l()(),u["\u0275eld"](24,0,null,null,2,"li",[["class","list-group-item"]],[[2,"active",null]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onChangeTab("password")&&u),u},null,null)),(l()(),u["\u0275eld"](25,0,null,null,0,"span",[["class","fa fa-key"]],null,null,null,null,null)),(l()(),u["\u0275ted"](26,null,[" "," "])),(l()(),u["\u0275eld"](27,0,null,null,2,"li",[["class","list-group-item"]],[[2,"active",null]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onChangeTab("email")&&u),u},null,null)),(l()(),u["\u0275eld"](28,0,null,null,0,"span",[["class","fa fa-envelope"]],null,null,null,null,null)),(l()(),u["\u0275ted"](29,null,[" "," "])),(l()(),u["\u0275eld"](30,0,null,null,2,"li",[["class","list-group-item deactivate"]],[[2,"active",null]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onChangeTab("deactivate")&&u),u},null,null)),(l()(),u["\u0275eld"](31,0,null,null,0,"span",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),u["\u0275ted"](32,null,[" "," "])),(l()(),u["\u0275eld"](33,0,null,null,11,"div",[],null,null,null,null,null)),u["\u0275did"](34,16384,null,0,r.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,en)),u["\u0275did"](36,278528,null,0,r.NgSwitchCase,[u.ViewContainerRef,u.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,un)),u["\u0275did"](38,278528,null,0,r.NgSwitchCase,[u.ViewContainerRef,u.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,tn)),u["\u0275did"](40,278528,null,0,r.NgSwitchCase,[u.ViewContainerRef,u.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,on)),u["\u0275did"](42,278528,null,0,r.NgSwitchCase,[u.ViewContainerRef,u.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,rn)),u["\u0275did"](44,278528,null,0,r.NgSwitchCase,[u.ViewContainerRef,u.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(l,n){var e=n.component;l(n,5,0,e.tab),l(n,7,0,"main"),l(n,9,0,"config"),l(n,11,0,"password"),l(n,13,0,"email"),l(n,15,0,"deactivate"),l(n,34,0,e.tab),l(n,36,0,"config"),l(n,38,0,"main"),l(n,40,0,"password"),l(n,42,0,"email"),l(n,44,0,"deactivate")},function(l,n){var e=n.component;l(n,3,0,e.text.Settings),l(n,18,0,"main"===e.tab),l(n,20,0,e.text.Main),l(n,21,0,"config"===e.tab),l(n,23,0,e.text.Learn),l(n,24,0,"password"===e.tab),l(n,26,0,e.text.Password),l(n,27,0,"email"===e.tab),l(n,29,0,e.text.Email),l(n,30,0,"deactivate"===e.tab),l(n,32,0,e.text.Deactivate)})}var an=u["\u0275ccf"]("ng-component",Zl,function(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,sn,Jl)),u["\u0275did"](1,245760,null,0,Zl,[f.a,d.a,p.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),cn=e("4sBp"),dn=e("U2BN"),pn=e("vbDk"),fn=e("DZ7j"),gn=e("TIPs"),mn=e("a0pl"),vn=function(){function l(){this.showModal=!1,this.trophyList=[]}return l.prototype.ngOnInit=function(){var l=[];l[0]=["01","02","03"],l[1]=["11","12","13"],l[2]=["21","22","23"],l[3]=["31","32","33"],l[4]=["111","112","113"],l[5]=["121","122","123"],l[6]=["131","132","133"],this.trophyListAll=l},l.prototype.ngOnChanges=function(){this.checkActiveTrophies()},l.prototype.onKeyPressed=function(l){"Escape"===l&&this.close()},l.prototype.onClose=function(){this.close()},l.prototype.checkActiveTrophies=function(){var l=this,n=this.trophies.map(function(l){return l.trophy});this.trophyListAll&&this.trophyListAll.forEach(function(e,u){l.trophyList[u]=[],e.forEach(function(e,t){l.trophyList[u][t]=l.isInArray(e,n)?e:e.substring(0,e.length-1)+"0"})})},l.prototype.isInArray=function(l,n){return n.indexOf(l)>-1},l.prototype.close=function(){this.showModal=!1},l}(),hn=u["\u0275crt"]({encapsulation:0,styles:[[".list-group[_ngcontent-%COMP%]{max-height:calc(100vh - 225px);overflow-y:scroll}.closeModal[_ngcontent-%COMP%]{cursor:pointer;font-size:24px;margin-bottom:32px}.trophy[_ngcontent-%COMP%]{width:80px;display:inline-block;margin:6px 12px}"]],data:{}});function bn(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"span",[["class","trophy"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,16777216,null,null,1,"img",[],[[8,"src",4]],[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],function(l,n,e){var t=!0;return"focusin"===n&&(t=!1!==u["\u0275nov"](l,2).show()&&t),"mouseenter"===n&&(t=!1!==u["\u0275nov"](l,2).show()&&t),"focusout"===n&&(t=!1!==u["\u0275nov"](l,2).hide()&&t),"mouseleave"===n&&(t=!1!==u["\u0275nov"](l,2).hide()&&t),t},null,null)),u["\u0275did"](2,16384,null,0,cn.Tooltip,[u.ViewContainerRef,u.ComponentFactoryResolver],{content:[0,"content"],tooltipPlacement:[1,"tooltipPlacement"]},null)],function(l,n){var e=n.component;l(n,2,0,e.text["trophy"+e.trophyListAll[n.parent.context.index][n.context.index]]||e.text.TBD||"","right")},function(l,n){l(n,1,0,u["\u0275inlineInterpolate"](1,"/assets/img/trophies/trophy",n.context.$implicit,".png"))})}function xn(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,bn)),u["\u0275did"](2,802816,null,0,r.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.context.$implicit)},null)}function Cn(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,15,"div",[["class","modal"],["kmPressed",""],["role","dialog"],["tabindex","-1"]],null,[[null,"hasKeyPressed"],["document","keydown"]],function(l,n,e){var t=!0,o=l.component;return"document:keydown"===n&&(t=!1!==u["\u0275nov"](l,3).keypress(e)&&t),"hasKeyPressed"===n&&(t=!1!==o.onKeyPressed(e)&&t),t},null,null)),u["\u0275did"](1,278528,null,0,r.NgStyle,[u.KeyValueDiffers,u.ElementRef,u.Renderer2],{ngStyle:[0,"ngStyle"]},null),u["\u0275pod"](2,{display:0}),u["\u0275did"](3,16384,null,0,s.a,[],null,{hasKeyPressed:"hasKeyPressed"}),(l()(),u["\u0275eld"](4,0,null,null,11,"div",[["class","modal-dialog"]],null,null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,null,10,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,9,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u["\u0275eld"](7,0,null,null,1,"div",[["class","closeModal"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onClose()&&u),u},null,null)),(l()(),u["\u0275eld"](8,0,null,null,0,"span",[["class","fa fa-times pull-right"]],null,null,null,null,null)),(l()(),u["\u0275eld"](9,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null)),(l()(),u["\u0275eld"](10,0,null,null,2,"div",[["class","list-group"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,xn)),u["\u0275did"](12,802816,null,0,r.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),u["\u0275eld"](13,0,null,null,1,"button",[["class","btn btn-warning pull-right"],["type","button"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onClose()&&u),u},null,null)),(l()(),u["\u0275ted"](14,null,[" "," "])),(l()(),u["\u0275eld"](15,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null))],function(l,n){var e=n.component;l(n,1,0,l(n,2,0,e.showModal?"block":"none")),l(n,12,0,e.trophyList)},function(l,n){l(n,14,0,n.component.text.Close)})}var yn=function(){function l(l,n,e){this.utilsService=l,this.userService=n,this.errorService=e,this.componentActive=!0,this.text={},this.courseScores=[],this.bookScores=[],this.trophies=[]}return l.prototype.ngOnInit=function(){this.getTranslations(),this.getCourseScores(),this.getBookScores(),this.getTrophies()},l.prototype.onShowRankings=function(l){l.showModal=!0},l.prototype.onShowTrophies=function(l){l.showModal=!0},l.prototype.getCourseScores=function(){var l=this;this.loadingCourseScores=!0,this.userService.fetchScoreCourses().pipe(Object(g.a)(function(){return l.componentActive})).subscribe(function(n){l.courseScores=n.scores,l.courseTotal=n.total||0,l.gender=l.userService.user.main.gender||"m",l.rank=l.utilsService.getRank(l.courseTotal+l.bookTotal),l.loadingCourseScores=!1},function(n){return l.errorService.handleError(n)})},l.prototype.getBookScores=function(){var l=this;this.loadingBookScores=!0,this.userService.fetchScoreBooks().pipe(Object(g.a)(function(){return l.componentActive})).subscribe(function(n){l.bookScores=n.scores.filter(function(l){return l.points>0}),l.bookTotal=n.total||0,l.gender=l.userService.user.main.gender||"m",l.rank=l.utilsService.getRank(l.courseTotal+l.bookTotal),l.loadingBookScores=!1},function(n){return l.errorService.handleError(n)})},l.prototype.getTrophies=function(){var l=this;this.loadingTrophies=!0,this.userService.fetchTrophies().pipe(Object(g.a)(function(){return l.componentActive})).subscribe(function(n){n.sort(function(l,n){return parseInt(l.trophy,10)>parseInt(n.trophy,10)?1:parseInt(n.trophy,10)>parseInt(l.trophy,10)?-1:0}),l.trophies=n,l.loadingTrophies=!1})},l.prototype.getTranslations=function(){var l=this;this.utilsService.fetchTranslations(this.userService.user.main.lan,"UserComponent").pipe(Object(g.a)(function(){return l.componentActive})).subscribe(function(n){n&&(l.text=l.utilsService.getTranslatedText(n),l.utilsService.setPageTitle(l.text,"Score"))},function(n){return l.errorService.handleError(n)})},l.prototype.ngOnDestroy=function(){this.componentActive=!1},l}(),wn=u["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{font-size:20px}.total[_ngcontent-%COMP%]{border:1px solid #000;margin:-8px;padding:7px}.books[_ngcontent-%COMP%], .trophies[_ngcontent-%COMP%]{margin-bottom:32px!important}.rank[_ngcontent-%COMP%]{font-size:24px;margin-bottom:32px!important}.rank[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]{padding-top:0;cursor:pointer}.rank[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;top:12px}.rank[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:48px;padding:0 12px}.rank[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{color:#666;font-style:italic}.rank[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:64px;height:64px}.trophy[_ngcontent-%COMP%]{margin-right:12px;height:80px}.btn-trophies[_ngcontent-%COMP%]{margin-top:6px}"],i.a],data:{}});function Rn(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),u["\u0275eld"](1,16777216,null,null,1,"img",[["class","trophy"]],[[8,"src",4]],[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],function(l,n,e){var t=!0;return"focusin"===n&&(t=!1!==u["\u0275nov"](l,2).show()&&t),"mouseenter"===n&&(t=!1!==u["\u0275nov"](l,2).show()&&t),"focusout"===n&&(t=!1!==u["\u0275nov"](l,2).hide()&&t),"mouseleave"===n&&(t=!1!==u["\u0275nov"](l,2).hide()&&t),t},null,null)),u["\u0275did"](2,16384,null,0,cn.Tooltip,[u.ViewContainerRef,u.ComponentFactoryResolver],{content:[0,"content"],tooltipPlacement:[1,"tooltipPlacement"]},null)],function(l,n){l(n,2,0,n.component.text["trophy"+n.context.$implicit.trophy]||"","top")},function(l,n){l(n,1,0,u["\u0275inlineInterpolate"](1,"/assets/img/trophies/trophy",n.context.$implicit.trophy,".png"))})}function Sn(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),u["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.text.NoTrophies)})}function Mn(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,Rn)),u["\u0275did"](2,802816,null,0,r.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,Sn)),u["\u0275did"](4,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](5,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,2,"button",[["class","btn btn-info btn-xs btn-trophies"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onShowTrophies(u["\u0275nov"](l.parent,34))&&t),t},null,null)),(l()(),u["\u0275eld"](7,0,null,null,0,"span",[["class","fa fa-eye"]],null,null,null,null,null)),(l()(),u["\u0275ted"](8,null,[" "," "]))],function(l,n){var e=n.component;l(n,2,0,e.trophies),l(n,4,0,!e.trophies.length)},function(l,n){l(n,8,0,n.component.text.ShowTrophies)})}function kn(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,1,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),u["\u0275ted"](2,null,["","."])),(l()(),u["\u0275eld"](3,0,null,null,3,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),u["\u0275eld"](4,0,null,null,0,"img",[["class","flag"]],[[8,"src",4]],null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,null,0,"span",[["class","fa fa-arrow-right flag-from"]],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,0,"img",[["class","flag"]],[[8,"src",4]],null,null,null,null)),(l()(),u["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u["\u0275ted"](8,null,["",""])),(l()(),u["\u0275eld"](9,0,null,null,2,"td",[["class","text-right nr"]],null,null,null,null,null)),(l()(),u["\u0275ted"](10,null,["",""])),u["\u0275ppd"](11,1)],null,function(l,n){l(n,2,0,n.context.index+1),l(n,4,0,u["\u0275inlineInterpolate"](1,"/assets/img/flags/",n.context.$implicit.lan.from,".png")),l(n,6,0,u["\u0275inlineInterpolate"](1,"/assets/img/flags/",n.context.$implicit.lan.to,".png")),l(n,8,0,n.context.$implicit.book),l(n,10,0,u["\u0275unv"](n,10,0,l(n,11,0,u["\u0275nov"](n.parent.parent,0),n.context.$implicit.points)))})}function On(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,19,"table",[["class","table table-hover"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,7,"thead",[],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,0,"th",[],null,null,null,null,null)),(l()(),u["\u0275eld"](4,0,null,null,0,"th",[],null,null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](6,null,["",""])),(l()(),u["\u0275eld"](7,0,null,null,1,"th",[["class","text-right"]],null,null,null,null,null)),(l()(),u["\u0275ted"](8,null,["",""])),(l()(),u["\u0275eld"](9,0,null,null,10,"tbody",[],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,kn)),u["\u0275did"](11,802816,null,0,r.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),u["\u0275eld"](12,0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),u["\u0275eld"](13,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),u["\u0275eld"](14,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),u["\u0275eld"](15,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),u["\u0275eld"](16,0,null,null,3,"td",[["class","text-right nr success"]],null,null,null,null,null)),(l()(),u["\u0275eld"](17,0,null,null,2,"div",[["class","total"]],null,null,null,null,null)),(l()(),u["\u0275ted"](18,null,[" "," "])),u["\u0275ppd"](19,1)],function(l,n){l(n,11,0,n.component.bookScores)},function(l,n){var e=n.component;l(n,6,0,e.text.Book),l(n,8,0,e.text.Points),l(n,18,0,u["\u0275unv"](n,18,0,l(n,19,0,u["\u0275nov"](n.parent,0),e.bookTotal)))})}function In(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,1,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),u["\u0275ted"](2,null,["","."])),(l()(),u["\u0275eld"](3,0,null,null,3,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),u["\u0275eld"](4,0,null,null,0,"img",[["class","flag"]],[[8,"src",4]],null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,null,0,"span",[["class","fa fa-arrow-right flag-from"]],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,0,"img",[["class","flag"]],[[8,"src",4]],null,null,null,null)),(l()(),u["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u["\u0275ted"](8,null,["",""])),(l()(),u["\u0275eld"](9,0,null,null,2,"td",[["class","text-right nr"]],null,null,null,null,null)),(l()(),u["\u0275ted"](10,null,["",""])),u["\u0275ppd"](11,1)],null,function(l,n){l(n,2,0,n.context.index+1),l(n,4,0,u["\u0275inlineInterpolate"](1,"/assets/img/flags/",n.context.$implicit.lan.from,".png")),l(n,6,0,u["\u0275inlineInterpolate"](1,"/assets/img/flags/",n.context.$implicit.lan.to,".png")),l(n,8,0,n.context.$implicit.course),l(n,10,0,u["\u0275unv"](n,10,0,l(n,11,0,u["\u0275nov"](n.parent.parent,0),n.context.$implicit.points)))})}function Pn(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,19,"table",[["class","table table-hover"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,7,"thead",[],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,0,"th",[],null,null,null,null,null)),(l()(),u["\u0275eld"](4,0,null,null,0,"th",[],null,null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](6,null,["",""])),(l()(),u["\u0275eld"](7,0,null,null,1,"th",[["class","text-right"]],null,null,null,null,null)),(l()(),u["\u0275ted"](8,null,["",""])),(l()(),u["\u0275eld"](9,0,null,null,10,"tbody",[],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,In)),u["\u0275did"](11,802816,null,0,r.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),u["\u0275eld"](12,0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),u["\u0275eld"](13,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),u["\u0275eld"](14,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),u["\u0275eld"](15,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),u["\u0275eld"](16,0,null,null,3,"td",[["class","text-right nr success"]],null,null,null,null,null)),(l()(),u["\u0275eld"](17,0,null,null,2,"div",[["class","total"]],null,null,null,null,null)),(l()(),u["\u0275ted"](18,null,[" "," "])),u["\u0275ppd"](19,1)],function(l,n){l(n,11,0,n.component.courseScores)},function(l,n){var e=n.component;l(n,6,0,e.text.Course),l(n,8,0,e.text.Points),l(n,18,0,u["\u0275unv"](n,18,0,l(n,19,0,u["\u0275nov"](n.parent,0),e.courseTotal)))})}function Nn(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"km-loader",[],null,null,null,dn.b,dn.a)),u["\u0275did"](1,114688,null,0,pn.a,[],{msg:[0,"msg"],showBackground:[1,"showBackground"]},null)],function(l,n){l(n,1,0,"",!1)},null)}function Tn(l){return u["\u0275vid"](0,[u["\u0275pid"](0,fn.a,[]),(l()(),u["\u0275eld"](1,0,null,null,8,"div",[["class","panel panel-default rank transparant"]],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,7,"div",[["class","panel-body"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onShowRankings(u["\u0275nov"](l,32))&&t),t},null,null)),(l()(),u["\u0275eld"](3,0,null,null,0,"img",[["class","img"]],[[8,"src",4]],null,null,null,null)),(l()(),u["\u0275eld"](4,0,null,null,5,"span",[["class","text"]],null,null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,null,1,"span",[["class","name"]],null,null,null,null,null)),(l()(),u["\u0275ted"](6,null,["",""])),(l()(),u["\u0275eld"](7,0,null,null,2,"span",[["class","score"]],null,null,null,null,null)),(l()(),u["\u0275ted"](8,null,["",""])),u["\u0275ppd"](9,1),(l()(),u["\u0275eld"](10,0,null,null,6,"div",[["class","panel panel-default trophies transparant"]],null,null,null,null,null)),(l()(),u["\u0275eld"](11,0,null,null,2,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),u["\u0275eld"](12,0,null,null,0,"span",[["class","fa fa-trophy fa-spacing-title"]],null,null,null,null,null)),(l()(),u["\u0275ted"](13,null,[""," "])),(l()(),u["\u0275eld"](14,0,null,null,2,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,Mn)),u["\u0275did"](16,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),u["\u0275eld"](17,0,null,null,6,"div",[["class","panel panel-default transparant books"]],null,null,null,null,null)),(l()(),u["\u0275eld"](18,0,null,null,2,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),u["\u0275eld"](19,0,null,null,0,"span",[["class","fa fa-star fa-spacing-title"]],null,null,null,null,null)),(l()(),u["\u0275ted"](20,null,[""," "])),(l()(),u["\u0275eld"](21,0,null,null,2,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,On)),u["\u0275did"](23,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),u["\u0275eld"](24,0,null,null,6,"div",[["class","panel panel-default transparant"]],null,null,null,null,null)),(l()(),u["\u0275eld"](25,0,null,null,2,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),u["\u0275eld"](26,0,null,null,0,"span",[["class","fa fa-star fa-spacing-title"]],null,null,null,null,null)),(l()(),u["\u0275ted"](27,null,[""," "])),(l()(),u["\u0275eld"](28,0,null,null,2,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,Pn)),u["\u0275did"](30,16384,null,0,r.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),u["\u0275eld"](31,0,null,null,1,"km-modal-ranks",[],null,null,null,gn.b,gn.a)),u["\u0275did"](32,114688,[["ranksModal",4]],0,mn.a,[f.a,d.a],{rank:[0,"rank"],text:[1,"text"]},null),(l()(),u["\u0275eld"](33,0,null,null,1,"km-modal-trophies",[],null,null,null,Cn,hn)),u["\u0275did"](34,638976,[["trophiesModal",4]],0,vn,[],{trophies:[0,"trophies"],text:[1,"text"]},null),(l()(),u["\u0275and"](0,[["loading",2]],null,0,null,Nn))],function(l,n){var e=n.component;l(n,16,0,!e.loadingTrophies,u["\u0275nov"](n,35)),l(n,23,0,!e.loadingBookScores,u["\u0275nov"](n,35)),l(n,30,0,!e.loadingCourseScores,u["\u0275nov"](n,35)),l(n,32,0,e.rank,e.text),l(n,34,0,e.trophies,e.text)},function(l,n){var e=n.component;l(n,3,0,u["\u0275inlineInterpolate"](1,"/assets/img/ranks/rank",e.rank,"_64.png")),l(n,6,0,e.text["rank"+e.rank+e.gender]),l(n,8,0,u["\u0275unv"](n,8,0,l(n,9,0,u["\u0275nov"](n,0),e.courseTotal+e.bookTotal))),l(n,13,0,e.text.Trophies),l(n,20,0,e.text.ScoreOverviewBooks),l(n,27,0,e.text.ScoreOverviewCourses)})}var Fn=u["\u0275ccf"]("ng-component",yn,function(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,Tn,wn)),u["\u0275did"](1,245760,null,0,yn,[f.a,d.a,p.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),An=e("cVNn"),_n=e("t/Na"),Dn=e("ZYjt"),En=e("7mek"),Vn=e("d2mR"),Ln=e("ytin");e.d(n,"UserModuleNgFactory",function(){return $n});var $n=u["\u0275cmf"](t,[],function(l){return u["\u0275mod"]([u["\u0275mpd"](512,u.ComponentFactoryResolver,u["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,I,fl,Cl,an,Fn,An.a]],[3,u.ComponentFactoryResolver],u.NgModuleRef]),u["\u0275mpd"](4608,r.NgLocalization,r.NgLocaleLocalization,[u.LOCALE_ID,[2,r["\u0275angular_packages_common_common_a"]]]),u["\u0275mpd"](4608,_n.j,_n.p,[r.DOCUMENT,u.PLATFORM_ID,_n.n]),u["\u0275mpd"](4608,_n.q,_n.q,[_n.j,_n.o]),u["\u0275mpd"](5120,_n.a,function(l){return[l]},[_n.q]),u["\u0275mpd"](4608,_n.m,_n.m,[]),u["\u0275mpd"](6144,_n.k,null,[_n.m]),u["\u0275mpd"](4608,_n.i,_n.i,[_n.k]),u["\u0275mpd"](6144,_n.b,null,[_n.i]),u["\u0275mpd"](4608,_n.f,_n.l,[_n.b,u.Injector]),u["\u0275mpd"](4608,_n.c,_n.c,[_n.f]),u["\u0275mpd"](4608,gl.A,gl.A,[]),u["\u0275mpd"](4608,f.a,f.a,[_n.c,Dn.h]),u["\u0275mpd"](4608,gl.f,gl.f,[]),u["\u0275mpd"](4608,Kl.a,Kl.a,[]),u["\u0275mpd"](1073742336,r.CommonModule,r.CommonModule,[]),u["\u0275mpd"](1073742336,_n.e,_n.e,[]),u["\u0275mpd"](1073742336,_n.d,_n.d,[]),u["\u0275mpd"](1073742336,gl.y,gl.y,[]),u["\u0275mpd"](1073742336,gl.k,gl.k,[]),u["\u0275mpd"](1073742336,En.TooltipModule,En.TooltipModule,[]),u["\u0275mpd"](1073742336,Vn.a,Vn.a,[]),u["\u0275mpd"](1073742336,h.o,h.o,[[2,h.t],[2,h.l]]),u["\u0275mpd"](1073742336,gl.u,gl.u,[]),u["\u0275mpd"](1073742336,t,t,[]),u["\u0275mpd"](256,_n.n,"XSRF-TOKEN",[]),u["\u0275mpd"](256,_n.o,"X-XSRF-TOKEN",[]),u["\u0275mpd"](1024,h.j,function(){return[[{path:"",redirectTo:"profile",pathMatch:"full"},{path:"notifications",component:v},{path:"notifications/:notificationId",component:v},{path:"messages",component:B},{path:"messages/:messageId",component:B},{path:"profile",component:ml},{path:"settings",component:Zl},{path:"score",component:yn},{path:"/u/*",component:Ln.a}]]},[])])})}}]);